(this.webpackJsonpcuboard=this.webpackJsonpcuboard||[]).push([[0],{135:function(e){e.exports=JSON.parse('{"title":"NEWFILLEDLAYOUT","author":"Webb Hinton","added":"2021-11-30T05:00:00.000Z","id":"NEWFILLEDLAYOUT_11/30/2021 14:00:20","sourceLayout":{"layout":{"lg":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"md":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"sm":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"xs":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"xxs":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}]},"layoutSettings":{"cardSettings":[],"gridSettings":{"defaultBackgroundColor":"red"}},"widgets":[{"id":"clock","contentType":"widget","isActive":false},{"id":"clock","contentType":"widget","isActive":false}]},"layout":{"lg":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"md":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"sm":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"xs":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"xxs":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}]},"layoutWidgets":[{"id":"clock","contentType":"widget","isActive":false}]}')},143:function(e,t,a){},144:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},235:function(e,t,a){},253:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n,o,r,i,c,l,s=a(0),u=a.n(s),d=a(17),f=(a(143),a(144),a(137)),m=a(323),h=a(316),v=a(11);!function(e){e.DISPLAY="DISPLAY",e.EDIT="EDIT",e.CYCLE="CYCLE"}(n||(n={})),function(e){e.GRID="GRID",e.PREVIEW="PREVIEW",e.FULL_SCREEN="FULL_SCREEN"}(o||(o={})),function(e){e.CARD_TABLE_DATA="CARD_TABLE_DATA",e.DISPLAY_CARD="DISPLAY_CARD"}(r||(r={})),function(e){e.ACTIVE="ACTIVE",e.STATIC="STATIC",e.FIXED="FIXED",e.IMAGE="IMAGE"}(i||(i={})),function(e){e.PLACEHOLDER="PLACEHOLDER",e.CLOCK="CLOCK",e.IFRAME="IFRAME",e.CARD_ROW="CARD_ROW",e.LAYOUT="LAYOUT",e.WIDGET="WIDGET"}(c||(c={})),function(e){e.LAYOUT_TABLE="LAYOUT_TABLE",e.CARD_TABLE="CARD_TABLE",e.CARD_GRID="CARD_GRID",e.WIDGETS_TABLE="WIDGETS_TABLE"}(l||(l={}));var p=a(15),g=Object(p.e)(),y=g.useStoreActions,b=(g.useStoreDispatch,g.useStoreState);var E=function(){var e=y((function(e){return e.appModel.toggleAppMode})),t=b((function(e){return e.appModel.rotationSpeed})),a=b((function(e){return e.appModel.rotateLayouts})),n=y((function(e){return e.appModel.setRotationSpeed})),o=y((function(e){return e.appModel.setRotateLayouts})),r=y((function(e){return e.appModel.addAppError}));return{appMode:b((function(e){return e.appModel.appMode})),rotationSpeed:t,setRotationSpeed:n,toggleAppMode:e,rotateLayouts:a,setRotateLayouts:o,addAppError:r}},w=function(){var e=b((function(e){return e.appModel.activeCards})),t=b((function(e){return e.appModel.activeWidgets})),a=y((function(e){return e.layoutsModel.swapCardContent})),n=y((function(e){return e.layoutsModel.addWidget})),o=y((function(e){return e.layoutsModel.deleteCard})),r=y((function(e){return e.layoutsModel.addCard})),i=y((function(e){return e.layoutsModel.setBufferLayout})),c=b((function(e){return e.layoutsModel.activeLayout})),l=y((function(e){return e.layoutsModel.setRandomLayout}));return{activeCards:e,activeWidgets:t,setBufferLayout:i,activeLayout:c,deleteCard:o,addCard:r,swapCard:a,addWidget:n,setActiveLayout:y((function(e){return e.layoutsModel.setActiveLayout})),setRandomLayout:l,clearCards:y((function(e){return e.layoutsModel.clearCards})),resetLayout:y((function(e){return e.layoutsModel.resetLayout}))}};function x(e,t){Object(s.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])}function O(e,t,a){var n=Object(s.useRef)();Object(s.useEffect)((function(){var o=(null===a||void 0===a?void 0:a.current)||window;if(o&&o.addEventListener){n.current!==t&&(n.current=t);var r=function(e){(null===n||void 0===n?void 0:n.current)&&n.current(e)};return o.addEventListener(e,r),function(){o.removeEventListener(e,r)}}}),[e,a,t])}function S(){var e=Object(s.useState)(null),t=Object(v.a)(e,2),a=t[0],n=t[1],o=Object(s.useState)({width:0,height:0}),r=Object(v.a)(o,2),i=r[0],c=r[1],l=Object(s.useCallback)((function(){c({width:(null===a||void 0===a?void 0:a.offsetWidth)||0,height:(null===a||void 0===a?void 0:a.offsetHeight)||0})}),[null===a||void 0===a?void 0:a.offsetHeight,null===a||void 0===a?void 0:a.offsetWidth]);return O("resize",l),Object(s.useLayoutEffect)((function(){l()}),[null===a||void 0===a?void 0:a.offsetHeight,null===a||void 0===a?void 0:a.offsetWidth]),[n,i]}function C(){var e=Object(s.useState)({width:0,height:0}),t=Object(v.a)(e,2),a=t[0],n=t[1],o=function(){n({width:window.innerWidth,height:window.innerHeight})};return O("resize",o),Object(s.useLayoutEffect)((function(){o()}),[]),a}a(149);var L=a(23),j=a.n(L),A=a(30),D={uniforms:{time:{value:0}},vertexShader:"\n    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n  \n    float snoise(vec2 v) {\n        const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                            0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                            -0.577350269189626,  // -1.0 + 2.0 * C.x\n                            0.024390243902439); // 1.0 / 41.0\n        vec2 i  = floor(v + dot(v, C.yy) );\n        vec2 x0 = v -   i + dot(i, C.xx);\n        vec2 i1;\n        i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n        vec4 x12 = x0.xyxy + C.xxzz;\n        x12.xy -= i1;\n        i = mod289(i); // Avoid truncation effects in permutation\n        vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n            + i.x + vec3(0.0, i1.x, 1.0 ));\n  \n        vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n        m = m*m ;\n        m = m*m ;\n        vec3 x = 2.0 * fract(p * C.www) - 1.0;\n        vec3 h = abs(x) - 0.5;\n        vec3 ox = floor(x + 0.5);\n        vec3 a0 = x - ox;\n        m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n        vec3 g;\n        g.x  = a0.x  * x0.x  + h.x  * x0.y;\n        g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n        return 130.0 * dot(m, g);\n    }\n  \n  \n    \n  \n    uniform float u_time;\n    uniform vec2 u_randomisePosition;\n  \n    varying float vDistortion;\n    varying float xDistortion;\n    varying vec2 vUv;\n  \n    void main() {\n        vUv = uv;\n        vDistortion = snoise(vUv.xx * 3. - u_randomisePosition * 0.15);\n        xDistortion = snoise(vUv.yy * 1. - u_randomisePosition * 0.05);\n        vec3 pos = position;\n        pos.z += (vDistortion * 35.);\n        pos.x += (xDistortion * 25.);\n  \n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    }\n    ",fragmentShader:"\n    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n  \n    float snoise(vec2 v) {\n        const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                            0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                            -0.577350269189626,  // -1.0 + 2.0 * C.x\n                            0.024390243902439); // 1.0 / 41.0\n        vec2 i  = floor(v + dot(v, C.yy) );\n        vec2 x0 = v -   i + dot(i, C.xx);\n        vec2 i1;\n        i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n        vec4 x12 = x0.xyxy + C.xxzz;\n        x12.xy -= i1;\n        i = mod289(i); // Avoid truncation effects in permutation\n        vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n            + i.x + vec3(0.0, i1.x, 1.0 ));\n  \n        vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n        m = m*m ;\n        m = m*m ;\n        vec3 x = 2.0 * fract(p * C.www) - 1.0;\n        vec3 h = abs(x) - 0.5;\n        vec3 ox = floor(x + 0.5);\n        vec3 a0 = x - ox;\n        m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n        vec3 g;\n        g.x  = a0.x  * x0.x  + h.x  * x0.y;\n        g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n        return 130.0 * dot(m, g);\n    }\n  \n  \n  \n  \n  \n    vec3 rgb(float r, float g, float b) {\n      return vec3(r / 255., g / 255., b / 255.);\n  }\n  \n  vec3 rgb(float c) {\n      return vec3(c / 255., c / 255., c / 255.);\n  }\n  \n  uniform vec3 u_bg;\n  uniform vec3 u_bgMain;\n  uniform vec3 u_color1;\n  uniform vec3 u_color2;\n  uniform float u_time;\n  \n  varying vec2 vUv;\n  varying float vDistortion;\n  \n  void main() {\n      vec3 bg = rgb(u_bg.r, u_bg.g, u_bg.b);\n      vec3 c1 = rgb(u_color1.r, u_color1.g, u_color1.b);\n      vec3 c2 = rgb(u_color2.r, u_color2.g, u_color2.b);\n      vec3 bgMain = rgb(u_bgMain.r, u_bgMain.g, u_bgMain.b);\n  \n      float noise1 = snoise(vUv + u_time * 0.08);\n      float noise2 = snoise(vUv * 2. + u_time * 0.1);\n  \n      vec3 color = bg;\n      color = mix(color, c1, noise1 * 0.6);\n      color = mix(color, c2, noise2 * .4);\n  \n      color = mix(color, mix(c1, c2, vUv.x), vDistortion);\n  \n      float border = smoothstep(0.1, 0.6, vUv.x);\n  \n      color = mix(color, bgMain, 1. -border);\n  \n      gl_FragColor = vec4(color, 1.0);\n  }\n    "},I=a(301),k=a(324),T=a(13);function R(e){if(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear().toString().slice(2);return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[a,n,o].join(".")}return"faulty date"}function M(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function N(e,t){return Math.random()*(t-e)+e}var _=new T.Vector2(1,2);function P(e,t,a){return new T.Vector3(e,t,a)}var W={pink:P(182,9,76),brightPink:P(241,3,66),darkPurple:P(42,8,56),orange:P(244,93,31),darkgrey:P(50,50,50),lightgrey:P(150,150,150),red:P(204,0,0)},U={u_bg:{type:"v3",value:W.lightgrey},u_bgMain:{type:"v3",value:W.lightgrey},u_color1:{type:"v3",value:W.lightgrey},u_color2:{type:"v3",value:W.lightgrey},u_time:{type:"f",value:0},u_randomisePosition:{type:"v2",value:_}},G=function(e){var t=e.position,a=Object(s.useRef)(),n=0,o=0,r=M(0,32),i=M(0,32),c=!1;return Object(A.b)((function(e){e.clock;a.current.uniforms.u_randomisePosition.value=new T.Vector2(o,o),a.current.uniforms.u_color1.value=new T.Vector3(function(e,t,a){return Math.floor(192+64*Math.cos((e*e-t*t)/300+a))}(r,i,n/2),function(e,t,a){return Math.floor(192+64*Math.sin((e*e*Math.cos(a/4)+t*t*Math.sin(a/3))/300))}(r,i,n/2),function(e,t,a){return Math.floor(192+64*Math.sin(5*Math.sin(a/9)+((e-100)*(e-100)+(t-100)*(t-100))/1100))}(r,i,n/2)),a.current.uniforms.u_time.value=n,n%.1===0&&(!1===c?(r-=1)<=0&&(c=!0):(r+=1)>=32&&(c=!1)),o+=.01,n+=.01})),u.a.createElement("mesh",{position:t,rotation:[T.MathUtils.degToRad(0),T.MathUtils.degToRad(0),T.MathUtils.degToRad(90)]},u.a.createElement("planeGeometry",{attach:"geometry",args:[400,window.innerWidth/2,45,45]}),u.a.createElement("shaderMaterial",{attach:"material",vertexShader:D.vertexShader,fragmentShader:D.fragmentShader,uniforms:U,ref:a}))},V=function(){var e=Object(s.useRef)();return u.a.createElement(A.a,{gl:{antialias:!1,alpha:!1}},u.a.createElement(I.a,{ref:e,position:[0,0,0],fov:75,aspect:window.innerWidth/window.innerHeight,near:.1,far:1e3}),u.a.createElement(G,{position:[0,0,-100],faceResolution:100}),u.a.createElement(k.a,null))},B=a(24),z=a.n(B),F=function(){var e=b((function(e){return e.appModel.appMode})),t=Object(s.useState)({x:window.innerWidth,y:window.innerHeight}),a=Object(v.a)(t,2),o=(a[0],a[1],Object(s.useState)({backgroundColor:"gray"})),r=Object(v.a)(o,2),i=r[0],c=r[1];Object(s.useEffect)((function(){var t=e==n.EDIT;c({position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:t?"white":"gray",transition:"background-color 0.5s ease"})}),[e]);var l=j()("background-container",{"background-container-display-mode":e==n.DISPLAY,"background-container-edit-mode":e==n.EDIT});return z.a.createPortal(u.a.createElement("div",{style:i,className:l},e===n.EDIT?u.a.createElement("div",{style:{position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:"lightgrey",transition:"background-color 0.5s ease"}}):u.a.createElement("div",{className:"background-container"},u.a.createElement("div",{className:"shader-container"},u.a.createElement(V,null)),u.a.createElement("div",{className:"particle-container"}))),document.querySelector("#background"))},Y=u.a.memo(F),H=(a(98),a(151),a(62)),J={idleTime:1e7,sheetLink:"https://docs.google.com/spreadsheets/d/1BR1AQ5Zmt_o_0dOm9AvDht0G3Q6RXQUhX71Vi4H7tTU/edit#gid=0",defaultIframeScale:.5,defaultEmbedScale:1,defaultLayoutName:"Poster2",formLink:"https://forms.gle/nc3UQFtFUtSaF5mu6",widgetIds:["clock","group label","info"],gridRows:6,gridCols:4,showModeSwitchButton:!1,useStaticLayout:!1,gridBottomPadding:50,rotationDuration:1e5},K=a(25),X=a(61),q=(a(164),a(165),a(302)),Q=function(){return u.a.createElement("div",{className:"pulsar"},u.a.createElement(q.a,{size:200}))},Z=["children","className","cardType"],$=function(e){var t=e.children,a=e.className,n=(e.cardType,Object(K.a)(e,Z));return u.a.createElement(X.c,Object.assign({},n,{type:"DEFAULT"}),(function(e,n){return u.a.createElement("div",Object.assign({},e.innerRef,{ref:e.innerRef,className:n.isDraggingOver?"droppable-hovered "+a:"droppable "+a}),u.a.createElement("div",{className:n.isDraggingOver?"droppable-overlay droppable-overlay-visible":"droppable-overlay droppable-overlay-hidden"},u.a.createElement(Q,null)),t,e.placeholder)}))},ee=a(1),te=a(3),ae=a(4),ne=a(5),oe=(a(235),a(131)),re=a.n(oe),ie=function(e){var t=e.card,a=e.scale,n=e.cardView,r=e.onError,i=e.onLoad,c=Object(s.useState)(!1),l=Object(v.a)(c,2),d=l[0],f=l[1],m=Object(s.useState)(!0),h=Object(v.a)(m,2),p=h[0],g=(h[1],Object(s.useState)(!1)),y=Object(v.a)(g,2),b=y[0],E=y[1],w=(j()("iframe-view-overlay",{"iframe-view-overlay-hidden":b,"iframe-view-overlay-loading":!b}),j()("iframe-container",{"iframe-container-hidden":!p}));Object(s.useEffect)((function(){console.log(n)}),[n]);var x={border:"none",transform:"scale(".concat(a,")"),width:"".concat(1/a*100,"%"),height:"".concat(1/a*100,"%"),transformOrigin:"top left"},O=t.src,S=t.contentType;return u.a.createElement("div",{className:w,onDoubleClick:function(){f(!d)}},"video"===S?u.a.createElement(le,{onReady:function(e){E(!0)},src:t.src}):"image"===S?u.a.createElement("img",{onLoad:function(e){i(e,t)},onError:function(e){r(e,t)},src:O,style:{width:"100%",height:"100%",objectFit:n===o.PREVIEW?"contain":"cover",objectPosition:n===o.PREVIEW?"contain":"center"}}):u.a.createElement("iframe",{onLoad:function(e){E(!0)},src:O,style:d?{width:"100%",height:"100%",border:"5px blue"}:x}))},ce=u.a.memo(ie),le=function(e){var t=e.src,a=e.onReady;return u.a.createElement("div",{className:"player-wrapper"},u.a.createElement(re.a,{className:"react-player",controls:!0,height:"100%",muted:!0,onReady:a,playing:!0,url:t,width:"100%"}))},se=(u.a.PureComponent,a(253),a(318)),ue=(a(132),a(319)),de=function(e){var t=e.onClick,a=e.text,n=e.appearance,o=e.className,r=e.iconBefore,i=e.width,c=e.height,l=e.style,s=e.containerClass,d=e.fontSize,f=e.intent;return u.a.createElement("div",{className:s,onMouseUp:t,style:{width:i,height:"100%"}},u.a.createElement(ue.a,{appearance:null!==n&&void 0!==n?n:"default",className:o,cursor:"pointer",fontSize:d,height:null!==c&&void 0!==c?c:void 0,iconBefore:null!==r&&void 0!==r?r:void 0,intent:null!==f&&void 0!==f?f:"none",style:l,width:null!==i&&void 0!==i?i:void 0},a))},fe=(a(261),function(e){var t=e.data,a=(e.className,Object(s.useState)(!1)),n=Object(v.a)(a,2);n[0],n[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"card-footer"},u.a.createElement("h2",{style:{}},t.title),u.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&apos standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book"," ")))}),me=(a(262),a(303)),he=function(e){var t=e.onClick;e.action;return u.a.createElement("div",{className:"delete-button-container",onMouseUp:t,onClick:t,onTouchEnd:function(e){}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(me.a,{size:30})))},ve=(a(263),a(304)),pe=function(e){var t=e.onClick;Object(s.useRef)();return u.a.createElement("div",{className:"settings-button-container",onMouseUp:t},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(ve.a,{size:15})))},ge=(a(264),a(305)),ye=a(306),be=function(e){var t=e.title,a=e.children;return u.a.createElement("div",{className:"menu-input-row"},t,a)},Ee=function(e){var t=e.setScale,a=e.scale;return u.a.createElement("div",{className:"scale-controls-grid"},u.a.createElement(de,{containerClass:"scale-controls-left",height:20,iconBefore:u.a.createElement(ge.a,{size:30}),onClick:function(){t(-.1)},width:20}),u.a.createElement("input",{onChange:function(e){t(parseInt(e.target.value))},style:{width:30},defaultValue:.5,type:"text",value:a.toString().slice(0,3)}),u.a.createElement(de,{containerClass:"scale-controls-right",height:20,iconBefore:u.a.createElement(ye.a,{size:30}),onClick:function(){t(.1)},width:20}))},we=function(e){var t=e.isShown,a=e.setScale,n=e.setBackgroundColor,o=e.setShowMenu,r=e.scale,i=Object(s.useRef)(null),c=x(i,(function(){o(!1)})),l={display:t?"flex":"none"};return u.a.createElement("div",Object.assign({className:"menu-container",ref:i,style:l},c),u.a.createElement(be,{title:"Background Color:"},u.a.createElement("input",{className:"nodrag",defaultValue:"rbga(0,0,0,0)",onChange:function(e){n(e.target.value)},type:"color"})),u.a.createElement(be,{title:"Scale: "},u.a.createElement(Ee,{scale:r,setScale:a})))},xe=a(317),Oe=function(e){var t=e.cardType,a=e.children,r=e.cardId,i=e.data,l=e.onClick,d=e.useAnimation,f=Object(s.useRef)(null),m=E(),h=m.appMode,g=m.addAppError,y=w().deleteCard,b=Object(s.useState)(o.GRID),O=Object(v.a)(b,2),S=O[0],C=O[1],L=Object(s.useState)(!1),A=Object(v.a)(L,2),D=(A[0],A[1]),I=Object(s.useState)(!1),k=Object(v.a)(I,2),T=(k[0],k[1]),R=Object(s.useState)(),M=Object(v.a)(R,2),_=M[0],P=M[1],W=Object(p.i)((function(){return{cardView:o.GRID,setCardView:Object(p.b)((function(e,t){e.cardView=t})),scale:"embed"===(null===i||void 0===i?void 0:i.contentType)?J.defaultEmbedScale:J.defaultIframeScale,setScale:Object(p.b)((function(e,t){e.scale+=t})),cardBackgroundColor:"",setBackgroundColor:Object(p.b)((function(e,t){e.cardBackgroundColor=t})),setShowMenu:Object(p.b)((function(e,t){e.showMenu=t})),toggleMenu:Object(p.b)((function(e){e.showMenu=!e.showMenu})),showMenu:!1,cardType:t,cardClass:Object(p.c)([function(e){return e.cardView}],(function(e){return j()("card",{"card-edit":h===n.EDIT,"card-display":h===n.DISPLAY&&e==o.GRID,"card-preview":e===o.PREVIEW,"card-fullscreen":e===o.FULL_SCREEN,"card-empty":h===n.EDIT&&!a,"card-empty-hidden":!a&&h==n.DISPLAY,"card-locked":G.cardType===c.CLOCK&&h===n.EDIT})})),cardInfoClass:Object(p.c)((function(e){return j()("info",{"info-hidden":h===n.EDIT,"info-display":h===n.DISPLAY,"info-preview":e.cardView===o.PREVIEW})})),handleCardPress:Object(p.g)((function(e,t,a){var c,l=a.getState,s=document.getElementById("root");if((s.style.pointerEvents="all")&&(s.style.pointerEvents="none"),setTimeout((function(){s.style.pointerEvents="all"}),1e3),h===n.DISPLAY&&void 0!=r)switch(l().cardView){case o.GRID:var u;if("widget"!==(null===i||void 0===i?void 0:i.contentType))e.setCardView(o.PREVIEW),console.log("SETTING CARD VIEW TO PREVIEW"),document.getElementById(null!==(u=null===i||void 0===i?void 0:i.id)&&void 0!==u?u:"view_card").style.zIndex="1000";break;case o.PREVIEW:e.setCardView(o.GRID),document.getElementById(null!==(c=null===i||void 0===i?void 0:i.id)&&void 0!==c?c:"view_card").style.zIndex="0"}}))}}),[h],(function(e){return{devTools:!1}})),U=Object(v.a)(W,2),G=U[0],V=U[1],B={scale:G.scale,setScale:V.setScale,setBackgroundColor:V.setBackgroundColor,setShowMenu:V.setShowMenu},z=j()("card-modal-backdrop",{"card-modal-backdrop-active":S===o.PREVIEW||S===o.FULL_SCREEN,"card-modal-backdrop-inactive":S===o.GRID}),F=j()("card-child-container",{"card-child-container-preview":G.cardView===o.PREVIEW,"card-child-container-fullscreen":G.cardView===o.FULL_SCREEN,"card-child-container-grid":G.cardView===o.GRID}),Y=function(e){var t=e.keyCode,a=e.action,n=e.disabled;u.a.useEffect((function(){return n||o(),function(){r()}}));var o=function(){document.addEventListener("keydown",i)},r=function(){document.removeEventListener("keydown",i)},i=function(e){e.keyCode===t&&(e.preventDefault(),a(e))};return{enable:o,disable:r}}({keyCode:27,action:function(){S!==o.FULL_SCREEN&&S!==o.PREVIEW||C(o.GRID)},disabled:!1}),H=(Y.enable,Y.disable,function(){if(h==n.EDIT&&i)return u.a.createElement(u.a.Fragment,null,u.a.createElement(he,{onClick:function(){console.log("got delete button click"),y(i.id)},action:function(){y(i.id)}}),u.a.createElement(pe,{onClick:function(e){V.toggleMenu()}}))}),K=function(){if(S===o.PREVIEW&&i&&"widget"!==i.contentType)return u.a.createElement(fe,{className:G.cardInfoClass,data:i})},X=Object(s.useRef)(null);x(X,(function(e){e.preventDefault(),console.log("clicked outside"),G.cardView==o.PREVIEW&&V.setCardView(o.GRID)}));var q=function(e,t){console.log(e);var a=t.title,n=t.src;g({errorType:"failed to load content",description:"description",source:"Card: ".concat(a),link:n}),D(!0)},Q=function(e,t){ae("loaded"),T(!0)};Object(s.useEffect)((function(){if(f.current){var e,t,a,n=null===(e=f.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.parentElement;if(n)n.id=null!==(a=null===i||void 0===i?void 0:i.id)&&void 0!==a?a:"view_card"}}),[]);Object(s.useMemo)((function(){if(f.current){var e=f.current.getBoundingClientRect();return console.log(Se(e)),Se(e)}}),[G.cardView]);Object(s.useEffect)((function(){console.log(G.cardView),G.cardView===o.PREVIEW&&ae("preview"),G.cardView===o.GRID&&ae("none")}),[G.cardView]);var Z={active:{opacity:1,transition:{delay:N(.4,.5),duration:.5}},preview:{opacity:1,transition:{duration:.2}},normal:{opacity:1},none:{opacity:1,x:0,y:0},error:{opacity:[1,0],backgroundColor:"red"},loaded:{outline:["0px solid green","4px solid green","0px solid green"],opacity:[0,1,1],transition:{delay:N(.4,.5),duration:.5},x:0,y:0},in:{opacity:[0,1],transition:{duration:.5}},out:{y:N(-50,50),opacity:[1,0],transition:{delay:N(.4,1.5),duration:.5}}},$=Object(s.useState)("none"),ee=Object(v.a)($,2),te=ee[0],ae=ee[1];return Object(s.useEffect)((function(){a&&(d?(ae("out"),setTimeout((function(){ae("in"),P(a(G.scale,G.cardView,q,Q))}),500)):(ae("none"),P(a(G.scale,G.cardView,q,Q))))}),[a]),u.a.createElement(u.a.Fragment,null,u.a.createElement(xe.a.div,{exit:{opacity:0,x:-300},ref:f,layoutId:"viewcard",className:G.cardClass,style:{transformOrigin:"center",willChange:"transform",height:"100%",backgroundColor:G.cardBackgroundColor},initial:h!==n.EDIT,variants:Z,animate:te},a&&u.a.createElement("div",{className:z},u.a.createElement("div",{className:F,onMouseUp:function(){V.handleCardPress(),l&&l()},ref:X},"widget"!==(null===i||void 0===i?void 0:i.contentType)?[H(),K()]:[H()],_,u.a.createElement(we,Object.assign({},B,{isShown:G.showMenu}))),function(){if(S===o.FULL_SCREEN)return u.a.createElement(Ce,{onClick:function(){C(o.GRID)}})}())))},Se=function(e){var t=window.innerWidth,a=window.innerHeight,n=(window.innerWidth,window.innerWidth,t/2-1.5*e.width/2),o=a/2-1.5*e.height/2,r=e.x,i=e.y,c=n-r,l=o-i;return n<r&&(c=r-n,c*=-1),o<i&&(l=i-o,l*=-1),[c,l]},Ce=function(e){var t=e.onClick;return u.a.createElement("div",{className:"return-button-container"},u.a.createElement(de,{onClick:t,text:"Return",width:300}))};var Le=u.a.memo(Oe),je=function(e){var t=e.gridSettings,a=Object(H.WidthProvider)(H.Responsive),n=function(e,t){for(var a=[],n=0;n<e;n++)for(var o=0;o<t;o++)a.push({x:o,y:n});var r=a.map((function(e){return{x:e.x,y:e.y,w:1,h:1,i:"empty_card_[".concat(e.x,", ").concat(e.y,"]"),minW:1,maxW:1,minH:1,maxH:1,static:!1,isDraggable:!1,isResizable:!1,resizeHandles:[]}}));return{lg:r,md:r,sm:r,xs:r,xxs:r}}(J.gridRows,J.gridCols),o=n.lg.map((function(e){return e.i}));return u.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}},u.a.createElement(a,Object.assign({},t,{className:"card-layout",layouts:n,resizeHandles:[],preventCollision:!0,isDraggable:!1,isResizable:!1}),o.map((function(e,t){return u.a.createElement("div",{key:e},u.a.createElement($,{key:t,droppableId:e,cardType:c.PLACEHOLDER,className:"droppable-guide"},u.a.createElement(Le,{key:e,cardId:e,cardType:c.PLACEHOLDER,useAnimation:!1})))}))))},Ae=u.a.memo(je);a(265);var De=function(){var e=Object(s.useState)(new Date),t=Object(v.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){var e=setInterval((function(){n(new Date)}),1e3);return function(){clearInterval(e)}})),u.a.createElement("div",{style:{height:"100%",padding:".25em",width:"100%",fontSize:"400%",fontWeight:600,color:"white",boxSizing:"border-box"}},u.a.createElement("div",null,"Data Experience Lab"),u.a.createElement("div",null,a.toLocaleTimeString("en-IT",{hour12:!0,timeStyle:"short"})))},Ie=function(e){var t=e.widget;e.scale;return u.a.createElement(u.a.Fragment,null,function(e){var t=u.a.createElement("div",null);switch(e.id){case"clock":t=u.a.createElement(Le,{useAnimation:!1,cardType:c.CLOCK,onClick:function(){}},(function(e){return u.a.createElement(De,null)}));break;case"info":t=u.a.createElement(Le,{useAnimation:!1,cardType:c.CLOCK},(function(e){return u.a.createElement("div",null)}))}return console.log(t),t}(t))},ke=function(e){var t=e.layout,a=(e.appMode,e.width,e.height),n=e.margin,o=e.onLayoutChange,r=e.cards,i=e.widgets,l=e.isDraggable,f=e.isResizable,m=t;Object(s.useEffect)((function(){console.log(null===m||void 0===m?void 0:m.id)}),[null===m||void 0===m?void 0:m.id]);var h=Object(H.WidthProvider)(H.Responsive),v={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:J.gridCols,md:J.gridCols,sm:J.gridCols,xs:J.gridCols,xxs:J.gridCols},rowHeight:(a-J.gridBottomPadding)/J.gridRows,margin:n,preventCollision:!0,compactType:null};return u.a.createElement("div",null,u.a.createElement("div",{className:"card-grid-container"},u.a.createElement(h,Object.assign({},v,{className:"card-layout",isDraggable:null!==l&&void 0!==l&&l,isResizable:null!==f&&void 0!==f&&f,layouts:m?m.layout:{lg:[]},onDragStart:function(e,t,a,n,o,r){r.style.border="2px solid cyan",r.style.border="4px solid cyan"},onLayoutChange:o,preventCollision:!0,resizeHandles:["se"],verticalCompact:!0}),[].concat(Object(d.a)(r),Object(d.a)(i)).map((function(e,t){return u.a.createElement("div",{className:"card-container",draggable:!0,key:e.id},u.a.createElement($,{cardType:c.IFRAME,className:"droppable-card",droppableId:e.id,key:t},u.a.createElement(Le,{cardId:t.toString(),cardType:c.IFRAME,data:e,useAnimation:"widget"!==e.contentType},"widget"!==e.contentType?function(t,a,n,o){var r=e;return u.a.createElement(ce,{card:r,scale:t,cardView:a,onError:n,onLoad:o})}:function(t){return u.a.createElement(Ie,{widget:e,scale:t})})))})))),u.a.createElement(Ae,{gridSettings:v}))},Te=u.a.memo(ke),Re=function(e){var t=e.split("[")[1];return{x:Number.parseInt(t.charAt(0)),y:Number.parseInt(t.charAt(3))}},Me=function(e){var t=e.children,a=w(),n=a.addCard,o=a.swapCard,r=a.addWidget,i=a.setActiveLayout,c=b((function(e){return e.layoutsModel.externalLayouts}));return u.a.createElement(X.a,{onDragEnd:function(e){var t,a;if((null===(t=e.destination)||void 0===t?void 0:t.droppableId)!=(null===(a=e.source)||void 0===a?void 0:a.droppableId)){var s=e.source,u=e.destination,d=e.draggableId;if(console.log("dragged from ".concat(d," to ").concat(null===u||void 0===u?void 0:u.droppableId," current title: ","yes")),u)switch(s.droppableId){case l.CARD_TABLE:if(u.droppableId)if(u.droppableId.startsWith("empty")){var f=Re(u.droppableId);n({sourceId:d,targetPosition:f}),console.log("dropped onto an empty card, adding card")}else o({sourceId:d,targetId:u.droppableId});break;case l.WIDGETS_TABLE:var m=Re(u.droppableId);r({sourceId:d,targetPosition:m});break;case l.LAYOUT_TABLE:var h=c.filter((function(e){return e.id===d}))[0];i(h);break;default:console.log("got unkown drag source")}}}},t)},Ne=(a(87),a(312)),_e=a(313),Pe=a(64),We=a.n(Pe),Ue=(a(88),a(320)),Ge=a(134),Ve=a.n(Ge),Be=a(78),ze=a.n(Be),Fe=function(e){var t=e.children,a=e.padding;return u.a.createElement("div",{style:{display:"flex",flexDirection:"row",padding:a}},t)},Ye=["dndType","className","children","dragAll"],He=function(e){e.dndType;var t=e.className,a=e.children,n=e.dragAll,o=Object(K.a)(e,Ye);return u.a.isValidElement(a)?u.a.createElement(X.b,o,(function(e,o){var r=n?e.dragHandleProps:{};return u.a.createElement(u.a.Fragment,null,u.a.createElement("tr",Object.assign({className:t,ref:e.innerRef},e.draggableProps,r),u.a.cloneElement(a,{provided:e})),u.a.createElement("tr",{style:{display:o.isDragging?"table-row":"none",backgroundColor:o.isDragging?"green":"none"}},u.a.cloneElement(a,{provided:e})))})):u.a.createElement("div",null)};He.defaultProps={dragAll:!0};var Je,Ke,Xe=u.a.memo(He),qe=function(e){var t=e.headerTitle,a=e.setFilter,n=e.setFilterDirection,o=e.className,r=e.activeFilter,i=Object(s.useState)(!0),c=Object(v.a)(i,2),l=c[0],d=c[1],f=t===r;return u.a.createElement("th",{className:null!==o&&void 0!==o?o:"editor-panel-table-header",onClick:function(){a(t),d(!l),n(l)}},function(e){var t=e.split(" ").map((function(e){return function(e){var t,a=/^[a-z]{0,1}|\s\w/gi;return null===(t=(e=e.toLowerCase()).match(a))||void 0===t||t.forEach((function(t){e=e.replace(t,t.toUpperCase())})),e}(e)})).join(" ");return t}(t),f&&l?"\u25b2":f&&!l?"\u25bc":"")},Qe=a(95),Ze=a.n(Qe),$e=a(321),et=function(e){var t=e.x,a=e.y,n=e.children,o=e.visible,r=e.width,i=e.height;console.log(t,a);var c=C();return Object(B.createPortal)(u.a.createElement($e.a,null,o&&u.a.createElement(xe.a.div,{style:{backgroundColor:"white",boxShadow:"0 8px 32px 0 rgba(49, 49, 49, 0.37)",width:null!==r&&void 0!==r?r:.4*c.width,height:null!==i&&void 0!==i?i:.4*c.height,position:"absolute",x:t,y:a,border:"1px solid red",transformBox:"view-box",transformOrigin:"top left",borderRadius:".5em",overflow:"hidden"},animate:{opacity:1,transition:{delay:.1,duration:.5,ease:"circIn"}},exit:{opacity:0}},n)),document.getElementById("popup-container"))},tt=function(e){var t=e.card,a=t.src,n=t.id,o=Object(s.useState)([0,0]),r=Object(v.a)(o,2),i=r[0],c=r[1],l=Object(s.useState)(!1),d=Object(v.a)(l,2),f=d[0],m=d[1];return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{id:n,onMouseEnter:function(e){var t=e.pageX,a=e.pageY;c([t,a]),m(!0)},onMouseLeave:function(e){m(!1)},style:{display:"flex",width:20}},u.a.createElement(Ze.a,{className:t.isActive?"row-favicon-active":"row-favicon-inactive",fallbackImage:"".concat("/cupboard-dxl-display","/question_mark.svg"),src:"image"===t.contentType?a:"https://s2.googleusercontent.com/s2/favicons?domain_url=".concat(t.src),style:{width:"100%",maxWidth:20}})),u.a.createElement(et,{x:i[0],y:i[1],visible:f&&"image"===t.contentType},u.a.createElement(Ze.a,{style:{width:"100%"},fallbackImage:"".concat("/cupboard-dxl-display","/question_mark.svg"),src:"image"===t.contentType?a:"https://s2.googleusercontent.com/s2/favicons?domain_url=".concat(t.src)})),u.a.createElement("div",{style:{marginTop:"auto",marginBottom:"auto",textAlign:"left",paddingLeft:"1em"}},t.title))},at=function(){var e=b((function(e){return e.appModel.availableCards})),t=w(),a=t.clearCards,n=t.resetLayout,o=Object(s.useState)(),r=Object(v.a)(o,2),i=r[0],f=r[1],m=Object(s.useState)(!0),h=Object(v.a)(m,2),p=h[0],g=h[1],y=Object(s.useState)(e),E=Object(v.a)(y,2),x=E[0],O=E[1],S=Object(s.useState)(""),C=Object(v.a)(S,2),L=C[0],j=C[1],A=Object(s.useState)(e),D=Object(v.a)(A,2),I=D[0],k=D[1];Object(s.useEffect)((function(){if(0<L.length){var e=Ve.a.go(L,x.map((function(e){return e.title}))).map((function(e){return e.target})),t=x.filter((function(t){return e.includes(t.title)}));k(t)}else k(x)}),[L,x]),Object(s.useEffect)((function(){var t=i,a=Object(d.a)(e).sort((function(e,a){var n=e[t],o=a[t];if(n&&o){if(n<o)return-1;if(o<n)return 1}return 0}));!p&&a.reverse(),O(a)}),[i,e,p]);return u.a.createElement("div",{className:"contents-tab-container"},u.a.createElement(Fe,{padding:"0.5em"},u.a.createElement(Ue.a,{onChange:function(e){return j(e.currentTarget.value)},placeholder:"search title",width:"80%"}),u.a.createElement(de,{appearance:"default",intent:"danger",onClick:function(e){n()},text:"Reset Layout"}),u.a.createElement(de,{appearance:"minimal",intent:"danger",onClick:function(e){a()},text:"Clear All"})),u.a.createElement($,{cardType:c.CLOCK,className:"table-container",droppableId:l.CARD_TABLE,isDropDisabled:!0},u.a.createElement("table",{className:"contents-tab-table"},u.a.createElement("tbody",null,u.a.createElement("tr",null,["title","author","added"].map((function(e,t){return u.a.createElement(qe,{activeFilter:i,className:"contents-table-header",headerTitle:e,key:t,setFilter:f,setFilterDirection:g})}))))),u.a.createElement(Be.Scrollbars,{autoHeight:!0,autoHeightMax:319,autoHeightMin:100},u.a.createElement("table",{style:{padding:"2em"}},u.a.createElement("tbody",null,I.map((function(e,t){var a=e.added,n=(e.src,e.author),o=(e.interaction,e.sourceId),r=e.isActive;e.title;return u.a.createElement(Xe,{className:r?"content-row-active":"content-row-inactive",dndType:c.CARD_ROW,draggableId:o,index:t,isDragDisabled:r,key:t.toString()},u.a.createElement(u.a.Fragment,null,u.a.createElement("td",null,u.a.createElement(tt,{card:e})),u.a.createElement("td",null,n),u.a.createElement("td",null,R(a))))})))))))},nt=a(48),ot=(a(285),a(286),function(e){var t,a=e.children,n=e.className,o=e.padding,r=e.flexDirection,i={padding:null!==o&&void 0!==o?o:"0em",flexDirection:null!==r&&void 0!==r?r:"column"};return u.a.createElement("div",{style:i,className:null!==(t="panel "+n)&&void 0!==t?t:""},a)}),rt=(a(287),a(89),a(288),function(e){var t=e.children,a=e.active,n=e.containerClassName,o=e.onClose,r=e.backdropOpacity;return u.a.createElement("div",{className:"modal-container",style:{display:a?"flex":"none",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"}},u.a.createElement(it,{onClose:o,backdropOpacity:null!==r&&void 0!==r?r:0}),u.a.createElement("div",{style:{zIndex:1e3},className:n},t))}),it=function(e){var t=e.onClose,a=e.backdropOpacity;return u.a.createElement("div",{onMouseUp:t,style:{opacity:a,zIndex:200},className:"pop-up-background"})},ct=a(308),lt=a(309),st=a(310),ut=(a(289),function(e){var t=e.visible,a=e.onCloseComplete,n=(b((function(e){return e.layoutsModel.activeLayout})),b((function(e){return e.layoutsModel.layoutsString}))),o=Object(s.useState)(t),r=Object(v.a)(o,2),i=r[0],c=(r[1],Object(s.useState)(!1)),l=Object(v.a)(c,2),d=l[0],f=l[1];console.log("HELLO IM HERE"),Object(s.useEffect)((function(){console.log(n)}),[n]);w().activeLayout;var m=b((function(e){return JSON.stringify(e.layoutsModel.activeLayout)})),h=b((function(e){return JSON.stringify(e.layoutsModel.bufferLayout)}));Object(s.useEffect)((function(){console.log(h)}),[h]),Object(s.useEffect)((function(){console.log(m)}),[m]),console.log(m);var p=j()("copy-field-container",{"copy-field-container-closed":d});return z.a.createPortal(u.a.createElement(rt,{onClose:a,active:i,containerClassName:"google-form-popup",backdropOpacity:.5},u.a.createElement("div",{className:"google-form-popup-inner-container"},u.a.createElement(ct.a,{color:d?"green":""},"1. Press the Copy Button"),u.a.createElement(ct.a,null,d?"2. Fill out the form, and paste the copied text into the Content field, then submit":""),u.a.createElement("div",{className:p},u.a.createElement(dt,{onCopy:function(e){f(!0)},onCloseComplete:a,text:m}))),d?u.a.createElement(ft,{src:"https://docs.google.com/forms/d/e/1FAIpQLSeKP2imQv_UCj4qrGNk7mT6Rzz83F30IvEl8ZFdERIdzSnvig/viewform?usp=sf_link"}):u.a.createElement(u.a.Fragment,null)),document.querySelector("#google-form-popup"))}),dt=function(e){var t=e.text,a=e.onCloseComplete,n=e.onCopy,o=(e.isCurrentClipBoardContent,Object(s.useState)(!1)),r=Object(v.a)(o,2),i=r[0],c=r[1],l=Object(s.useState)(!1),d=Object(v.a)(l,2),f=d[0],m=d[1];j()("copy-field",{"copy-field-success":f&&i,"copy-field-failure":!f&&!i});return Object(s.useEffect)((function(){navigator.clipboard.readText().then((function(e){t===e?(c(!0),m(!0)):(m(!1),c(!1))})).catch((function(e){console.error("Failed to read clipboard contents:",e)}))}),[t]),u.a.createElement("div",null,u.a.createElement(de,{iconBefore:u.a.createElement(lt.a,null),text:"Copy Layout To Clip Board",onClick:function(e){navigator.clipboard.writeText(t),m(!0),n(e)},width:"100%",intent:"success",appearance:"primary"}),i?u.a.createElement(se.a,{intent:"success"},"Clipboard is current"):u.a.createElement(se.a,{intent:"warning"},"Current clipboard content is out of sync with current layout, copy the layout to clipboard again."),u.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"1em"}},u.a.createElement(de,{iconBefore:u.a.createElement(st.a,null),text:"Return",onClick:a})))},ft=function(e){var t=e.src;return u.a.createElement("iframe",{src:t,className:"google-form-iframe",width:"100%",frameBorder:0,marginHeight:0,marginWidth:0})},mt=a(322),ht=function(){var e=b((function(e){return e.layoutsModel.externalLayouts})),t=b((function(e){return e.layoutsModel.activeLayout})),a=y((function(e){return e.layoutsModel.setActiveLayout}));return u.a.createElement("div",null,u.a.createElement($,{className:"table-container",droppableId:l.LAYOUT_TABLE,isDropDisabled:!1,cardType:c.CLOCK},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Title"),u.a.createElement("th",null,"Date Added"),u.a.createElement("th",null,"Author")))),u.a.createElement("table",null,u.a.createElement("tbody",null,e.map((function(e,n){var o=e.id,r=(e.title,e.author),i=e.added;return u.a.createElement("tr",{key:n,onClick:function(t){return a(e)}},u.a.createElement("td",{key:n,style:{display:"flex",justifyContent:"center"}},o===(null===t||void 0===t?void 0:t.id)&&u.a.createElement(mt.a,{color:"success"}),u.a.createElement(vt,{layout:e})),u.a.createElement("td",null,R(i)),u.a.createElement("td",null,r))}))))))},vt=function(e){var t=e.layout,a=Object(s.useState)(!1),o=Object(v.a)(a,2),r=o[0],i=o[1],c=Object(s.useState)([0,0]),l=Object(v.a)(c,2),d=l[0],f=l[1],m=t.title,h=C(),p=h.width,g=h.height,y=t.sources(),E=t.widgets();console.log(y);var w=b((function(e){return e.appModel.availableCards.filter((function(e){return y.includes(e.src)}))})),x=b((function(e){return e.appModel.availableWidgets.filter((function(e){return E.includes(e.id)}))}));return u.a.createElement("div",null,u.a.createElement("div",{onMouseEnter:function(e){var t=e.pageX,a=e.pageY;f([t,a]),i(!0)},onMouseLeave:function(e){i(!1)},style:{textDecoration:r?"underline":""}},m),u.a.createElement(et,{width:.5*p,height:.5*g,x:d[0],y:d[1],visible:r},u.a.createElement("div",{style:{transform:"scale(".concat(.5,")"),transformOrigin:"inherit",height:g,width:p}},u.a.createElement(Te,{width:p,height:g,layout:t,margin:[20,20],appMode:n.DISPLAY,onLayoutChange:function(e){},cards:w,widgets:x}))))},pt=function(){var e=b((function(e){return e.layoutsModel.activeLayout})),t=b((function(e){return e.layoutsModel.bufferLayout})),a=Object(s.useState)(!1),n=Object(v.a)(a,2),o=n[0],r=n[1],i=(y((function(e){return e.googleSheetsModel.fetchAppGoogleSheet})),y((function(e){return e.googleSheetsModel.fetchTopLevelSheet}))),c=Object(s.useState)(JSON.stringify(e)),l=Object(v.a)(c,2),d=(l[0],l[1]);Object(s.useEffect)((function(){d(JSON.stringify(t))}),[e,t]);return u.a.createElement(ot,null,u.a.createElement("div",{style:{display:"flex",width:"100%",padding:".5em",justifyContent:"flex-start"}},u.a.createElement(de,{iconBefore:u.a.createElement(q.a,null),onClick:function(e){r(!0)},text:"Add New Layout",width:"55%",intent:"success",appearance:"primary"})),o?u.a.createElement(ut,{onCloseComplete:function(){i(),r(!1)},visible:o}):u.a.createElement(u.a.Fragment,null),u.a.createElement("div",null,u.a.createElement(ht,null)))},gt=a(311),yt=function(){var e={appErrors:b((function(e){return e.appModel.appErrors})),layoutErrors:b((function(e){return e.layoutsModel.layoutErrors})),googleSheetsErrors:b((function(e){return e.googleSheetsModel.googleSheetsErrors}))},t=e.appErrors,a=e.layoutErrors,n=e.googleSheetsErrors,o=S(),r=Object(v.a)(o,2),i=r[0],c=r[1].height;return u.a.createElement("div",{className:"table-container",style:{height:"100%"}},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Error"),u.a.createElement("th",null,"Source"),u.a.createElement("th",null,"Link")))),u.a.createElement("div",{ref:i,style:{border:"1px solid red",height:"100%"}},u.a.createElement(ze.a,{autoHide:!1,id:"app-error-scroll-container",style:{width:"100%",height:c-30}},u.a.createElement("table",null,u.a.createElement("tbody",null,[].concat(Object(d.a)(t),Object(d.a)(a),Object(d.a)(n)).map((function(e,t){var a=e.errorType,n=e.link,o=e.source;return u.a.createElement("tr",{key:t},u.a.createElement("td",{key:t,style:{color:"#D14343"}},"\u26a0 ".concat(a)),u.a.createElement("td",null,o),u.a.createElement("td",null,u.a.createElement("a",{href:n,rel:"noreferrer",style:{color:"lightblue"},target:"_blank"},n)))})))))))},bt=function(e){var t=e.children;return u.a.createElement("div",{style:{color:"white"}},t)},Et=function(){var e=E(),t=(e.rotationSpeed,e.setRotationSpeed),a=e.setRotateLayouts,n=Object(s.useState)(""),o=Object(v.a)(n,2),r=o[0],i=(o[1],u.a.useState(!0)),c=Object(v.a)(i,2),l=c[0],d=c[1];Object(s.useEffect)((function(){console.log(l),a(l),l||t(1e4)}),[l]),Object(s.useEffect)((function(){console.log(r)}),[r]);var f=S(),m=Object(v.a)(f,2),h=(m[0],m[1]);h.width,h.height;return u.a.createElement("div",{style:{height:"100%",pointerEvents:"all"}},u.a.createElement("div",{style:{margin:".5em"}},u.a.createElement(Fe,null,u.a.createElement(bt,null,"Rotate Layouts"),u.a.createElement("div",{style:{paddingLeft:".5em"}},u.a.createElement(gt.a,{checked:l,onChange:function(e){return d(e.target.checked)}})))),u.a.createElement(yt,null))},wt=function(){return u.a.createElement(nt.d,null,u.a.createElement(nt.b,null,u.a.createElement(nt.a,null,"Content"),u.a.createElement(nt.a,null,"Layouts"),u.a.createElement(nt.a,null,"App Settings")),u.a.createElement(nt.c,null,u.a.createElement(at,null)),u.a.createElement(nt.c,null,u.a.createElement(pt,null)),u.a.createElement(nt.c,null,u.a.createElement(Et,null)))},xt=function(){var e=b((function(e){return e.appModel.appMode})),t=Object(s.useState)(!1),a=Object(v.a)(t,2),o=a[0],r=a[1],i=j()("editor-panel",{"editor-panel-full":!o,hidden:e===n.DISPLAY,"editor-panel-minimized":o}),c=j()("editor",{"editor-visible":e===n.EDIT});return z.a.createPortal(u.a.createElement(We.a,{bounds:{left:0,top:0,right:window.innerWidth-50,bottom:window.innerHeight-50},defaultClassName:i,defaultPosition:{x:100,y:100},handle:".editor-panel-handle"},u.a.createElement("div",{className:c},u.a.createElement(Ot,null,u.a.createElement(St,{icon:u.a.createElement(Ne.a,null),onMouseUp:function(){r(!1)}}),u.a.createElement(St,{icon:u.a.createElement(_e.a,null),onMouseUp:function(){r(!0)}})),u.a.createElement(wt,null))),document.querySelector("#editor-panel-container"))},Ot=function(e){var t=e.children;return u.a.createElement("div",{className:"editor-panel-handle panel-header"},t)},St=function(e){var t=e.icon,a=e.onMouseUp;return u.a.createElement("div",{className:"window-button",onMouseUp:a},t)},Ct=a(314),Lt=a(307),jt=function(e){var t=e.active,a=e.onClose;return Object(s.useEffect)((function(){console.log(t)}),[t]),z.a.createPortal(u.a.createElement(rt,{active:t,onClose:a,backdropOpacity:0},u.a.createElement(xe.a.div,{variants:{hidden:{y:100,opacity:0},visible:{opacity:1,y:0,transition:{duration:.5}}},style:{width:"30vw",height:"80vh",backgroundColor:"white",borderRadius:10,padding:"1em"},animate:t?"visible":"hidden"},u.a.createElement(ot,null,u.a.createElement(ct.a,null,"Connect Labtop"),u.a.createElement("hr",null),u.a.createElement(Lt.a,null,"Connect your labtop to use this screen as a display."),u.a.createElement("img",{className:"how-to-image",src:"/cupboard-dxl-display/labtopdiagram.png"}),u.a.createElement(ct.a,null,"Explore Content"),u.a.createElement("hr",null),u.a.createElement(Lt.a,null,"Click on a card to explore data related content."),u.a.createElement("img",{className:"how-to-image",src:"/cupboard-dxl-display/masonary.png"})))),document.getElementById("popup-container"))},At=function(){var e=function(e){var t=Object(s.useState)(e),a=Object(v.a)(t,2),n=a[0],o=a[1];return[n,function(){return o(!n)}]}(!1),t=Object(v.a)(e,2),a=t[0],o=t[1],r=E().appMode;return z.a.createPortal(u.a.createElement(u.a.Fragment,null,r===n.DISPLAY&&u.a.createElement(jt,{active:a,onClose:o}),r===n.DISPLAY&&u.a.createElement(de,{appearance:"primary",className:"how-to-use-button",fontSize:"xx-large",height:"4vh",iconBefore:u.a.createElement(Ct.a,null),onClick:o,text:"Learn how to use this display",width:"35vw"})),document.querySelector("#how-to-use-button"))},Dt=a(9),It=a(315),kt=function(){var e=y((function(e){return e.appModel.toggleAppMode})),t=Object(It.a)((function(){e()})),a={position:"absolute",width:50,height:50,border:J.showModeSwitchButton?"1px solid red":"none",bottom:0,left:0,opacity:0};return z.a.createPortal(u.a.createElement(xe.a.div,{style:Object(Dt.a)(Object(Dt.a)({},a),{},{backgroundColor:"white"}),whileTap:{backgroundColor:"green",opacity:1}},u.a.createElement("div",Object.assign({style:a},t)),","),document.querySelector("#mode-change-button"))},Tt=function(e){var t=e.children;e.padding;return u.a.createElement("div",{style:{width:"100vw",height:"100vh"}},t)},Rt=function(){var e,t=Object(m.a)(J.idleTime,!1),a=y((function(e){return e.googleSheetsModel.fetchTopLevelSheet})),o=w(),r=o.activeLayout,i=o.setBufferLayout,c=o.activeCards,l=o.activeWidgets,v=E(),p=v.appMode,g=v.toggleAppMode;v.rotateLayouts;Object(h.a)((function(){n.DISPLAY}),J.rotationDuration),Object(s.useEffect)((function(){p===n.EDIT&&g()}),[t]),e=function(){a()},Object(s.useEffect)(e,[]),w();var b=C(),x=b.width,O=b.height;return u.a.createElement(u.a.Fragment,null,u.a.createElement(At,null),u.a.createElement(Y,null),u.a.createElement(kt,null),u.a.createElement(Me,null,u.a.createElement(xt,null),u.a.createElement(Tt,null,u.a.createElement(f.a,null,r&&u.a.createElement(Te,{width:x,height:O,appMode:p,layout:r,margin:[20,20],onLayoutChange:function(e){i({lg:e,md:e,sm:e,xs:e,xxs:e})},cards:Object(d.a)(c),widgets:Object(d.a)(l),isDraggable:p===n.EDIT,isResizable:p===n.EDIT})))))},Mt=a(22),Nt=a.n(Mt),_t=a(33);!function(e){e.CROSS_ORIGIN="CROSS_ORIGIN"}(Je||(Je={})),function(e){e.MALFORMED_URL="MALFORMED_URL"}(Ke||(Ke={}));var Pt=function(){function e(t){Object(ee.a)(this,e),this.url=void 0,this.errors=void 0,this.warnings=void 0,this.errors=[],this.warnings=[],this.url=t}return Object(te.a)(e,[{key:"validate",value:function(e){var t;console.log(this.errors);var a=function(e){var t=[];new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)||t.push(Ke.MALFORMED_URL);return t}(this.url);(t=this.warnings).push.apply(t,Object(d.a)(a)),console.log(a)}},{key:"isValid",value:function(){return 0==this.errors.length}},{key:"errorMessages",value:function(){var e=this,t=[];return this.errors.map((function(a){if(a===Je.CROSS_ORIGIN)t.push("Blocked a frame with origin ".concat(e.url,"; from accessing a cross-origin frame."));else console.log("error did not match an error enum")})),t}}]),e}();var Wt=function(){function e(t){var a;Object(ee.a)(this,e),this.id=void 0,this.src=void 0,this.title=void 0,this.added=void 0,this.sourceId=void 0,this.author=void 0,this.interaction=void 0,this.contentType=void 0,this.metaData=void 0,this.validator=void 0,this.isActive=void 0,this.failed=void 0,this.id=t.src,this.src=t.src,this.title=t.title,this.added=new Date(t.added),this.sourceId=t.src,this.author=t.author,this.interaction=i[t.interaction],this.contentType=function(e){return"string"===typeof e&&/[./](gif|jpg|jpeg|tiff|png)$/i.test(e)}(a=this.src)?"image":function(e){return"string"===typeof e&&/[./](mp4|webm|mov)$/i.test(e)}(a)?"video":function(e){return"string"===typeof e&&e.includes("embed")}(a)?"embed":function(e){return"string"===typeof e&&e.includes("https")}(a)?"website":"widget","widget"===this.contentType&&t.widgetType?(this.metaData={widgetType:t.widgetType},this.id=t.widgetType):(this.metaData={src:t.src,title:t.title,added:new Date(t.added),sourceId:t.src,author:t.author},this.id=t.src),this.isActive=!1,this.validator=new Pt(this.src),this.failed=!1}return Object(te.a)(e,[{key:"setActive",value:function(e){this.isActive=e}},{key:"fail",value:function(){console.log(this.validator.errors),this.failed=!0}}]),e}();var Ut=function(){function e(t){Object(ee.a)(this,e),this.id=void 0,this.contentType=void 0,this.isActive=void 0,this.id=t,this.isActive=!1,this.contentType="widget"}return Object(te.a)(e,[{key:"setActive",value:function(e){this.isActive=e}}]),e}(),Gt=J.widgetIds.map((function(e){return new Ut(e)})),Vt={availableCards:[],availableWidgets:Gt,activeWidgets:[],activeCards:[],appErrors:[],rotateLayouts:!0,rotationSpeed:J.rotationDuration,appMode:n.DISPLAY,manageViewModeChange:Object(p.g)((function(e,t){switch(e.setAppMode(t),t){case n.EDIT:case n.DISPLAY:case n.CYCLE:break;default:console.log("reached default in set view mode thunk")}})),toggleAppMode:Object(p.g)((function(e,t,a){var o=a.getState;switch(o().appMode){case n.EDIT:e.setAppMode(n.DISPLAY);break;case n.DISPLAY:e.setAppMode(n.EDIT);break;case n.CYCLE:break;default:console.log("reached default in set view mode thunk")}console.log(o().appMode)})),setAvailableCards:Object(p.b)((function(e,t){e.availableCards=t})),setActiveCards:Object(p.b)((function(e,t){e.activeCards=t})),setActiveWidgets:Object(p.b)((function(e,t){e.activeWidgets=t})),setAppMode:Object(p.b)((function(e,t){e.appMode=t})),setRotationSpeed:Object(p.b)((function(e,t){e.rotationSpeed=t})),setRotateLayouts:Object(p.b)((function(e,t){e.rotateLayouts=t})),addAppError:Object(p.b)((function(e,t){var a=e.appErrors.map((function(e){return JSON.stringify(e)})),n=JSON.stringify(t);a.includes(n)||e.appErrors.push(t)})),onCardSheetLoadSuccess:Object(p.h)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),function(){var e=Object(_t.a)(Nt.a.mark((function e(t,a){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.payload.getSheetRows("CARDS").then((function(e){var a=e.map((function(e){return{src:e.src,title:e.title,added:e.added,sourceid:e.sourceid,author:e.author,interaction:e.interaction}})).map((function(e){return new Wt(e)}));t.setAvailableCards(a)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),onSetActiveLayout:Object(p.h)((function(e,t){return t.layoutsModel.setActiveLayout}),function(){var e=Object(_t.a)(Nt.a.mark((function e(t,a,n){var o,r,i,c,l,s,u;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.getState,i=new Set(a.payload.sources()),c=new Set(null!==(o=a.payload.layoutWidgets.map((function(e){return e.id})))&&void 0!==o?o:[]),l=r().availableCards.map((function(e){return i.has(e.sourceId)?e.setActive(!0):e.setActive(!1),e})),s=r().availableCards.filter((function(e){return i.has(e.sourceId)})),u=Gt.filter((function(e){return c.has(e.id)})),t.setAvailableCards(l),t.setActiveCards(s),console.log(u),t.setActiveWidgets(u);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),onSwapCardContent:Object(p.h)((function(e,t){return t.layoutsModel.swapCardContent}),function(){var e=Object(_t.a)(Nt.a.mark((function e(t,a,n){var o,r;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log("got swap card content"),console.log(a.payload),console.log(o().activeCards),(r=o().activeCards.map((function(e){if(e.sourceId===a.payload.targetId){var t=o().availableCards.find((function(e){return e.sourceId===a.payload.sourceId}));return console.log(t),t}return e})))&&t.setActiveCards(r),console.log(Object(p.f)(a));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}())},Bt=Vt,zt=a(27),Ft={layout:{lg:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],md:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],sm:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],xs:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],xxs:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}]},layoutSettings:{gridSettings:{defaultBackgroundColor:"red"},cardSettings:[]},widgets:[]},Yt=function(){function e(t){Object(ee.a)(this,e),this.title=void 0,this.author=void 0,this.added=void 0,this.id=void 0,this.sourceLayout=void 0,this.layout=void 0,this.layoutWidgets=void 0;var a=function(e){var t=JSON.parse(e.layout);return t.layout?t:Ft}(t),n=(a.widgets,a.layout);a.layoutSettings;this.id=t.title+"_"+t.timestamp,this.title=t.title,this.author=t.author,this.added=new Date(t.timestamp.split(" ")[0]),console.log(t.layout),this.sourceLayout=JSON.parse(t.layout).layout,console.log(t),console.log(JSON.parse(t.layout)),JSON.parse(t.layout).layoutWidgets?this.layoutWidgets=JSON.parse(t.layout).layoutWidgets:this.layoutWidgets=[],this.layout=n}return Object(te.a)(e,[{key:"swapCard",value:function(e){for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(v.a)(a[t],2),r=o[0],i=o[1],c=Object(zt.a)(i.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(v.a)(n.value,2),s=l[0];l[1].i==e.targetId&&(i[s].i=e.sourceId)}}catch(u){c.e(u)}finally{c.f()}this.layout[r]=i}}},{key:"removeCard",value:function(e){console.log(this.layout);for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(v.a)(a[t],2),r=o[0],i=o[1],c=Object(zt.a)(i.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(v.a)(n.value,2);l[0],l[1];this.layout[r]=i.filter((function(t){return t.i!==e}))}}catch(s){c.e(s)}finally{c.f()}}}},{key:"clearCards",value:function(){console.log(this.layout);for(var e=0,t=Object.entries(this.layout);e<t.length;e++){var a,n=Object(v.a)(t[e],2),o=n[0],r=n[1],i=Object(zt.a)(r.entries());try{for(i.s();!(a=i.n()).done;){var c=Object(v.a)(a.value,2);c[0],c[1];this.layout[o]=[]}}catch(l){i.e(l)}finally{i.f()}}}},{key:"addCard",value:function(e,t){console.log("ADDING CARD AT LAYOUT DATA"),console.log(this.layout),Object.entries(this.layout)[0][1].map((function(e){return e.i})).includes(e.sourceId)&&console.log("ADDING SOMETHING THAT'S ALREADY PRESENT");for(var a=0,n=Object.entries(this.layout);a<n.length;a++){var o=Object(v.a)(n[a],2),r=o[0],i=(o[1],{x:t.x,y:t.y,w:1,h:1,i:e.sourceId});this.layout[r].push(i)}}},{key:"addWidget",value:function(e,t){Object.entries(this.layout)[0][1].map((function(e){return e.i})).includes(e.id)&&console.log("ADDING A WIDGET THAT'S ALREADY PRESENT"),this.layoutWidgets.push(e);for(var a=0,n=Object.entries(this.layout);a<n.length;a++){var o=Object(v.a)(n[a],2),r=o[0],i=(o[1],{x:t.x,y:t.y,w:1,h:1,i:e.id});this.layout[r].push(i)}}},{key:"resetLayout",value:function(){console.log("RESETING LAYOUT"),this.layout=JSON.parse(JSON.stringify(this.sourceLayout))}},{key:"failCard",value:function(e){console.log("FAILING CARD AT LAYOUT DATA")}},{key:"setGridLayout",value:function(e){console.log(e),this.layout=e}},{key:"sources",value:function(){return Object.entries(this.layout)[0][1].map((function(e){return e.i}))}},{key:"widgets",value:function(){console.log("GETTING WIDGETS AT WIDGET LAYOUTDATA");var e=Object.entries(this.layout)[0][1];console.log(e);var t=e.filter((function(e){return J.widgetIds.includes(e.i)}));return console.log("just widgets",t),t.map((function(e){return e.i}))}}]),e}();var Ht={activeLayout:void 0,externalLayouts:[],layoutErrors:[],bufferLayout:a(135),layoutsString:Object(p.c)([function(e){return e.bufferLayout}],(function(e){return JSON.stringify(e)})),onSetAppGoogleSheetData:Object(p.h)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),(function(e,t,a){a.getState;t.payload.getSheetRows("LAYOUTS").then((function(t){var a=[];if(t.forEach((function(t){try{var n=new Yt(t);a.push(n)}catch(i){var o,r;e.addLayoutError({errorType:"failed to read layout row",description:"failed to read layout row ".concat(null!==(o=t.title)&&void 0!==o?o:"NO TITLE PROVIDED"),source:null!==(r=t.title)&&void 0!==r?r:"NO TITLE PROVIDED",link:"none"}),console.log(i)}})),J.useStaticLayout);else{var n=a.filter((function(e){return e.title===J.defaultLayoutName}))[0];n&&(console.log(n),e.setActiveLayout(n),e.setBufferLayout(n.layout))}e.setExternalLayouts(a)}))})),addLayoutError:Object(p.b)((function(e,t){var a=e.layoutErrors.map((function(e){return JSON.stringify(e)})),n=JSON.stringify(t);a.includes(n)||e.layoutErrors.push(t)})),onToggleViewMode:Object(p.h)((function(e,t){return t.appModel.toggleAppMode}),(function(e,t,a){var o=a.getState,r=a.getStoreState,i=o().activeLayout,c=o().bufferLayout;r().appModel.appMode===n.DISPLAY&&(console.log("IT WAS IN DISPLAY MODE"),(null===i||void 0===i?void 0:i.layout)&&(i.layout=c,e.setActiveLayout(i)))})),setActiveLayout:Object(p.b)((function(e,t){console.log(t),e.activeLayout=t})),setRandomLayout:Object(p.g)((function(e,t,a){var n=(0,a.getState)(),o=n.externalLayouts,r=n.activeLayout;if(r){var i=o.map((function(e){return e.id})).indexOf(null===r||void 0===r?void 0:r.id);console.log(i);var c=(i+1)%o.length;console.log("SETTING LAYOUT INDEX TO ".concat(c," - ").concat(o[c].id," "));var l=o[c];e.setActiveLayout(l)}})),setExternalLayouts:Object(p.b)((function(e,t){console.log("setting external layouts"),e.externalLayouts=t})),swapCardContent:Object(p.g)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var r=n().bufferLayout;o.layout=r,o.swapCard(t),e.setActiveLayout(o)}})),deleteCard:Object(p.g)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var r=n().bufferLayout;o.layout=r,o.removeCard(t),e.setActiveLayout(o)}})),clearCards:Object(p.g)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var r=n().bufferLayout;o.layout=r,o.clearCards(),e.setActiveLayout(o)}})),addCard:Object(p.g)((function(e,t,a){var n=a.getState,o=(0,a.getStoreState)().appModel.availableCards,r=t.sourceId,i=t.targetPosition,c=o.find((function(e){return e.sourceId==r})),l=n().activeLayout;if(l&&c){var s=n().bufferLayout;l.setGridLayout(s),null===l||void 0===l||l.addCard(c,i),e.setActiveLayout(l)}})),addWidget:Object(p.g)((function(e,t,a){var n=a.getState,o=a.getStoreState;console.log("ADDING NEW WIDGET!!!");var r=o().appModel.availableWidgets,i=t.sourceId,c=t.targetPosition,l=r.find((function(e){return e.id==i})),s=n().activeLayout;if(s&&l){var u=n().bufferLayout;s.setGridLayout(u),null===s||void 0===s||s.addWidget(l,c),e.setActiveLayout(s)}})),registerCardLoadFailure:Object(p.g)((function(e,t,a){var n=a.getState,o=(a.getStoreState,n().activeLayout);o&&o.failCard(t)})),resetLayout:Object(p.g)((function(e,t,a){var n=a.getState;if(n().activeLayout){var o=n().activeLayout;null===o||void 0===o||o.resetLayout(),o&&e.setActiveLayout(o)}})),setBufferLayout:Object(p.b)((function(e,t){e.bufferLayout=t})),updateLayout:Object(p.b)((function(e,t){var a=e.activeLayout;a&&(a.swapCard(t),e.activeLayout=a)}))},Jt=Ht,Kt=a(136),Xt=a.n(Kt),qt=function(){function e(t,a){Object(ee.a)(this,e),this.title=void 0,this.sheetId=void 0,this.sheets=void 0,this.title=t,this.sheetId=a,this.sheets=new Map}return Object(te.a)(e,[{key:"getSheetRows",value:function(e){var t=this;return new Promise((function(a,n){var o=t.sheets.get(e);o?a(o.map((function(e){return e}))):n("sheet with title ".concat(e," did not exist"))}))}},{key:"addSheet",value:function(e,t){this.sheets.set(e,t)}}]),e}(),Qt={key:"181P-SDszUOj_xn1HJ1DRrO8pG-LXyXNmINcznHeoK8k",gid:0},Zt={layoutDataGoogleSheet:null,cardDataGoogleSheet:null,appGoogleSheet:void 0,formUrl:void 0,layoutSheetUrl:void 0,cardSheetUrl:void 0,googleSheetsErrors:[],fetchTopLevelSheet:Object(p.g)((function(e){try{ea("TOP_LEVEL","https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv").then((function(t){var a=t.rows[0];e.setFormUrl(a.googleForm),e.setLayoutsSheetUrl($t(a.layoutsSheet)),e.setCardSheetUrl($t(a.cardsSheet)),e.fetchSheet([{name:"LAYOUTS",url:$t(a.layoutsSheet)},{name:"CARDS",url:$t(a.cardsSheet)}])})).catch((function(t){console.log("DOING CATCH"),e.setLayoutsSheetUrl($t("".concat("/cupboard-dxl-display","/LAYOUTS_BACKUP.csv"))),e.setCardSheetUrl($t("".concat("/cupboard-dxl-display","/CARDS_BACKUP.csv"))),e.fetchSheet([{name:"LAYOUTS",url:"".concat("/cupboard-dxl-display","/LAYOUTS_BACKUP.csv")},{name:"CARDS",url:"".concat("/cupboard-dxl-display","/CARDS_BACKUP.csv")}])}))}catch(n){var t,a;console.log("DOING BACKUP"),e.addGoogleSheetError({errorType:"failed to fetch master google sheet",description:"failed to get the mater google sheet, reverting to local svg",source:null!==(t="https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv")?t:"NA",link:null!==(a="https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv")?a:"NA"})}})),fetchSheet:Object(p.g)(function(){var e=Object(_t.a)(Nt.a.mark((function e(t,a,n){var o,r;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log(o().cardSheetUrl,o().layoutSheetUrl),r=a.map((function(e){return ea(e.name,e.url)})),Promise.allSettled(r).then((function(e){var a=new qt("DSC App",Qt.key),n=[];e.forEach((function(e,t){console.log(e),"fulfilled"==e.status&&(n.push(e),a.addSheet(e.value.sheetTitle,e.value.rows)),"rejected"==e.status&&console.error("failed ")})),t.setAppGoogleSheetData(a),a.getSheetRows("CARDS").then((function(e){t.setCardDataGoogleSheet(e)})),a.getSheetRows("LAYOUTS").then((function(e){t.setLayoutDataGoogleSheet(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),fetchAppGoogleSheet:Object(p.g)(function(){var e=Object(_t.a)(Nt.a.mark((function e(t,a,n){var o,r,i;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,r=ea("CARDS",o().cardSheetUrl),i=ea("LAYOUTS",o().layoutSheetUrl),Promise.allSettled([r,i]).then((function(e){var a=new qt("DSC App",Qt.key),n=[];e.forEach((function(e,o){console.log(e),"fulfilled"==e.status&&(n.push(e),a.addSheet(e.value.sheetTitle,e.value.rows)),"rejected"==e.status&&(t.addGoogleSheetError({errorType:"failed to fetch layout or card sheet",description:"could not retrieve google sheet",source:"LAYOUTS/CARD",link:"NA"}),console.error("failed "))})),t.setAppGoogleSheetData(a),a.getSheetRows("CARDS").then((function(e){t.setCardDataGoogleSheet(e)})),a.getSheetRows("LAYOUTS").then((function(e){t.setLayoutDataGoogleSheet(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),setAppGoogleSheetData:Object(p.b)((function(e,t){e.appGoogleSheet=t})),setCardDataGoogleSheet:Object(p.b)((function(e,t){e.cardDataGoogleSheet=t})),setLayoutDataGoogleSheet:Object(p.b)((function(e,t){e.layoutDataGoogleSheet=t})),setFormUrl:Object(p.b)((function(e,t){e.formUrl=t})),setCardSheetUrl:Object(p.b)((function(e,t){e.formUrl=t})),setLayoutsSheetUrl:Object(p.b)((function(e,t){e.formUrl=t})),addGoogleSheetError:Object(p.b)((function(e,t){var a=e.googleSheetsErrors.map((function(e){return JSON.stringify(e)})),n=JSON.stringify(t);a.includes(n)||e.googleSheetsErrors.push(t)}))};function $t(e){var t=e.split("/")[5],a=e.split("gid=")[1];return"https://docs.google.com/spreadsheets/d/".concat(t,"/export?format=csv&gid=").concat(a)}function ea(e,t){var a;return new Promise((function(n,o){try{Xt.a.parse(t,{download:!0,header:!0,delimiter:",",dynamicTyping:!0,complete:function(t){a=t.data,console.log(a),n({rows:a,sheetTitle:e})}})}catch(r){o("failed to get sheet")}}))}var ta={appModel:Bt,layoutsModel:Jt,googleSheetsModel:Zt},aa=Object(p.d)(ta,{name:"Cuboard App Store"});z.a.render(u.a.createElement(p.a,{store:aa},u.a.createElement(Rt,null)),document.querySelector("#root"))},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},98:function(e,t,a){}},[[290,1,2]]]);
//# sourceMappingURL=main.ae4103c2.chunk.js.map