(this.webpackJsonpiframe_pt=this.webpackJsonpiframe_pt||[]).push([[0],{131:function(e,t,a){},144:function(e,t,a){},166:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},490:function(e,t,a){},495:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=(a(144),a(6)),l=Object(r.e)(),c=l.useStoreActions,i=(l.useStoreDispatch,l.useStoreState),s=a(11),u=function(){var e=Object(n.useState)(new Date),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=setInterval((function(){r(new Date)}),1e3);return function(){clearInterval(e)}})),o.a.createElement("div",{style:{backdropFilter:"blur(4px)",height:"100%",padding:".5em",width:"100%",fontSize:"48pt",fontWeight:600,color:"white"}},o.a.createElement("div",null,"D.H. HILL"),o.a.createElement("div",null,"DATA EXPERIENCE LAB"),o.a.createElement("div",{style:{height:".5em",backgroundColor:"white",width:"100%"}}),o.a.createElement("div",null,a.toLocaleTimeString(),"."))},d=a(10),m=a.n(d),g=a(132),f=a.n(g),h=(a(166),function(e){var t=e.src,a=Object(n.useState)(!1),r=Object(s.a)(a,2),l=r[0],c=r[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),d=u[0],g=u[1],h=m()("iframe-view-overlay",{"iframe-view-overlay-hidden":d,"iframe-view-overlay-loading":!d});return o.a.createElement("div",{onDoubleClick:function(){c(!l)},className:"iframe-view-container",style:{height:"100%"}},o.a.createElement("div",{className:h},o.a.createElement(f.a,{type:"Grid",color:"white",height:80,width:80})),o.a.createElement("iframe",{onLoad:function(e){g(!0)},src:t,style:l?{width:"100%",pointerEvents:"none",height:"100%",border:"5px blue"}:{width:"100%",pointerEvents:"none",height:"100%",border:"none"}}))}),p=o.a.memo(h,v);function v(e,t){return e.src!=t.src&&(console.log(e.src),console.log(t.src),!0)}var b,E,y,S,O=a(83),j=(a(180),function(e){var t=e.data,a=(e.className,Object(n.useState)(!1)),r=Object(s.a)(a,2),l=r[0];r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card-footer"},o.a.createElement("div",{style:{fontSize:"large"}},t.title),o.a.createElement("a",null,t.src),o.a.createElement("div",{style:{display:l?"block":"none"}},"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&apos standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book"," ")))});!function(e){e.DISPLAY="DISPLAY",e.EDIT="EDIT",e.CYCLE="CYCLE"}(b||(b={})),function(e){e.NORMAL="NORMAL",e.PREVIEW="PREVIEW",e.FULL_SCREEN="FULL_SCREEN"}(E||(E={})),function(e){e.CARD_TABLE_DATA="CARD_TABLE_DATA",e.DISPLAY_CARD="DISPLAY_CARD"}(y||(y={})),function(e){e.ACTIVE="ACTIVE",e.STATIC="STATIC"}(S||(S={}));a(181);var w=a(22),L=a.n(w),C=a(43),I=(a(182),function(e){var t=e.mode,a=e.onClick,r=e.portal,l=Object(n.useState)(E.NORMAL),c=Object(s.a)(l,2),i=(c[0],c[1]);return Object(n.useEffect)((function(){console.log("got mode change"),t&&i(t)}),[t]),L.a.createPortal(o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{show:!0},o.a.createElement("div",{className:"modal-content-container",onMouseUp:a},r?o.a.createElement(C.b,{node:r}):o.a.createElement("div",{className:"modal-no-content"},"no portal")))),document.getElementById("portal"))}),k=function(e){e.show;var t=e.children;return o.a.createElement("div",{className:"modal-backdrop-active "},t)},D=function(e){var t,a,r,l=e.children,c=e.activeKey,u=e.testkey,d=e.data,g=e.setModal,f=(e.onDoubleClick,Object(n.useRef)(null)),h=i((function(e){return e.appModel.appMode})),p=Object(n.useState)(E.NORMAL),v=Object(s.a)(p,2),y=v[0],S=v[1],O=m()("card",{"card-edit":h===b.EDIT,"card-display":h===b.DISPLAY,"card-preview":y===E.PREVIEW}),w=m()("info",{"info-hidden":h===b.EDIT,"info-display":h===b.DISPLAY,"info-preview":y===E.PREVIEW}),L=o.a.useMemo((function(){return Object(C.c)({attributes:{id:"div-1",style:"height: 100%"}})}),[]);return o.a.createElement("div",{className:O,style:{height:"100%"},onDoubleClick:function(){h==b.DISPLAY&&S(E.FULL_SCREEN)},onMouseUp:function(){!function(){if(h===b.DISPLAY)switch(y){case E.NORMAL:S(E.PREVIEW),console.log("it was normal");break;case E.PREVIEW:console.log("it was preview"),S(E.NORMAL);break;case E.FULL_SCREEN:console.log("it was full screen");break;default:console.log("got defalt")}}(),g&&g()},ref:f},o.a.createElement(C.a,{node:L},o.a.createElement("div",{className:"card-child-container",style:{height:"100%"}},l),d?o.a.createElement(j,{data:d,className:w}):""),(t=y,a=L,r=(null===c||void 0===c?void 0:c.current)==u,t!==E.PREVIEW&&t!==E.FULL_SCREEN||!r?(console.log("did not pass"),o.a.createElement(C.b,{node:a})):(console.log("passed"),o.a.createElement(I,{text:"hello",portal:a,mode:t}))))};var A=o.a.memo(D),M=a(65),x=a(42),N=a(501),R=(a(183),["children","className"]),T=function(e){var t=e.children,a=(e.className,Object(M.a)(e,R));return o.a.createElement(x.c,a,(function(e,a){return o.a.createElement("div",Object.assign({},e.innerRef,{ref:e.innerRef,className:a.isDraggingOver?"droppable-hovered":"droppable"}),o.a.createElement("div",{className:a.isDraggingOver?"droppable-overlay droppable-overlay-visible":"droppable-overlay droppable-overlay-hidden"},o.a.createElement(N.a,{size:200})),t,e.placeholder)}))},P=function(){var e=i((function(e){return e.appModel.appMode})),t=i((function(e){return e.layoutsModel.activeLayout})),a=Object(n.useState)({x:window.innerWidth,y:window.innerHeight}),r=Object(s.a)(a,2),l=r[0],c=(r[1],Object(n.useMemo)((function(){return console.log(e),console.log(b.EDIT===e),e===b.EDIT}),[e])),d=Object(n.useState)(void 0),m=Object(s.a)(d,2),g=m[0],f=(m[1],i((function(e){return e.appModel.activeCards}))),h=Object(O.WidthProvider)(O.Responsive);Object(n.useEffect)((function(){console.log("cards changed"),console.log(t)}),[f,t]);var v=Object(n.useRef)("");Object(n.useMemo)((function(){return f.map((function(e,t){return o.a.createElement("div",{key:e.sourceId,onMouseUp:function(e){console.log(e.target),console.log(t)},onMouseDown:function(e){console.log(e)}},o.a.createElement(T,{key:t,droppableId:e.sourceId},o.a.createElement(A,{data:e,key:t.toString(),testkey:t.toString(),setModal:function(){v.current=t.toString()},activeKey:v},g==t.toString()?o.a.createElement(I,{text:"hello"}):o.a.createElement("div",null),o.a.createElement(p,{src:e.src}))))}))}),[f]);return o.a.createElement("div",null,t?o.a.createElement(h,{className:"card-layout",layouts:t.layout,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:4,md:4,sm:4,xs:4,xxs:4},rowHeight:l.y/3,margin:[20,20],resizeHandles:["se","ne","e","w"],preventCollision:!1,onDragStart:function(e,t,a,n,o,r){r.style.border="2px solid cyan",r.style.border="4px solid cyan"},onDragStop:function(e,t,a,n,o,r){console.log("drag ended"),console.log(r),r.style.border="2px solid blue"},isDraggable:c,isResizable:c},o.a.createElement("div",{key:"clock"},o.a.createElement(A,null,o.a.createElement(u,null))),f.map((function(e,t){return o.a.createElement("div",{key:e.sourceId},o.a.createElement(T,{key:t,droppableId:e.sourceId},o.a.createElement(A,{data:e,key:t.toString(),testkey:t.toString(),setModal:function(){v.current=t.toString()},activeKey:v},g==t.toString()?o.a.createElement(I,{text:"hello"}):o.a.createElement("div",null),o.a.createElement(p,{src:e.src}))))}))):o.a.createElement("div",null,"not loaded"))},_=o.a.memo(P),F=a(137),Y=a.n(F),z=function(){var e=i((function(e){return e.appModel.appMode})),t=Object(n.useState)({x:window.innerWidth,y:window.innerHeight}),a=Object(s.a)(t,2),r=(a[0],a[1],Object(n.useState)({backgroundColor:"gray"})),l=Object(s.a)(r,2),c=l[0],u=l[1];Object(n.useEffect)((function(){var t=e==b.EDIT;u({position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:t?"white":"gray",transition:"background-color 0.5s ease"})}),[e]);return o.a.createElement("div",{style:c},e===b.EDIT?o.a.createElement("div",{style:{position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:"lightgrey",transition:"background-color 0.5s ease"}}):o.a.createElement(Y.a,null))},H=a(49),G=a.n(H),U=(a(502),a(131),a(86)),W=["className","children","dragAll"],V=function(e){var t=e.className,a=e.children,n=e.dragAll,r=Object(M.a)(e,W);return console.log(o.a.isValidElement(a)),o.a.isValidElement(a)?o.a.createElement(x.b,r,(function(e,r){var l=n?e.dragHandleProps:{};return o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",Object.assign({className:t,ref:e.innerRef},e.draggableProps,l),o.a.cloneElement(a,{provided:e})),o.a.createElement("tr",{style:{display:r.isDragging?"table-row":"none",backgroundColor:r.isDragging?"blue":"none"}},o.a.cloneElement(a,{provided:e})))})):o.a.createElement("div",null)};V.defaultProps={dragAll:!0};var B=o.a.memo(V),q=(a(490),a(506)),J=a(505),K=a(138),Q=a.n(K),X=function(e){var t=e.title,a=e.onClick;return o.a.createElement("th",{onClick:a},t)};var Z=function(){var e=i((function(e){return e.appModel.availableCards})),t=Object(n.useState)(void 0),a=Object(s.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(e),u=Object(s.a)(c,2),d=u[0],m=u[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),h=f[0],p=f[1];Object(n.useEffect)((function(){console.log(h);var e=Q.a.go(h,d.map((function(e){return e.title})));console.log(e)}),[h]),Object(n.useEffect)((function(){var t=r,a=Object(U.a)(e);m(a.sort((function(e,a){var n=e[t],o=a[t];if(console.log(n,o),n&&o){if(n<o)return-1;if(n>o)return 1}return 0}))),console.log(r)}),[r,e]);Object(n.useRef)(e);return Object(n.useEffect)((function(){console.log(e)}),[e]),o.a.createElement("div",null,o.a.createElement(q.a,{onChange:function(e){return p(e.currentTarget.value)},placeholder:"search title"}),o.a.createElement("div",{style:{paddingBottom:".5em",paddingTop:".5em"}},o.a.createElement(J.a.Divider,null)),o.a.createElement(T,{className:"table-container",droppableId:"Card Content Table",isDropDisabled:!0},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement(X,{title:"Title",onClick:function(){return l("title")}}),o.a.createElement(X,{title:"Date Added",onClick:function(){return l("added")}}),o.a.createElement(X,{title:"URL",onClick:function(){return l("sourceId")}}),o.a.createElement(X,{title:"Author",onClick:function(){return l("author")}}),o.a.createElement(X,{title:"Interaction",onClick:function(){return l("interaction")}})),d.map((function(e,t){return o.a.createElement(B,{draggableId:e.sourceId,index:t,key:t.toString(),isDragDisabled:e.isActive,className:e.isActive?"content-row-active":"contnet-row-inactive"},o.a.createElement(o.a.Fragment,null,o.a.createElement("td",null,o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("img",{className:"row-favicon",src:"https://s2.googleusercontent.com/s2/favicons?domain_url=".concat(e.src)}),o.a.createElement("div",{style:{marginTop:"auto",marginBottom:"auto",textAlign:"left"}},e.title))),o.a.createElement("td",null,function(e){if(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")}return"faulty date"}(e.added)),o.a.createElement("td",null,e.src),o.a.createElement("td",null,e.author),o.a.createElement("td",null,e.interaction)))}))))))},$=a(29),ee=(a(494),function(){c((function(e){return e.appModel.setActiveCards}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,"TEMP"))}),te=function(){var e=i((function(e){return e.layoutsModel.externalLayouts}));return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",null,"Current Layout")),o.a.createElement("table",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Title"),o.a.createElement("th",null,"Date Added"),o.a.createElement("th",null,"Author")),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{key:t},e.title),o.a.createElement("td",null,e.added.toString()),o.a.createElement("td",null,e.author))})))))},ae=a(140),ne=a.n(ae),oe=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.a,{trigger:"Save Layout"},o.a.createElement("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSeKP2imQv_UCj4qrGNk7mT6Rzz83F30IvEl8ZFdERIdzSnvig/viewform?usp=sf_link",width:"100%",frameBorder:0,marginHeight:0,marginWidth:0,style:{height:"60em"}},"Loading\u2026")),o.a.createElement(te,null))},re=function(){return o.a.createElement("div",{className:"editor-form-container"},o.a.createElement($.d,null,o.a.createElement($.b,null,o.a.createElement($.a,null,"Content"),o.a.createElement($.a,null,"Layouts"),o.a.createElement($.a,null,"Performance Tests")),o.a.createElement($.c,null,o.a.createElement(Z,null)),o.a.createElement($.c,null,o.a.createElement(oe,null)),o.a.createElement($.c,null,o.a.createElement(ee,null))))},le=a(503),ce=a(504),ie=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=i((function(e){return e.appModel.appMode})),c=m()("editor-panel",{"editor-panel-full":!a,hidden:l===b.DISPLAY,"editor-panel-minimized":a}),u=m()("editor",{"editor-visible":l===b.EDIT}),d=m()("panel-overlay",{"panel-overlay-visible":a,"panel-overlay-hidden":!a});return L.a.createPortal(o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{handle:".editor-panel-handle",defaultClassName:c,defaultPosition:{x:100,y:100}},o.a.createElement("div",{className:u},o.a.createElement(se,{onMinimize:function(){r(!a)},visible:l===b.EDIT}),o.a.createElement("div",{className:d,onMouseUp:function(){return r(!1)}},o.a.createElement("div",{className:"overlay-icon-container"},o.a.createElement(le.a,{size:30}))),o.a.createElement(re,null)))),document.getElementById("editor-panel-container"))},se=function(e){var t=e.onMinimize;e.visible;return o.a.createElement("div",{className:"editor-panel-handle panel-header"},o.a.createElement("div",{onMouseUp:t,className:"panel-minimize-button"},o.a.createElement(ce.a,null)))},ue=function(){var e=c((function(e){return e.appModel.toggleViewMode})),t=c((function(e){return e.googleSheetsModel.fetchCardDataGoogleSheet})),a=c((function(e){return e.googleSheetsModel.fetchLayoutDataGoogleSheet})),r=c((function(e){return e.appModel.loadLocalLayouts})),l=c((function(e){return e.layoutsModel.swapCardContent}));Object(n.useEffect)((function(){t(),a(),r(),console.log("fetching data")}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onKeyUp:function(t){"F4"===t.key&&e()},tabIndex:0},o.a.createElement(z,null),o.a.createElement(x.a,{onDragEnd:function(e){var t,a;if(console.log("processing drag end"),(null===(t=e.destination)||void 0===t?void 0:t.droppableId)!=(null===(a=e.source)||void 0===a?void 0:a.droppableId)){console.log(e);var n=e.source,o=e.destination,r=e.draggableId;console.log(n,o,r),console.log("dragged from ".concat(r," to ").concat(null===o||void 0===o?void 0:o.droppableId," current title: ","yes")),o&&l({sourceId:r,targetId:o.droppableId})}}},o.a.createElement(ie,null),o.a.createElement("div",{style:{width:"100vw",height:"100vh"}},o.a.createElement(_,null)))))},de=a(16),me=a.n(de),ge=a(33),fe=a(40),he=a(41),pe=function(){function e(t){Object(fe.a)(this,e),this.src=void 0,this.title=void 0,this.added=void 0,this.sourceId=void 0,this.author=void 0,this.interaction=void 0,this.isActive=void 0,console.log(t),this.src=t.src,this.title=t.title,this.added=new Date(t.added),this.sourceId=t.src,this.author=t.author,this.interaction=S[t.interaction],this.isActive=!1}return Object(he.a)(e,[{key:"set_active",value:function(e){this.isActive=e}}]),e}(),ve=[{i:"clock",x:0,y:0,w:2,h:1,static:!0},{i:"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result",x:0,y:1,w:1,h:1,static:!0},{i:"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1",x:2,y:0,w:1,h:1,minW:2,maxW:4},{i:"https://leafletjs.com/examples/choropleth/example.html",x:2,y:0,w:1,h:1},{i:"https://observablehq.com/embed/@d3/zoomable-circle-packing?cells=chart",x:3,y:0,w:1,h:1},{i:"https://observablehq.com/embed/@d3/zoomable-sunburst?cells=chart",x:0,y:1,w:1,h:1},{i:"https://observablehq.com/embed/@d3/sortable-bar-chart?cells=chart",x:1,y:1,w:1,h:1},{i:"https://observablehq.com/embed/@d3/zoom-to-bounding-box?cells=chart",x:2,y:1,w:1,h:1},{i:"https://observablehq.com/embed/@d3/collapsible-tree?cells=chart",x:3,y:1,w:1,h:1},{i:"https://observablehq.com/embed/@d3/world-tour?cells=canvas",x:0,y:3,w:1,h:1},{i:"https://observablehq.com/embed/@mbostock/icelandic-population-by-age-1841-2019?cells=chart",x:1,y:3,w:1,h:1}],be={lg:ve,md:ve,sm:ve,xs:ve,xxs:ve};console.log(JSON.stringify(be));var Ee=be,ye=function(){function e(){Object(fe.a)(this,e),this.events=void 0,this.currentStep=void 0;this.events=[],this.currentStep=0}return Object(he.a)(e,[{key:"addEditEvent",value:function(e){this.currentStep+=1,this.events.push(e)}},{key:"undo",value:function(){return console.log(this.currentStep),this.currentStep-=1,this.events[this.currentStep]}},{key:"redo",value:function(){return console.log(this.currentStep),this.currentStep+=1,this.events[this.currentStep]}}]),e}(),Se={availableCards:[],activeCards:[],currentLayout:Ee,appMode:b.DISPLAY,history:new ye,localStorageLayouts:[],manageViewModeChange:Object(r.g)((function(e,t){switch(console.log(t),e.setAppMode(t),t){case b.EDIT:case b.DISPLAY:case b.CYCLE:break;default:console.log("reached default in set view mode thunk")}})),toggleViewMode:Object(r.g)((function(e,t,a){var n=a.getState;switch(console.log("toggling view mod "),n().appMode){case b.EDIT:e.setAppMode(b.DISPLAY);break;case b.DISPLAY:e.setAppMode(b.EDIT);break;case b.CYCLE:break;default:console.log("reached default in set view mode thunk")}console.log(n().appMode)})),setCurrentLayout:Object(r.b)((function(e,t){e.currentLayout=t})),setAvailableCards:Object(r.b)((function(e,t){console.log("setting available cards"),e.availableCards=t})),setActiveCards:Object(r.b)((function(e,t){console.log("setting active cards"),console.log(t),e.activeCards=t})),setAppMode:Object(r.b)((function(e,t){console.log("setting view mode"),e.appMode=t})),onCardSheetLoadSuccess:Object(r.c)((function(e,t){return t.googleSheetsModel.setCardDataGoogleSheet}),(function(e,t){console.log("diong on cart sheet load success"),console.log(t.payload);var a=t.payload.data.map((function(e){return new pe(e)}));console.log(a),e.availableCards=a})),onSetActiveLayout:Object(r.h)((function(e,t){return t.layoutsModel.setActiveLayout}),function(){var e=Object(ge.a)(me.a.mark((function e(t,a,n){var o,r,l,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log("listened for setActiveLayout at app_model"),r=a.payload.sources().filter((function(e){return"clock"!==e})),console.log(r),console.log(o().availableCards),l=o().availableCards.map((function(e){return r.includes(e.sourceId)?e.set_active(!0):e.set_active(!1),e})),c=o().availableCards.filter((function(e){return r.includes(e.sourceId)})),t.setAvailableCards(l),t.setActiveCards(c),console.log(c);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),onSwapCardContent:Object(r.h)((function(e,t){return t.layoutsModel.swapCardContent}),function(){var e=Object(ge.a)(me.a.mark((function e(t,a,n){var o,l;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log("got swap card content"),console.log(a.payload),console.log(o().activeCards),l=o().activeCards.map((function(e){if(e.sourceId===a.payload.targetId){var t=o().availableCards.filter((function(e){return e.sourceId===a.payload.sourceId}))[0];return console.log(t),t}return e})),t.setActiveCards(l),console.log(Object(r.f)(a));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),onUndoHistory:Object(r.h)((function(e,t){return t.historyModel.setCurrentHistory}),function(){var e=Object(ge.a)(me.a.mark((function e(t,a,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.injections,console.log("got undo"),console.log(a.payload),t.setCurrentLayout(a.payload),console.log(Object(r.f)(a));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),onRedoHistory:Object(r.h)((function(e,t){return t.historyModel.setCurrentHistory}),function(){var e=Object(ge.a)(me.a.mark((function e(t,a,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.injections,console.log("got redo"),console.log(a.payload),t.setCurrentLayout(a.payload),console.log(Object(r.f)(a));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),clearLocalLayouts:Object(r.b)((function(e){localStorage.clear(),e.localStorageLayouts=[]})),loadLocalLayouts:Object(r.b)((function(e){var t=Object.keys(localStorage).filter((function(e){return e.startsWith("curLayout")})).map((function(e){return{name:e,layout:JSON.parse(localStorage[e])}}));e.localStorageLayouts=t})),saveLayoutLocal:Object(r.g)((function(e,t,a){var n=a.getState;localStorage.setItem("curLayout_".concat(localStorage.length),JSON.stringify(n().currentLayout)),e.loadLocalLayouts()}))},Oe={history:new ye,undoHistory:Object(r.g)((function(e,t,a){var n=a.getState;e.undoIt(),e.setCurrentHistory(n().history.undo())})),undoIt:Object(r.b)((function(e){e.history.undo(),console.log(e.history.currentStep)})),redoIt:Object(r.b)((function(e){e.history.redo(),console.log(e.history.currentStep)})),setCurrentHistory:Object(r.b)((function(e,t){console.log(t)})),addEditHistory:Object(r.b)((function(e,t){console.log("adding edit history"),console.log(t);var a=JSON.stringify(t);console.log(a),e.history.addEditEvent(t)}))},je=function(){function e(t){Object(fe.a)(this,e),this.title=void 0,this.author=void 0,this.added=void 0,this.layout=void 0,this.title=t.title,this.author=t.author,this.added=new Date(t.Timestamp),this.layout=JSON.parse(t.layout)}return Object(he.a)(e,[{key:"swapCard",value:function(e){for(var t=this,a=function(){var a=Object(s.a)(o[n],2),r=a[0],l=a[1];l.forEach((function(t,a){t.i==e.targetId&&(l[a].i=e.sourceId)})),t.layout[r]=l},n=0,o=Object.entries(this.layout);n<o.length;n++)a()}},{key:"sources",value:function(){return this.layout.lg.map((function(e){return e.i}))}}]),e}(),we={activeLayout:void 0,externalLayouts:[],onLayoutSheetLoadSuccess:Object(r.h)((function(e,t){return t.googleSheetsModel.setLayoutDataGoogleSheet}),(function(e,t){console.log("diong on cart sheet load success"),console.log(t.payload);var a=t.payload.data.map((function(e){return new je(e)})),n=a.filter((function(e){return"Default_Layout_1"===e.title}))[0];e.setActiveLayout(n),e.setExternalLayouts(a),console.log(a)})),setActiveLayout:Object(r.b)((function(e,t){console.log("setting active layout"),e.activeLayout=t})),setExternalLayouts:Object(r.b)((function(e,t){console.log("setting external layouts"),e.externalLayouts=t})),swapCardContent:Object(r.g)((function(e,t,a){var n=a.getState,o=a.getStoreState,r=(a.getStoreActions,o().appModel.activeCards,n().activeLayout);r&&(r.swapCard(t),e.setActiveLayout(r))})),updateLayout:Object(r.b)((function(e,t){var a=e.activeLayout;a&&(a.swapCard(t),console.log(a.layout),e.activeLayout=a)}))},Le=a(141),Ce=a.n(Le);function Ie(e){return new Promise((function(t,a){Ce.a.labeledCols(e.key,e.sheet_number).then((function(e){console.log(e),t(e)})).catch((function(t){console.error("Error: ".concat(t," fetching DOC_KEY ").concat(e.key,", sheet number ").concat(e.sheet_number))}))}))}var ke={key:"181P-SDszUOj_xn1HJ1DRrO8pG-LXyXNmINcznHeoK8k",sheet_number:1},De={appModel:Se,historyModel:Oe,layoutsModel:we,googleSheetsModel:{layoutDataGoogleSheet:null,cardDataGoogleSheet:null,fetchCardDataGoogleSheet:Object(r.g)(function(){var e=Object(ge.a)(me.a.mark((function e(t,a,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getState,Ie(ke).then((function(e){console.log(e),t.setCardDataGoogleSheet(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),fetchLayoutDataGoogleSheet:Object(r.g)(function(){var e=Object(ge.a)(me.a.mark((function e(t,a,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getState,Ie({key:ke.key,sheet_number:2}).then((function(e){console.log(e),t.setLayoutDataGoogleSheet(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),setCardDataGoogleSheet:Object(r.b)((function(e,t){e.cardDataGoogleSheet=t})),setLayoutDataGoogleSheet:Object(r.b)((function(e,t){e.layoutDataGoogleSheet=t}))}},Ae=Object(r.d)(De);L.a.render(o.a.createElement(r.a,{store:Ae},o.a.createElement(ue,null)),document.getElementById("root"))}},[[495,1,2]]]);
//# sourceMappingURL=main.2909f44d.chunk.js.map