(this.webpackJsonpcuboard=this.webpackJsonpcuboard||[]).push([[0],{106:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},137:function(e){e.exports=JSON.parse('{"title":"NEWFILLEDLAYOUT","author":"Webb Hinton","added":"2021-11-30T05:00:00.000Z","id":"NEWFILLEDLAYOUT_11/30/2021 14:00:20","sourceLayout":{"layout":{"lg":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"md":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"sm":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"xs":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"xxs":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}]},"layoutSettings":{"cardSettings":[],"gridSettings":{"defaultBackgroundColor":"red"}},"widgets":[{"id":"clock","contentType":"widget","isActive":false},{"id":"clock","contentType":"widget","isActive":false}]},"layout":{"lg":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"md":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"sm":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"xs":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"xxs":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}]},"layoutWidgets":[{"id":"clock","contentType":"widget","isActive":false}]}')},145:function(e,t,a){},146:function(e,t,a){},150:function(e,t,a){},153:function(e,t,a){},166:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n,o,r,i,c,l,s=a(0),u=a.n(s),d=a(17),f=(a(145),a(146),a(139)),m=a(10),h=(a(150),a(24)),v=a.n(h),p=a(23),g=a.n(p);!function(e){e.DISPLAY="DISPLAY",e.EDIT="EDIT",e.CYCLE="CYCLE"}(n||(n={})),function(e){e.GRID="GRID",e.PREVIEW="PREVIEW",e.FULL_SCREEN="FULL_SCREEN"}(o||(o={})),function(e){e.CARD_TABLE_DATA="CARD_TABLE_DATA",e.DISPLAY_CARD="DISPLAY_CARD"}(r||(r={})),function(e){e.ACTIVE="ACTIVE",e.STATIC="STATIC",e.FIXED="FIXED",e.IMAGE="IMAGE"}(i||(i={})),function(e){e.PLACEHOLDER="PLACEHOLDER",e.CLOCK="CLOCK",e.IFRAME="IFRAME",e.CARD_ROW="CARD_ROW",e.LAYOUT="LAYOUT",e.WIDGET="WIDGET"}(c||(c={})),function(e){e.LAYOUT_TABLE="LAYOUT_TABLE",e.CARD_TABLE="CARD_TABLE",e.CARD_GRID="CARD_GRID",e.WIDGETS_TABLE="WIDGETS_TABLE"}(l||(l={}));var y=a(14),b=Object(y.e)(),E=b.useStoreActions,w=(b.useStoreDispatch,b.useStoreState);var O=function(){return{fetchTopLevelSheet:E((function(e){return e.googleSheetsModel.fetchTopLevelSheet})),parentSheetUrl:w((function(e){return e.googleSheetsModel.cardSheetUrl})),cardSheetUrl:w((function(e){return e.googleSheetsModel.cardSheetUrl})),layoutSheetUrl:w((function(e){return e.googleSheetsModel.layoutSheetUrl})),formUrl:w((function(e){return e.googleSheetsModel.formUrl}))}},x=function(){var e=w((function(e){return e.appModel.appErrors})),t=w((function(e){return e.layoutsModel.layoutErrors})),a=w((function(e){return e.googleSheetsModel.googleSheetsErrors}));return{appErrors:e,layoutErrors:t,googleSheetsErrors:a,allErrors:[].concat(Object(d.a)(e),Object(d.a)(t),Object(d.a)(a))}},S=function(){var e=E((function(e){return e.appModel.toggleAppMode})),t=w((function(e){return e.appModel.rotationSpeed})),a=w((function(e){return e.appModel.rotateLayouts})),n=w((function(e){return e.googleSheetsModel.sheetsAreLoaded})),o=E((function(e){return e.appModel.setRotationSpeed})),r=E((function(e){return e.layoutsModel.transitionLayout})),i=E((function(e){return e.appModel.setRotateLayouts})),c=E((function(e){return e.appModel.addAppError}));return{appMode:w((function(e){return e.appModel.appMode})),rotationSpeed:t,setRotationSpeed:o,toggleAppMode:e,rotateLayouts:a,setRotateLayouts:i,addAppError:c,sheetsAreLoaded:n,transitionLayout:r}},C=function(){var e=w((function(e){return e.appModel.activeCards})),t=w((function(e){return e.appModel.activeWidgets})),a=w((function(e){return e.layoutsModel.externalLayouts})),n=E((function(e){return e.layoutsModel.swapCardContent})),o=E((function(e){return e.layoutsModel.deleteCard})),r=E((function(e){return e.layoutsModel.addCard})),i=E((function(e){return e.layoutsModel.setBufferLayout})),c=w((function(e){return e.layoutsModel.activeLayout})),l=E((function(e){return e.layoutsModel.setNextLayout}));return{activeCards:e,activeWidgets:t,setBufferLayout:i,activeLayout:c,deleteCard:o,addCard:r,swapCard:n,setActiveLayout:E((function(e){return e.layoutsModel.setActiveLayout})),useNextLayout:l,clearCards:E((function(e){return e.layoutsModel.clearCards})),resetLayout:E((function(e){return e.layoutsModel.resetLayout})),externalLayouts:a}};function j(e,t){Object(s.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])}function L(e,t,a){var n=Object(s.useRef)();Object(s.useEffect)((function(){var o=(null===a||void 0===a?void 0:a.current)||window;if(o&&o.addEventListener){n.current!==t&&(n.current=t);var r=function(e){(null===n||void 0===n?void 0:n.current)&&n.current(e)};return o.addEventListener(e,r),function(){o.removeEventListener(e,r)}}}),[e,a,t])}function A(){var e=Object(s.useState)(null),t=Object(m.a)(e,2),a=t[0],n=t[1],o=Object(s.useState)({width:0,height:0}),r=Object(m.a)(o,2),i=r[0],c=r[1],l=Object(s.useCallback)((function(){c({width:(null===a||void 0===a?void 0:a.offsetWidth)||0,height:(null===a||void 0===a?void 0:a.offsetHeight)||0})}),[null===a||void 0===a?void 0:a.offsetHeight,null===a||void 0===a?void 0:a.offsetWidth]);return L("resize",l),Object(s.useLayoutEffect)((function(){l()}),[null===a||void 0===a?void 0:a.offsetHeight,null===a||void 0===a?void 0:a.offsetWidth]),[n,i]}function D(){var e=Object(s.useState)({width:0,height:0}),t=Object(m.a)(e,2),a=t[0],n=t[1],o=function(){n({width:window.innerWidth,height:window.innerHeight})};return L("resize",o),Object(s.useLayoutEffect)((function(){o()}),[]),a}var k=a(30),I={uniforms:{time:{value:0}},vertexShader:"\n    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n  \n    float snoise(vec2 v) {\n        const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                            0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                            -0.577350269189626,  // -1.0 + 2.0 * C.x\n                            0.024390243902439); // 1.0 / 41.0\n        vec2 i  = floor(v + dot(v, C.yy) );\n        vec2 x0 = v -   i + dot(i, C.xx);\n        vec2 i1;\n        i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n        vec4 x12 = x0.xyxy + C.xxzz;\n        x12.xy -= i1;\n        i = mod289(i); // Avoid truncation effects in permutation\n        vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n            + i.x + vec3(0.0, i1.x, 1.0 ));\n  \n        vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n        m = m*m ;\n        m = m*m ;\n        vec3 x = 2.0 * fract(p * C.www) - 1.0;\n        vec3 h = abs(x) - 0.5;\n        vec3 ox = floor(x + 0.5);\n        vec3 a0 = x - ox;\n        m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n        vec3 g;\n        g.x  = a0.x  * x0.x  + h.x  * x0.y;\n        g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n        return 130.0 * dot(m, g);\n    }\n  \n  \n    \n  \n    uniform float u_time;\n    uniform vec2 u_randomisePosition;\n  \n    varying float vDistortion;\n    varying float xDistortion;\n    varying vec2 vUv;\n  \n    void main() {\n        vUv = uv;\n        vDistortion = snoise(vUv.xx * 3. - u_randomisePosition * 0.15);\n        xDistortion = snoise(vUv.yy * 1. - u_randomisePosition * 0.05);\n        vec3 pos = position;\n        pos.z += (vDistortion * 35.);\n        pos.x += (xDistortion * 25.);\n  \n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    }\n    ",fragmentShader:"\n    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n  \n    float snoise(vec2 v) {\n        const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                            0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                            -0.577350269189626,  // -1.0 + 2.0 * C.x\n                            0.024390243902439); // 1.0 / 41.0\n        vec2 i  = floor(v + dot(v, C.yy) );\n        vec2 x0 = v -   i + dot(i, C.xx);\n        vec2 i1;\n        i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n        vec4 x12 = x0.xyxy + C.xxzz;\n        x12.xy -= i1;\n        i = mod289(i); // Avoid truncation effects in permutation\n        vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n            + i.x + vec3(0.0, i1.x, 1.0 ));\n  \n        vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n        m = m*m ;\n        m = m*m ;\n        vec3 x = 2.0 * fract(p * C.www) - 1.0;\n        vec3 h = abs(x) - 0.5;\n        vec3 ox = floor(x + 0.5);\n        vec3 a0 = x - ox;\n        m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n        vec3 g;\n        g.x  = a0.x  * x0.x  + h.x  * x0.y;\n        g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n        return 130.0 * dot(m, g);\n    }\n  \n  \n  \n  \n  \n    vec3 rgb(float r, float g, float b) {\n      return vec3(r / 255., g / 255., b / 255.);\n  }\n  \n  vec3 rgb(float c) {\n      return vec3(c / 255., c / 255., c / 255.);\n  }\n  \n  uniform vec3 u_bg;\n  uniform vec3 u_bgMain;\n  uniform vec3 u_color1;\n  uniform vec3 u_color2;\n  uniform float u_time;\n  \n  varying vec2 vUv;\n  varying float vDistortion;\n  \n  void main() {\n      vec3 bg = rgb(u_bg.r, u_bg.g, u_bg.b);\n      vec3 c1 = rgb(u_color1.r, u_color1.g, u_color1.b);\n      vec3 c2 = rgb(u_color2.r, u_color2.g, u_color2.b);\n      vec3 bgMain = rgb(u_bgMain.r, u_bgMain.g, u_bgMain.b);\n  \n      float noise1 = snoise(vUv + u_time * 0.08);\n      float noise2 = snoise(vUv * 2. + u_time * 0.1);\n  \n      vec3 color = bg;\n      color = mix(color, c1, noise1 * 0.6);\n      color = mix(color, c2, noise2 * .4);\n  \n      color = mix(color, mix(c1, c2, vUv.x), vDistortion);\n  \n      float border = smoothstep(0.1, 0.6, vUv.x);\n  \n      color = mix(color, bgMain, 1. -border);\n  \n      gl_FragColor = vec4(color, 1.0);\n  }\n    "},T=a(302),R=a(323),M=a(13);function N(e){if(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear().toString().slice(2);return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[a,n,o].join(".")}return"faulty date"}function _(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function P(e,t){return Math.random()*(t-e)+e}var U=new M.Vector2(1,2);function W(e,t,a){return new M.Vector3(e,t,a)}var z={pink:W(182,9,76),brightPink:W(241,3,66),darkPurple:W(42,8,56),orange:W(244,93,31),darkgrey:W(50,50,50),lightgrey:W(150,150,150),red:W(204,0,0)},G={u_bg:{type:"v3",value:z.lightgrey},u_bgMain:{type:"v3",value:z.lightgrey},u_color1:{type:"v3",value:z.lightgrey},u_color2:{type:"v3",value:z.lightgrey},u_time:{type:"f",value:0},u_randomisePosition:{type:"v2",value:U}},B=function(e){var t=e.position,a=Object(s.useRef)(),n=0,o=0,r=_(0,32),i=_(0,32),c=!1;return Object(k.b)((function(e){e.clock;a.current.uniforms.u_randomisePosition.value=new M.Vector2(o,o),a.current.uniforms.u_color1.value=new M.Vector3(function(e,t,a){return Math.floor(192+64*Math.cos((e*e-t*t)/300+a))}(r,i,n/2),function(e,t,a){return Math.floor(192+64*Math.sin((e*e*Math.cos(a/4)+t*t*Math.sin(a/3))/300))}(r,i,n/2),function(e,t,a){return Math.floor(192+64*Math.sin(5*Math.sin(a/9)+((e-100)*(e-100)+(t-100)*(t-100))/1100))}(r,i,n/2)),a.current.uniforms.u_time.value=n,n%.1===0&&(!1===c?(r-=1)<=0&&(c=!0):(r+=1)>=32&&(c=!1)),o+=.01,n+=.01})),u.a.createElement("mesh",{position:t,rotation:[M.MathUtils.degToRad(0),M.MathUtils.degToRad(0),M.MathUtils.degToRad(90)]},u.a.createElement("planeGeometry",{attach:"geometry",args:[400,window.innerWidth/2,45,45]}),u.a.createElement("shaderMaterial",{attach:"material",vertexShader:I.vertexShader,fragmentShader:I.fragmentShader,uniforms:G,ref:a}))},V=function(){var e=Object(s.useRef)();return u.a.createElement(k.a,{gl:{antialias:!1,alpha:!1}},u.a.createElement(T.a,{ref:e,position:[0,0,0],fov:75,aspect:window.innerWidth/window.innerHeight,near:.1,far:1e3}),u.a.createElement(B,{position:[0,0,-100],faceResolution:100}),u.a.createElement(R.a,null))},F=function(){var e=S().appMode,t=Object(s.useState)({backgroundColor:"gray"}),a=Object(m.a)(t,2),o=a[0],r=a[1];Object(s.useEffect)((function(){var t={position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:e===n.EDIT?"#2d2d2d":"gray",transition:"background-color 0.5s ease"};r(t)}),[e]);var i=v()("background-container",{"background-container-display-mode":e==n.DISPLAY,"background-container-edit-mode":e==n.EDIT});return g.a.createPortal(u.a.createElement("div",{className:i,style:o},e===n.EDIT?u.a.createElement("div",{style:{position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:"lightgrey",transition:"background-color 0.5s ease"}}):u.a.createElement("div",{className:"background-container"},u.a.createElement("div",{className:"shader-container"},u.a.createElement(V,null)),u.a.createElement("div",{className:"particle-container"}))),document.querySelector("#background"))},Y=u.a.memo(F),H=(a(95),a(153),a(316)),J=a(63),K={idleTime:1e7,sheetLink:"https://docs.google.com/spreadsheets/d/1BR1AQ5Zmt_o_0dOm9AvDht0G3Q6RXQUhX71Vi4H7tTU/edit#gid=0",defaultIframeScale:.5,defaultEmbedScale:1,defaultLayoutName:"Data Vis Types Chart 1",formLink:"https://forms.gle/nc3UQFtFUtSaF5mu6",widgetIds:["clock","group label","info"],gridRows:6,gridCols:4,showModeSwitchButton:!1,useStaticLayout:!1,gridBottomPadding:50,rotationDuration:1e5},X=a(1),q=a(3),Q=a(4),Z=a(5),$=(a(166),a(127)),ee=a.n($),te=function(e){var t=e.card,a=e.scale,n=e.cardView,r=e.onError,i=e.onLoad,c=e.objectFit,l=Object(s.useState)(!1),d=Object(m.a)(l,2),f=d[0],h=d[1],p=Object(s.useState)(!0),g=Object(m.a)(p,2),y=g[0],b=(g[1],Object(s.useState)(!1)),E=Object(m.a)(b,2),w=E[0],O=E[1],x=(v()("iframe-view-overlay",{"iframe-view-overlay-hidden":w,"iframe-view-overlay-loading":!w}),v()("iframe-container",{"iframe-container-hidden":!y}));Object(s.useEffect)((function(){}),[n]);var S={border:"none",transform:"scale(".concat(a,")"),width:"".concat(1/a*100,"%"),height:"".concat(1/a*100,"%"),transformOrigin:"top left"},C=t.src,j=t.contentType;return u.a.createElement("div",{className:x,onDoubleClick:function(){h(!f)}},"video"===j?u.a.createElement(ne,{onReady:function(e){O(!0)},src:t.src}):"image"===j?u.a.createElement("img",{onLoad:function(e){i(e,t)},onError:function(e){r(e,t)},src:C,style:{width:"100%",height:"100%",objectFit:(null!==c&&void 0!==c?c:n===o.PREVIEW)?"contain":"cover",objectPosition:n===o.PREVIEW?"contain":"center"}}):u.a.createElement("iframe",{onLoad:function(e){O(!0)},src:C,style:f?{width:"100%",height:"100%",border:"5px blue"}:S}))},ae=u.a.memo(te),ne=function(e){var t=e.src,a=e.onReady;return u.a.createElement("div",{className:"player-wrapper"},u.a.createElement(ee.a,{className:"react-player",controls:!0,height:"100%",muted:!0,onReady:a,playing:!0,url:t,width:"100%"}))},oe=(u.a.PureComponent,a(106),a(317),a(128),a(318)),re=function(e){var t=e.onClick,a=e.text,n=e.appearance,o=e.className,r=e.iconBefore,i=e.width,c=e.height,l=e.style,s=e.containerClass,d=e.fontSize,f=e.intent;return u.a.createElement("div",{className:s,onMouseUp:t,style:{width:i,height:"100%"}},u.a.createElement(oe.a,{appearance:null!==n&&void 0!==n?n:"default",className:o,cursor:"pointer",fontSize:d,height:null!==c&&void 0!==c?c:void 0,iconBefore:null!==r&&void 0!==r?r:void 0,intent:null!==f&&void 0!==f?f:"none",style:l,width:null!==i&&void 0!==i?i:void 0},a))},ie=(a(259),function(e){var t=e.data,a=(e.className,Object(s.useState)(!1)),n=Object(m.a)(a,2);n[0],n[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"card-footer"},u.a.createElement("h2",{style:{}},t.title),u.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&apos standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book"," ")))}),ce=(a(260),a(303)),le=function(e){var t=e.onClick;e.action;return u.a.createElement("div",{className:"delete-button-container",onMouseUp:t,onClick:t,onTouchEnd:function(e){}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(ce.a,{size:30})))},se=(a(261),a(304)),ue=function(e){var t=e.onClick;Object(s.useRef)();return u.a.createElement("div",{className:"settings-button-container",onMouseUp:t},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(se.a,{size:15})))},de=(a(262),a(305)),fe=a(306),me=function(e){var t=e.title,a=e.children;return u.a.createElement("div",{className:"menu-input-row"},t,a)},he=function(e){var t=e.setScale,a=e.scale;return u.a.createElement("div",{className:"scale-controls-grid"},u.a.createElement(re,{containerClass:"scale-controls-left",height:20,iconBefore:u.a.createElement(de.a,{size:30}),onClick:function(){t(-.1)},width:20}),u.a.createElement("input",{onChange:function(e){t(parseInt(e.target.value))},style:{width:30},defaultValue:.5,type:"text",value:a.toString().slice(0,3)}),u.a.createElement(re,{containerClass:"scale-controls-right",height:20,iconBefore:u.a.createElement(fe.a,{size:30}),onClick:function(){t(.1)},width:20}))},ve=function(e){var t=e.isShown,a=e.setScale,n=e.setBackgroundColor,o=e.setShowMenu,r=e.scale,i=Object(s.useRef)(null),c=j(i,(function(){o(!1)})),l={display:t?"flex":"none"};return u.a.createElement("div",Object.assign({className:"menu-container",ref:i,style:l},c),u.a.createElement(me,{title:"Background Color:"},u.a.createElement("input",{className:"nodrag",defaultValue:"rbga(0,0,0,0)",onChange:function(e){n(e.target.value)},type:"color"})),u.a.createElement(me,{title:"Scale: "},u.a.createElement(he,{scale:r,setScale:a})))},pe=function(e){var t=e.cardType,a=e.children,r=e.cardId,i=e.data,l=e.onClick,d=(e.useAnimation,Object(s.useRef)(null)),f=S(),h=f.appMode,p=f.addAppError,g=C().deleteCard,b=Object(s.useState)(o.GRID),E=Object(m.a)(b,2),O=E[0],x=E[1],L=Object(s.useState)(!1),A=Object(m.a)(L,2),D=(A[0],A[1]),k=Object(s.useState)(!1),I=Object(m.a)(k,2),T=(I[0],I[1]),R=Object(s.useState)("widget"===(null===i||void 0===i?void 0:i.contentType)?"loaded":""),M=Object(m.a)(R,2),N=M[0],_=M[1],U=w((function(e){return e.layoutsModel.animationCounter}));Object(s.useEffect)((function(){h===n.DISPLAY&&_("out"),"widget"===(null===i||void 0===i?void 0:i.contentType)&&_("loaded")}),[U]);var W=Object(y.h)((function(){return{cardView:o.GRID,setCardView:Object(y.b)((function(e,t){e.cardView=t})),scale:"embed"===(null===i||void 0===i?void 0:i.contentType)?K.defaultEmbedScale:K.defaultIframeScale,setScale:Object(y.b)((function(e,t){e.scale+=t})),cardBackgroundColor:"",setBackgroundColor:Object(y.b)((function(e,t){e.cardBackgroundColor=t})),setShowMenu:Object(y.b)((function(e,t){e.showMenu=t})),toggleMenu:Object(y.b)((function(e){e.showMenu=!e.showMenu})),showMenu:!1,cardType:t,cardClass:Object(y.c)([function(e){return e.cardView}],(function(e){return v()("card",{"card-edit":h===n.EDIT,"card-display":h===n.DISPLAY&&e==o.GRID,"card-preview":e===o.PREVIEW,"card-fullscreen":e===o.FULL_SCREEN,"card-empty":h===n.EDIT&&!a,"card-empty-hidden":!a&&h==n.DISPLAY,"card-locked":G.cardType===c.CLOCK&&h===n.EDIT})})),cardInfoClass:Object(y.c)((function(e){return v()("info",{"info-hidden":h===n.EDIT,"info-display":h===n.DISPLAY,"info-preview":e.cardView===o.PREVIEW})})),handleCardPress:Object(y.f)((function(e,t,a){var c,l=a.getState,s=document.getElementById("root");if((s.style.pointerEvents="all")&&(s.style.pointerEvents="none"),setTimeout((function(){s.style.pointerEvents="all"}),1e3),h===n.DISPLAY&&void 0!=r)switch(l().cardView){case o.GRID:break;case o.PREVIEW:e.setCardView(o.GRID),document.getElementById(null!==(c=null===i||void 0===i?void 0:i.id)&&void 0!==c?c:"view_card").style.zIndex="0"}}))}}),[h],(function(e){return{devTools:!1}})),z=Object(m.a)(W,2),G=z[0],B=z[1],V={scale:G.scale,setScale:B.setScale,setBackgroundColor:B.setBackgroundColor,setShowMenu:B.setShowMenu},F=v()("card-modal-backdrop",{"card-modal-backdrop-active":O===o.PREVIEW||O===o.FULL_SCREEN,"card-modal-backdrop-inactive":O===o.GRID}),Y=v()("card-child-container",{"card-child-container-preview":G.cardView===o.PREVIEW,"card-child-container-fullscreen":G.cardView===o.FULL_SCREEN,"card-child-container-grid":G.cardView===o.GRID}),J=function(e){var t=e.keyCode,a=e.action,n=e.disabled;u.a.useEffect((function(){return n||o(),function(){r()}}));var o=function(){document.addEventListener("keydown",i)},r=function(){document.removeEventListener("keydown",i)},i=function(e){e.keyCode===t&&(e.preventDefault(),a(e))};return{enable:o,disable:r}}({keyCode:27,action:function(){O!==o.FULL_SCREEN&&O!==o.PREVIEW||x(o.GRID)},disabled:!1}),X=(J.enable,J.disable,function(){if(h==n.EDIT&&i)return u.a.createElement(u.a.Fragment,null,u.a.createElement(le,{onClick:function(){g(i.id)},action:function(){g(i.id)}}),u.a.createElement(ue,{onClick:function(e){B.toggleMenu()}}))}),q=function(){if(O===o.PREVIEW&&i&&"widget"!==i.contentType)return u.a.createElement(ie,{className:G.cardInfoClass,data:i})},Q=Object(s.useRef)(null);j(Q,(function(e){e.preventDefault(),G.cardView==o.PREVIEW&&B.setCardView(o.GRID)}));Object(s.useEffect)((function(){G.cardView,o.PREVIEW,G.cardView,o.GRID}),[G.cardView]);var Z={active:{opacity:1,transition:{delay:P(.4,.5),duration:.5}},preview:{opacity:1,transition:{duration:.2}},none:{opacity:1,x:0,y:0},error:{backgroundColor:"red"},loaded:{opacity:1,transition:{delay:P(.4,.5),duration:.5},x:0},out:{y:P(-50,-75),opacity:0,transition:{delay:P(.1,.5),duration:.5}}};return Object(s.useEffect)((function(){console.log(N)}),[N]),u.a.createElement(H.a.div,{animate:N,className:G.cardClass,initial:"widget"===(null===i||void 0===i?void 0:i.contentType)?"loaded":"",layoutId:"viewcard",ref:d,style:{transformOrigin:"center",willChange:"transform",height:"100%",backgroundColor:G.cardBackgroundColor,opacity:h===n.DISPLAY?0:1,y:0},variants:Z},a&&u.a.createElement("div",{className:F},u.a.createElement("div",{className:Y,onMouseUp:function(){B.handleCardPress(),l&&l()},ref:Q},"widget"!==(null===i||void 0===i?void 0:i.contentType)?[X(),q()]:[X()],a(G.scale,G.cardView,(function(e,t){var a=t.title,n=t.src;p({errorType:"failed to load content",description:"description",source:"Card: ".concat(a),link:n}),D(!0)}),(function(e,t){h===n.DISPLAY&&_("loaded"),T(!0)})),u.a.createElement(ve,Object.assign({},V,{isShown:G.showMenu}))),function(){if(O===o.FULL_SCREEN)return u.a.createElement(ge,{onClick:function(){x(o.GRID)}})}()))},ge=function(e){var t=e.onClick;return u.a.createElement("div",{className:"return-button-container"},u.a.createElement(re,{onClick:t,text:"Return",width:300}))};var ye=u.a.memo(pe),be=a(26),Ee=a(51),we=(a(263),a(264),a(308)),Oe=function(){return u.a.createElement("div",{className:"pulsar"},u.a.createElement(we.a,{size:150}))},xe=["children","className","cardType"],Se=function(e){var t=e.children,a=e.className,n=(e.cardType,Object(be.a)(e,xe));return u.a.createElement(Ee.c,Object.assign({},n,{type:"DEFAULT"}),(function(e,n){return u.a.createElement("div",Object.assign({},e.innerRef,{ref:e.innerRef,className:n.isDraggingOver?"droppable-hovered "+a:"droppable "+a}),u.a.createElement("div",{className:n.isDraggingOver?"droppable-overlay droppable-overlay-visible":"droppable-overlay droppable-overlay-hidden"},u.a.createElement(Oe,null)),t,e.placeholder)}))},Ce=function(e){var t=e.gridSettings,a=Object(J.WidthProvider)(J.Responsive),n=function(e,t){for(var a=[],n=0;n<e;n++)for(var o=0;o<t;o++)a.push({x:o,y:n});var r=a.map((function(e){return{x:e.x,y:e.y,w:1,h:1,i:"empty_card_[".concat(e.x,", ").concat(e.y,"]"),minW:1,maxW:1,minH:1,maxH:1,static:!1,isDraggable:!1,isResizable:!1,resizeHandles:[]}}));return{lg:r,md:r,sm:r,xs:r,xxs:r}}(K.gridRows,K.gridCols),o=n.lg.map((function(e){return e.i}));return u.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}},u.a.createElement(a,Object.assign({},t,{className:"card-layout",layouts:n,resizeHandles:[],preventCollision:!0,isDraggable:!1,isResizable:!1}),o.map((function(e,t){return u.a.createElement("div",{key:e},u.a.createElement(Se,{cardType:c.PLACEHOLDER,className:"droppable-guide",droppableId:e,key:t},u.a.createElement(ye,{key:e,cardId:e,cardType:c.PLACEHOLDER,useAnimation:!1})))}))))},je=u.a.memo(Ce);a(120);var Le=function(){var e=Object(s.useState)(new Date),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){var e=setInterval((function(){n(new Date)}),1e3);return function(){clearInterval(e)}})),u.a.createElement("div",{style:{height:"100%",padding:".25em",overflow:"hidden",width:"100%",fontWeight:600,color:"white",boxSizing:"border-box"}},u.a.createElement("div",{style:{color:"white",fontSize:"9vmin"}},"Data Experience Lab"),u.a.createElement("div",{style:{color:"white",fontSize:"9vmin"}},a.toLocaleTimeString("en-IT",{hour12:!0,timeStyle:"short"})))},Ae=a(310),De=(a(121),a(309)),ke=a(307),Ie=(a(266),function(e){var t=e.children,a=e.active,n=e.containerClassName,o=e.onClose,r=e.backdropOpacity;return u.a.createElement(H.a.div,{className:"modal-container",style:{display:a?"flex":"none",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"},animate:{y:0}},u.a.createElement(Te,{onClose:o,backdropOpacity:null!==r&&void 0!==r?r:0}),u.a.createElement("div",{style:{zIndex:1e3},className:n},t))}),Te=function(e){var t=e.onClose,a=e.backdropOpacity;return u.a.createElement("div",{onMouseUp:t,style:{opacity:a,zIndex:200},className:"pop-up-background"})},Re=(a(267),function(e){var t,a=e.children,n=e.className,o=e.padding,r=e.flexDirection,i={padding:null!==o&&void 0!==o?o:"0em",flexDirection:null!==r&&void 0!==r?r:"column"};return u.a.createElement("div",{style:i,className:null!==(t="panel "+n)&&void 0!==t?t:""},a)}),Me=function(e){var t=e.active,a=e.onClose;return Object(s.useEffect)((function(){console.log(t)}),[t]),g.a.createPortal(u.a.createElement(Ie,{active:t,onClose:a,backdropOpacity:0},u.a.createElement(H.a.div,{variants:{hidden:{y:100,opacity:0},visible:{opacity:1,y:0,transition:{duration:.5}}},style:{width:"30vw",height:"80vh",backgroundColor:"white",borderRadius:10,padding:"1em"},animate:t?"visible":"hidden"},u.a.createElement(Re,null,u.a.createElement(De.a,null,"Connect Labtop"),u.a.createElement("hr",null),u.a.createElement(ke.a,null,"Connect your labtop to use this screen as a display."),u.a.createElement("img",{className:"how-to-image",src:"/cupboard-dxl-display/labtopdiagram.png"}),u.a.createElement(De.a,null,"Explore Content"),u.a.createElement("hr",null),u.a.createElement(ke.a,null,"Click on a card to explore data related content."),u.a.createElement("img",{className:"how-to-image",src:"/cupboard-dxl-display/masonary.png"})))),document.getElementById("popup-container"))},Ne=function(){var e=Object(s.useState)(new Date),t=Object(m.a)(e,2),a=(t[0],t[1]),n=function(e){var t=Object(s.useState)(e),a=Object(m.a)(t,2),n=a[0],o=a[1];return[n,function(){return o(!n)}]}(!1),o=Object(m.a)(n,2),r=o[0],i=o[1];Object(s.useEffect)((function(){var e=setInterval((function(){a(new Date)}),1e3);return function(){clearInterval(e)}}));S().appMode;return u.a.createElement("div",{style:{height:"100%",width:"100%",fontSize:"9vmin",fontWeight:600,color:"white",boxSizing:"border-box",backgroundColor:"blue"},id:"how-to-use-button-widget"},u.a.createElement(Me,{active:r,onClose:i}),u.a.createElement(re,{appearance:"primary",className:"how-to-use-button",fontSize:"xx-large",iconBefore:u.a.createElement(Ae.a,null),onClick:i,text:"Learn how to use this display",width:"100%",height:"100%"}))},_e=function(e){var t=e.widget,a=e.scale,n=e.colWidth,o=e.rowHeight;return u.a.createElement("div",{className:"card-display",style:{width:n?t.w*n:"100%",height:o?t.h*o:"100%",transform:"scale(".concat(a,")"),transformOrigin:"top left",borderRadius:".5em",overflow:"hidden"}},function(e){var t=u.a.createElement("div",null);switch(e){case"clock":t=u.a.createElement(Le,null);break;case"info":t=u.a.createElement(Ne,null);break;default:t=u.a.createElement("div",null)}return t}(t.id))},Pe=function(e){var t=e.layout,a=(e.appMode,e.width,e.height),n=e.margin,o=e.onLayoutChange,r=e.cards,i=e.widgets,l=e.cols,f=(e.rows,e.isDraggable),m=e.isResizable,h=(e.useControls,t);Object(s.useEffect)((function(){console.log(null===h||void 0===h?void 0:h.id)}),[null===h||void 0===h?void 0:h.id]),console.log(h);var v=Object(J.WidthProvider)(J.Responsive),p={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:l,md:l,sm:l,xs:l,xxs:l},rowHeight:a/K.gridRows,margin:n,preventCollision:!0,compactType:null};return console.log(i),u.a.createElement("div",null,u.a.createElement("div",{className:"card-grid-container"},u.a.createElement(v,Object.assign({},p,{className:"card-layout",isDraggable:null!==f&&void 0!==f&&f,isResizable:null!==m&&void 0!==m&&m,layouts:null!==t&&void 0!==t?t:{lg:[]},onDragStart:function(e,t,a,n,o,r){r.style.border="2px solid cyan",r.style.border="4px solid cyan"},onLayoutChange:o,preventCollision:!0,resizeHandles:["se"],verticalCompact:!0}),[].concat(Object(d.a)(r),Object(d.a)(i)).map((function(e,t){return u.a.createElement(H.a.div,{key:e.id,className:"card-container",style:{width:"100%"},exit:{y:-100}},u.a.createElement(Se,{cardType:c.IFRAME,className:"droppable-card",droppableId:e.id,key:t},u.a.createElement(ye,{cardId:t.toString(),cardType:c.IFRAME,data:e,useAnimation:"widget"!==e.contentType},"widget"!==e.contentType?function(t,a,n,o){var r=e;return u.a.createElement(ae,{card:r,scale:t,cardView:a,onError:n,onLoad:o})}:function(t){return u.a.createElement(_e,{widget:e,scale:1})})))})))),u.a.createElement(je,{gridSettings:p}))},Ue=function(e){var t=e.split("[")[1];return{x:Number.parseInt(t.charAt(0)),y:Number.parseInt(t.charAt(3))}},We=function(e){var t=e.children,a=C(),n=a.addCard,o=a.swapCard,r=a.setActiveLayout,i=w((function(e){return e.layoutsModel.externalLayouts}));return u.a.createElement(Ee.a,{onDragEnd:function(e){var t,a;if((null===(t=e.destination)||void 0===t?void 0:t.droppableId)!=(null===(a=e.source)||void 0===a?void 0:a.droppableId)){var c=e.source,s=e.destination,u=e.draggableId;if(console.log("dragged from ".concat(u," to ").concat(null===s||void 0===s?void 0:s.droppableId," current title: ","yes")),s)switch(c.droppableId){case l.CARD_TABLE:if(s.droppableId)if(s.droppableId.startsWith("empty")){var d=Ue(s.droppableId);n({sourceId:u,targetPosition:d}),console.log("dropped onto an empty card, adding card")}else o({sourceId:u,targetId:s.droppableId});break;case l.WIDGETS_TABLE:var f=Ue(s.droppableId);n({sourceId:u,targetPosition:f});break;case l.LAYOUT_TABLE:var m=i.filter((function(e){return e.id===u}))[0];r(m);break;default:console.log("got unkown drag source")}}}},t)},ze=(a(87),a(313)),Ge=a(314),Be=a(65),Ve=a.n(Be),Fe=(a(71),a(319)),Ye=a(134),He=a.n(Ye),Je=a(135),Ke=a(136),Xe=a.n(Ke),qe=["dndType","className","children","dragAll","card"],Qe=function(e){e.dndType;var t=e.className,a=e.children,n=e.dragAll,o=(e.card,Object(be.a)(e,qe));if(!u.a.isValidElement(a))return u.a.createElement("div",null);!function(){var e=Object(s.useRef)(document.createElement("div")).current;Object(s.useEffect)((function(){if(e)return e.style.pointerEvents="none",e.style.position="absolute",e.style.height="100%",e.style.width="100%",e.style.top="0",document.body.appendChild(e),function(){document.body.removeChild(e)}}),[e])}();return u.a.createElement(Ee.b,o,(function(e,o){var r=n?e.dragHandleProps:{};return o.isDragging&&e&&e.draggableProps&&e.draggableProps.style&&(e.draggableProps.style.left=e.draggableProps.style.offsetLeft,e.draggableProps.style.top=e.draggableProps.style.offsetTop),u.a.createElement(u.a.Fragment,null,u.a.createElement("tr",Object.assign({className:t,ref:e.innerRef},e.draggableProps,r),u.a.cloneElement(a,{provided:e})),u.a.createElement("tr",{style:{display:o.isDragging?"table-row":"none",backgroundColor:o.isDragging?"green":"none"}},u.a.cloneElement(a,{provided:e})))}))};Qe.defaultProps={dragAll:!0};var Ze,$e,et=u.a.memo(Qe),tt=a(8),at=function(e){return{display:e?"flex":"none"}},nt=function(e){var t=e.height,a=void 0===t?80:t,n=e.width,o=void 0===n?80:n,r=e.color,i=void 0===r?"green":r,c=e.ariaLabel,l=void 0===c?"circles-loading":c,s=e.wrapperStyle,d=e.wrapperClass,f=e.visible,m=void 0===f||f;return u.a.createElement("div",{style:Object(tt.a)(Object(tt.a)({},at(m)),s),className:d,"data-testid":"circles-loading"},u.a.createElement("svg",{width:o,height:a,viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:i,"aria-label":l,"data-testid":"circles-svg"},u.a.createElement("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},u.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})),u.a.createElement("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},u.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"}))))},ot=function(e){return u.a.createElement("div",Object.assign({},e,{style:Object(tt.a)(Object(tt.a)({},e.style||{}),{},{display:"flex"})}))},rt=a(320),it=function(e){var t=e.x,a=e.y,n=e.children,o=e.visible,r=e.width,i=e.height,c=D();return Object(p.createPortal)(u.a.createElement(u.a.Fragment,null,u.a.createElement(rt.a,null,o&&u.a.createElement(H.a.div,{animate:{opacity:1,transition:{delay:.1,duration:.2,ease:"circIn"}},exit:{opacity:0},style:{backgroundColor:"white",boxShadow:"0 8px 32px 0 rgba(49, 49, 49, 0.37)",width:null!==r&&void 0!==r?r:.4*c.width,height:null!==i&&void 0!==i?i:.4*c.height,position:"absolute",x:t,y:a,transformBox:"view-box",transformOrigin:"top left",borderRadius:".5em",overflow:"hidden"}},n))),document.querySelector("#popup-container"))},ct=u.a.memo(it),lt=function(e){var t=e.headerTitle,a=e.setFilter,n=e.setFilterDirection,o=e.className,r=e.activeFilter,i=Object(s.useState)(!0),c=Object(m.a)(i,2),l=c[0],d=c[1],f=t===r;return u.a.createElement("th",{className:null!==o&&void 0!==o?o:"editor-panel-table-header",onClick:function(){a(t),d(!l),n(l)}},function(e){var t=e.split(" ").map((function(e){return function(e){var t,a=/^[a-z]{0,1}|\s\w/gi;return null===(t=(e=e.toLowerCase()).match(a))||void 0===t||t.forEach((function(t){e=e.replace(t,t.toUpperCase())})),e}(e)})).join(" ");return t}(t),f&&l?"\u25b2":f&&!l?"\u25bc":"")},st=function(e){var t=e.card,a=t.src,n=t.id,r=t.title,i=n+"_icon",c=Object(s.useState)([0,0]),l=Object(m.a)(c,2),d=l[0],f=l[1],h=Object(s.useState)(!1),v=Object(m.a)(h,2),p=v[0],g=v[1],y=Object(s.useState)(!1),b=Object(m.a)(y,2),E=(b[0],b[1]),w=Object(s.useState)(),O=Object(m.a)(w,2),x=O[0],S=O[1];return u.a.createElement("div",{onMouseEnter:function(e){S(setTimeout((function(){var t,a=e.pageY,n=(null===(t=document.getElementById(i))||void 0===t?void 0:t.parentElement).getBoundingClientRect().x;f([n+100,a]),g(!0)}),250))},onMouseLeave:function(e){x&&(clearTimeout(x),g(!1))},style:{display:"flex"}},u.a.createElement("div",{id:i,style:{display:"flex",width:20}},u.a.createElement(Xe.a,{className:t.isActive?"row-favicon-active":"row-favicon-inactive",fallbackImage:"".concat("/cupboard-dxl-display","/question_mark.svg"),src:"image"===t.contentType?a:"https://s2.googleusercontent.com/s2/favicons?domain_url=".concat(t.src),style:{width:"100%",maxWidth:20}})),u.a.createElement(ct,{visible:p,x:d[0],y:d[1]},u.a.createElement(ae,{card:t,cardView:o.GRID,objectFit:"contain",onError:function(e){},onLoad:function(e){E(!0)},scale:1})),u.a.createElement("div",{style:{marginTop:"auto",marginBottom:"auto",textAlign:"left",paddingLeft:"1em"}},r))},ut=function(){var e=w((function(e){return e.appModel.availableCards})),t=C(),a=t.clearCards,n=t.resetLayout,o=Object(s.useState)(),r=Object(m.a)(o,2),i=r[0],f=r[1],h=Object(s.useState)(!0),v=Object(m.a)(h,2),p=v[0],g=v[1],y=Object(s.useState)(e),b=Object(m.a)(y,2),E=b[0],O=b[1],x=Object(s.useState)(""),S=Object(m.a)(x,2),j=S[0],L=S[1],A=Object(s.useState)(e),D=Object(m.a)(A,2),k=D[0],I=D[1];Object(s.useEffect)((function(){if(0<j.length){var e=He.a.go(j,E.map((function(e){return e.title}))).map((function(e){return e.target})),t=E.filter((function(t){return e.includes(t.title)}));I(t)}else I(E)}),[j,E]),Object(s.useEffect)((function(){var t=i,a=Object(d.a)(e).sort((function(e,a){var n=e[t],o=a[t];if(n&&o){if(n<o)return-1;if(o<n)return 1}return 0}));!p&&a.reverse(),O(a)}),[i,e,p]);return u.a.createElement("div",{className:"contents-tab-container"},u.a.createElement(ot,{style:{padding:"0.5em"}},u.a.createElement(Fe.a,{onChange:function(e){return L(e.currentTarget.value)},placeholder:"search title",width:"80%"}),u.a.createElement(re,{appearance:"default",intent:"danger",onClick:function(e){n()},text:"Reset Layout"}),u.a.createElement(re,{appearance:"minimal",intent:"danger",onClick:function(e){a()},text:"Clear All"})),u.a.createElement(Se,{cardType:c.CLOCK,className:"table-container",droppableId:l.CARD_TABLE,isDropDisabled:!0},u.a.createElement("table",{className:"contents-tab-table"},u.a.createElement("tbody",null,u.a.createElement("tr",null,["title","author","added"].map((function(e,t){return u.a.createElement(lt,{activeFilter:i,className:"contents-table-header",headerTitle:e,key:t,setFilter:f,setFilterDirection:g})}))))),u.a.createElement(Je.Scrollbars,{autoHeight:!0,autoHeightMax:319,autoHeightMin:100},u.a.createElement("table",{style:{padding:"2em"}},u.a.createElement("tbody",null,k.map((function(e,t){var a=e.added,n=e.id,o=e.author,r=(e.interaction,e.isActive);return u.a.createElement(et,{className:r?"content-row-active":"content-row-inactive",card:e,dndType:c.CARD_ROW,draggableId:n,index:t,isDragDisabled:r,key:t.toString()},u.a.createElement(u.a.Fragment,null,u.a.createElement("td",null,u.a.createElement(st,{card:e})),u.a.createElement("td",null,o),u.a.createElement("td",null,N(a))))})))))))},dt=a(38),ft=(a(287),function(e){return u.a.createElement("div",Object.assign({},e,{style:Object(tt.a)(Object(tt.a)({},e.style||{}),{},{width:"inherit",padding:".5em"})}),e.children)}),mt=(a(288),a(311)),ht=(a(289),function(e){return u.a.createElement("div",Object.assign({},e,{style:Object(tt.a)(Object(tt.a)({},e.style||{}),{},{display:"flex",flexDirection:"column"})}))}),vt=function(e){var t=e.visible,a=e.onCloseComplete,n=(w((function(e){return e.layoutsModel.activeLayout})),w((function(e){return e.layoutsModel.layoutsString})),w((function(e){return e.googleSheetsModel.layoutSheetUrl}))),o=Object(s.useState)(t),r=Object(m.a)(o,2),i=r[0],c=(r[1],Object(s.useState)(!1)),l=Object(m.a)(c,2),d=l[0],f=l[1];console.log("HELLO IM HERE");C().activeLayout;var h=w((function(e){return JSON.stringify(e.layoutsModel.activeLayout)})),v=w((function(e){return JSON.stringify(e.layoutsModel.bufferLayout)}));return Object(s.useEffect)((function(){console.log(v)}),[v]),Object(s.useEffect)((function(){console.log(h)}),[h]),console.log(h),g.a.createPortal(u.a.createElement(Ie,{onClose:a,active:i,containerClassName:"google-form-popup",backdropOpacity:.5},u.a.createElement("div",{className:"google-form-popup-inner-container"},u.a.createElement(le,{onClick:a,action:function(){}}),u.a.createElement(ht,null,u.a.createElement("div",{style:{borderBottom:"1px solid white",padding:"1vmin"}},u.a.createElement(De.a,{color:"white",size:900},"Add a new layout"),u.a.createElement(De.a,{color:"white",size:400},"The layout will be stored in "," ",u.a.createElement("a",{style:{color:"lightblue"},target:"_blank",rel:"noreferrer",href:n},n))),u.a.createElement(ot,{style:{height:"50vh",padding:"4vmin",justifyContent:"space-between"}},u.a.createElement("div",{style:{width:"min-content"}},u.a.createElement(pt,{onCopy:function(e){f(!0)},onCloseComplete:a,text:h})),u.a.createElement(gt,{src:"https://docs.google.com/forms/d/e/1FAIpQLSeKP2imQv_UCj4qrGNk7mT6Rzz83F30IvEl8ZFdERIdzSnvig/viewform?usp=sf_link",active:d}))))),document.querySelector("#google-form-popup"))},pt=function(e){var t=e.text,a=(e.onCloseComplete,e.onCopy),n=(e.isCurrentClipBoardContent,Object(s.useState)(!1)),o=Object(m.a)(n,2),r=(o[0],o[1]),i=Object(s.useState)(!1),c=Object(m.a)(i,2),l=(c[0],c[1]);return Object(s.useEffect)((function(){navigator.clipboard.readText().then((function(e){t===e?(r(!0),l(!0)):(l(!1),r(!1))})).catch((function(e){console.error("Failed to read clipboard contents:",e)}))}),[t]),u.a.createElement(u.a.Fragment,null,u.a.createElement(re,{iconBefore:u.a.createElement(mt.a,null),text:"Copy Layout To Clip Board",onClick:function(e){navigator.clipboard.writeText(t),l(!0),a(e)},width:250,height:100,intent:"success",appearance:"primary"}))},gt=function(e){var t=e.src,a=e.active;return u.a.createElement("div",{style:{width:500,height:"100%",overflow:"hidden",position:"relative"}},u.a.createElement(H.a.div,{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"red",zIndex:1,top:0,left:0,opacity:.5,display:"flex",alignItems:"center",pointerEvents:a?"none":"all"},animate:a?{opacity:0}:{}},u.a.createElement("div",{style:{width:"50%",margin:"auto",fontWeight:"bold",border:"1px solid white",padding:"1em",backgroundColor:"white",opacity:1}},"Press the Copy Layout Button before Submitting New Layout")),u.a.createElement("iframe",{src:t,frameBorder:0,marginHeight:0,marginWidth:0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}))},yt=a(321),bt=function(){var e=w((function(e){return e.layoutsModel.externalLayouts})),t=w((function(e){return e.layoutsModel.activeLayout})),a=C().setActiveLayout;return u.a.createElement("div",null,u.a.createElement(Se,{className:"table-container",droppableId:l.LAYOUT_TABLE,isDropDisabled:!1,cardType:c.CLOCK},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Title"),u.a.createElement("th",null,"Date Added"),u.a.createElement("th",null,"Author")))),u.a.createElement("table",null,u.a.createElement("tbody",null,e.map((function(e,n){var o=e.id,r=(e.title,e.author),i=e.added;return u.a.createElement("tr",{key:n,onClick:function(t){return a(e)}},u.a.createElement("td",{key:n,style:{display:"flex",justifyContent:"center"}},o===(null===t||void 0===t?void 0:t.id)&&u.a.createElement(yt.a,{color:"success"}),u.a.createElement(Et,{layout:e})),u.a.createElement("td",null,N(i)),u.a.createElement("td",null,r))}))))))},Et=function(e){var t=e.layout,a=Object(s.useState)(!1),o=Object(m.a)(a,2),r=o[0],i=o[1],c=Object(s.useState)([0,0]),l=Object(m.a)(c,2),d=l[0],f=l[1],h=t.title,v=D(),p=v.width,g=v.height,y=S().appMode,b=t.sources(),E=t.widgets(),O=w((function(e){return e.appModel.availableCards.filter((function(e){return b.includes(e.src)}))})),x=w((function(e){return e.appModel.availableWidgets.filter((function(e){return E.includes(e.id)}))}));return u.a.createElement("div",null,u.a.createElement("div",{onMouseEnter:function(e){var t=e.pageX,a=e.pageY;f([t,a]),i(!0)},onMouseLeave:function(e){i(!1)},style:{textDecoration:r?"underline":""}},h),y===n.EDIT&&r&&u.a.createElement(ct,{width:.5*p,height:.5*g,x:d[0],y:d[1],visible:r},u.a.createElement("div",{style:{transform:"scale(".concat(.5,")"),transformOrigin:"inherit",height:g,width:p}},u.a.createElement(Pe,{cols:K.gridCols,rows:K.gridRows,width:p,height:g,layout:t.layout,margin:[20,20],appMode:n.DISPLAY,onLayoutChange:function(e){},cards:O,widgets:x}))))},wt=function(){var e=w((function(e){return e.layoutsModel.bufferLayout})),t=C().activeLayout,a=O().fetchTopLevelSheet,n=Object(s.useState)(!1),o=Object(m.a)(n,2),r=o[0],i=o[1],c=Object(s.useState)(JSON.stringify(t)),l=Object(m.a)(c,2),d=(l[0],l[1]);return Object(s.useEffect)((function(){d(JSON.stringify(e))}),[t,e]),u.a.createElement("div",null,u.a.createElement(ft,{style:{display:"flex",width:"100%",justifyContent:"flex-start"}},u.a.createElement(re,{iconBefore:u.a.createElement(we.a,null),onClick:function(e){i(!0)},text:"Add New Layout",width:"55%",intent:"success",appearance:"primary"})),r&&u.a.createElement(vt,{onCloseComplete:function(){a(),i(!1)},visible:r}),u.a.createElement("div",null,u.a.createElement(bt,null)))},Ot=(a(290),function(e){e.dndType;var t=e.className,a=e.children,n=(e.dragAll,e.draggableId),o=e.index,r=e.height,i=e.id,c=w((function(e){return e.layoutsModel.activeLayout})),l=null===c||void 0===c?void 0:c.layout.lg.map((function(e){return e.i})).includes(n);Object(s.useEffect)((function(){l=null===c||void 0===c?void 0:c.layout.lg.map((function(e){return e.i})).includes(n)}),[c]);return u.a.isValidElement(a)?u.a.createElement("div",{style:{display:"block",height:null!==r&&void 0!==r?r:""}},u.a.createElement(Ee.b,{draggableId:n,index:o},(function(e,n){return console.log(l),n.isDragging&&e&&e.draggableProps&&e.draggableProps.style&&(e.draggableProps.style.left=e.draggableProps.style.offsetLeft,e.draggableProps.style.top=e.draggableProps.style.offsetTop),u.a.createElement("div",Object.assign({id:i,className:t,ref:e.innerRef},e.draggableProps,e.dragHandleProps),u.a.cloneElement(a,{provided:e}))}))):u.a.createElement("div",null)}),xt=function(){var e=C(),t=e.activeLayout,a=e.activeWidgets,n=w((function(e){return e.appModel.availableWidgets})),o=Object(s.useState)(n),r=Object(m.a)(o,2),i=r[0],d=r[1];return Object(s.useEffect)((function(){d(n.filter((function(e){return!(null===t||void 0===t?void 0:t.widgets().includes(e.id))})))}),[n,t,a.length]),u.a.createElement(ft,null,u.a.createElement("div",{style:{backgroundColor:"#1f1f1f",borderRadius:".5em",overflow:"hidden",padding:"1em"}},0==i.length?u.a.createElement("div",null,"All Widgets in Use"):u.a.createElement(Se,{cardType:c.CLOCK,className:"widgets-container",droppableId:l.WIDGETS_TABLE,isDropDisabled:!1},u.a.createElement(St,null,(function(e,a,n){return i.filter((function(e){return!(null===t||void 0===t?void 0:t.widgets().includes(e.id))})).map((function(t,o){return u.a.createElement(Ot,{className:"draggable-widget",dndType:c.WIDGET,draggableId:t.id,height:e*t.h*n,index:o,isDragDisabled:!1,key:o,id:"widgets-tab-draggable-".concat(t.id)},u.a.createElement(_e,{widget:t,scale:e,colWidth:a,rowHeight:n}))}))})))))},St=function(e){var t=e.children,a=Object(s.useRef)(),n=Object(s.useState)(1),o=Object(m.a)(n,2),r=o[0],i=o[1],c=D(),l=c.width,d=c.height,f=l/K.gridCols,h=d/K.gridRows;return Object(s.useEffect)((function(){a.current=document.getElementById("editor-panel"),console.log(a.current.getBoundingClientRect().width),i(a.current.getBoundingClientRect().width/l)}),[l]),u.a.createElement("div",null,t(1.5*r,f,h))},Ct=a(312),jt=function(e){var t=e.children;return u.a.createElement("div",{style:{color:"white"}},t)},Lt=function(){var e=S(),t=(e.rotationSpeed,e.setRotationSpeed),a=e.setRotateLayouts,n=Object(s.useState)(""),o=Object(m.a)(n,2),r=o[0],i=(o[1],u.a.useState(!0)),c=Object(m.a)(i,2),l=c[0],d=c[1];Object(s.useEffect)((function(){console.log(l),a(l),l||t(K.rotationDuration)}),[l]),Object(s.useEffect)((function(){console.log(r)}),[r]);var f=A(),h=Object(m.a)(f,2),v=(h[0],h[1]);v.width,v.height;return u.a.createElement("div",{style:{height:"100%",pointerEvents:"all",padding:"1vmin"}},u.a.createElement(De.a,{size:600,style:{color:"white"}},"General"),u.a.createElement("div",{style:{margin:".5em"}},u.a.createElement(ot,{style:{alignItems:"center"}},u.a.createElement(jt,null,"Rotate Layouts"),u.a.createElement("div",{style:{paddingLeft:".5em"}},u.a.createElement(Ct.a,{style:{margin:"auto"},checked:l,onChange:function(e){return d(e.target.checked)}})))),u.a.createElement(At,null))},At=function(){var e=O(),t=e.cardSheetUrl,a=e.layoutSheetUrl,n=e.formUrl,o=[e.parentSheetUrl,t,a,n],r=["Parent Sheet","Content","Layouts","Google Form"];return u.a.createElement(ht,null,u.a.createElement(De.a,{size:600,style:{color:"white"}},"Google Sheets"),u.a.createElement(ht,{style:{padding:".5em",backgroundColor:"#1f1f1f",overflow:"hidden"}},o.map((function(e,t){return u.a.createElement(Dt,{title:r[t],link:null!==e&&void 0!==e?e:"not provided"})}))))},Dt=function(e){var t=e.title,a=e.link;return u.a.createElement(ot,{style:{padding:".5em",backgroundColor:"#1f1f1f",overflow:"hidden",justifyContent:"space-between"}},u.a.createElement(De.a,{style:{color:"white"}},t+":  "),u.a.createElement("a",{href:a,style:{color:"white",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"80%"},target:"_blank",rel:"noreferrer"},a))},kt=function(e){var t=e.error,a=t.errorType,n=t.link,o=t.source;return u.a.createElement("div",{style:{display:"flex",padding:"1vmin",flexDirection:"column",width:"100%",marginRight:"10vmin",backgroundColor:"#421717",borderBottom:"1px solid white",boxSizing:"border-box"}},u.a.createElement("div",{style:{color:"#D14343",textTransform:"uppercase",fontWeight:"bold"}},"\u26a0 ".concat(a)),u.a.createElement("div",null,o),u.a.createElement("div",null,u.a.createElement("a",{href:n,rel:"noreferrer",style:{color:"lightblue"},target:"_blank"},n)))},It=function(){var e=x(),t=e.appErrors,a=e.layoutErrors,n=e.googleSheetsErrors,o=A(),r=Object(m.a)(o,2),i=r[0];r[1].height;return u.a.createElement("div",{className:"table-container",style:{height:400,width:500,overflowY:"scroll"}},u.a.createElement("div",{ref:i,style:{width:"100%"}},[].concat(Object(d.a)(t),Object(d.a)(a),Object(d.a)(n)).map((function(e,t){return u.a.createElement(kt,{error:e,key:t})}))))},Tt=function(){return u.a.createElement("div",{style:{height:"100%",pointerEvents:"all"}},u.a.createElement(It,null))},Rt=function(){return u.a.createElement(dt.d,null,u.a.createElement(dt.b,null,u.a.createElement(dt.a,null,"Content"),u.a.createElement(dt.a,null,"Widgets"),u.a.createElement(dt.a,null,"Layouts"),u.a.createElement(dt.a,null,"App Settings"),u.a.createElement(dt.a,null,"Issues ",u.a.createElement(Mt,null))),u.a.createElement(dt.c,null,u.a.createElement(ut,null)),u.a.createElement(dt.c,null,u.a.createElement(xt,null)),u.a.createElement(dt.c,null,u.a.createElement(wt,null)),u.a.createElement(dt.c,null,u.a.createElement(Lt,null)),u.a.createElement(dt.c,null,u.a.createElement(Tt,null)))},Mt=function(){var e=x().allErrors;return u.a.createElement("div",{style:{backgroundColor:e.length>0?"#D14343":"#52BD95",opacity:.5,borderRadius:"50%",width:20,height:20,aspectRatio:"1/1",fontSize:"70%",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"1em"}},e.length>50?"50+":e.length)},Nt=function(){var e=w((function(e){return e.appModel.appMode})),t=Object(s.useState)(!1),a=Object(m.a)(t,2),o=a[0],r=a[1],i=v()("editor-panel",{"editor-panel-full":!o,hidden:e===n.DISPLAY,"editor-panel-minimized":o}),c=v()("editor",{"editor-visible":e===n.EDIT});return g.a.createPortal(u.a.createElement(Ve.a,{bounds:{left:0,top:0,right:window.innerWidth-50,bottom:window.innerHeight-50},defaultClassName:i,defaultPosition:{x:100,y:100},handle:".editor-panel-handle"},u.a.createElement("div",{className:c,id:"editor-panel"},u.a.createElement(Pt,null,u.a.createElement(Ut,{icon:u.a.createElement(ze.a,null),onMouseUp:function(){r(!1)}}),u.a.createElement(Ut,{icon:u.a.createElement(Ge.a,null),onMouseUp:function(){r(!0)}})),u.a.createElement(Rt,null))),document.querySelector("#editor-panel-container"))},_t=u.a.memo(Nt),Pt=function(e){var t=e.children;return u.a.createElement("div",{className:"editor-panel-handle panel-header"},t)},Ut=function(e){var t=e.icon,a=e.onMouseUp;return u.a.createElement("div",{className:"window-button",onMouseUp:a},t)},Wt=a(315),zt=function(){var e=E((function(e){return e.appModel.toggleAppMode})),t=Object(Wt.a)((function(){e()})),a={position:"absolute",width:50,height:50,border:K.showModeSwitchButton?"1px solid red":"none",bottom:0,left:0,opacity:0};return g.a.createPortal(u.a.createElement(H.a.div,{style:Object(tt.a)(Object(tt.a)({},a),{},{backgroundColor:"white"}),whileTap:{backgroundColor:"green",opacity:1}},u.a.createElement("div",Object.assign({style:a},t)),","),document.querySelector("#mode-change-button"))},Gt=function(e){var t=e.children;e.padding;return u.a.createElement("div",{style:{width:"100vw",height:"100vh"}},t)},Bt=a(322),Vt=function(e){var t,a=e.children,o=Object(Bt.a)(K.idleTime,!1),r=S(),i=r.appMode,c=r.toggleAppMode,l=r.rotateLayouts,u=(r.sheetsAreLoaded,r.transitionLayout),d=(C().useNextLayout,function(e,t){var a=Object(s.useRef)(e),n=Object(s.useRef)();return Object(s.useLayoutEffect)((function(){a.current=e}),[e]),Object(s.useEffect)((function(){if(t||0===t){var e=setInterval((function(){return a.current()}),t);return n.current=e,function(){return clearInterval(e)}}}),[t]),{reset:Object(s.useCallback)((function(){n.current&&t&&(clearInterval(n.current),n.current=setInterval(a.current,t))}),[t]),stop:Object(s.useCallback)((function(){n.current&&clearInterval(n.current)}),[])}}((function(){i===n.DISPLAY&&l&&u(1)}),K.rotationDuration)),f=d.reset;d.stop;return t=function(){f()},L("click",(function(e){t(e)})),Object(s.useEffect)((function(){i===n.EDIT&&c()}),[o]),a},Ft=function(){var e,t=O().fetchTopLevelSheet,a=C(),o=a.activeLayout,r=a.setBufferLayout,i=a.activeCards,c=a.activeWidgets,l=S(),m=l.appMode,h=l.sheetsAreLoaded;e=function(){t()},Object(s.useEffect)(e,[]);var v=D(),p=v.width,g=v.height;return Object(s.useEffect)((function(){console.log(c)}),[c]),u.a.createElement(u.a.Fragment,null,u.a.createElement(Y,null),u.a.createElement(zt,null),u.a.createElement(Vt,null,u.a.createElement(We,null,u.a.createElement(nt,{visible:h}),u.a.createElement(_t,null),u.a.createElement(Gt,null,u.a.createElement(f.a,null,o&&h&&u.a.createElement(Pe,{appMode:m,cards:Object(d.a)(i),cols:K.gridCols,height:g,isDraggable:m===n.EDIT,isResizable:m===n.EDIT,layout:o.layout,margin:[20,20],onLayoutChange:function(e){var t={lg:e,md:e,sm:e,xs:e,xxs:e};m===n.EDIT&&o.setGridLayout(t),r(t)},rows:K.gridRows,widgets:Object(d.a)(c),width:p}))))))},Yt=a(21),Ht=a.n(Yt),Jt=a(33);!function(e){e.CROSS_ORIGIN="CROSS_ORIGIN"}(Ze||(Ze={})),function(e){e.MALFORMED_URL="MALFORMED_URL"}($e||($e={}));var Kt=function(){function e(t){Object(X.a)(this,e),this.url=void 0,this.errors=void 0,this.warnings=void 0,this.errors=[],this.warnings=[],this.url=t}return Object(q.a)(e,[{key:"validate",value:function(e){var t;console.log(this.errors);var a=function(e){var t=[];new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)||t.push($e.MALFORMED_URL);return t}(this.url);(t=this.warnings).push.apply(t,Object(d.a)(a)),console.log(a)}},{key:"isValid",value:function(){return 0==this.errors.length}},{key:"errorMessages",value:function(){var e=this,t=[];return this.errors.map((function(a){if(a===Ze.CROSS_ORIGIN)t.push("Blocked a frame with origin ".concat(e.url,"; from accessing a cross-origin frame."));else console.log("error did not match an error enum")})),t}}]),e}();var Xt=function(){function e(t,a){var n;Object(X.a)(this,e),this.id=void 0,this.src=void 0,this.title=void 0,this.added=void 0,this.author=void 0,this.interaction=void 0,this.contentType=void 0,this.metaData=void 0,this.validator=void 0,this.isActive=void 0,this.failed=void 0,this.id="row_".concat(a,"_").concat(t.title),this.src=t.src,this.title=t.title,this.added=new Date(t.added),this.author=t.author,this.interaction=i[t.interaction],this.contentType=function(e){return"string"===typeof e&&/[./](gif|jpg|jpeg|tiff|png)$/i.test(e)}(n=this.src)?"image":function(e){return"string"===typeof e&&/[./](mp4|webm|mov)$/i.test(e)}(n)?"video":function(e){return"string"===typeof e&&e.includes("embed")}(n)?"embed":function(e){return"string"===typeof e&&e.includes("https")}(n)?"website":"widget","widget"===this.contentType&&t.widgetType?(this.metaData={widgetType:t.widgetType},this.id=t.widgetType):(this.metaData={src:t.src,title:t.title,added:new Date(t.added),sourceId:t.src,author:t.author},this.id=t.src),this.isActive=!1,this.validator=new Kt(this.src),this.failed=!1}return Object(q.a)(e,[{key:"setActive",value:function(e){this.isActive=e}},{key:"fail",value:function(){console.log(this.validator.errors),this.failed=!0}}]),e}();var qt=function(){function e(t){Object(X.a)(this,e),this.id=void 0,this.contentType=void 0,this.w=void 0,this.h=void 0,this.isActive=void 0,this.id=t.id,this.w=t.w,this.h=t.h,this.isActive=!1,this.contentType="widget"}return Object(q.a)(e,[{key:"setActive",value:function(e){this.isActive=e}}]),e}(),Qt={clock:{id:"clock",w:2,h:2},info:{id:"info",w:1,h:1}},Zt={isLoaded:!1,availableCards:[],availableWidgets:Object.values(Qt).map((function(e){return new qt(e)})),activeWidgets:[],activeCards:[],appErrors:[],rotateLayouts:!0,rotationSpeed:K.rotationDuration,appMode:n.DISPLAY,manageViewModeChange:Object(y.f)((function(e,t){switch(e.setAppMode(t),t){case n.EDIT:case n.DISPLAY:case n.CYCLE:}})),toggleAppMode:Object(y.f)((function(e,t,a){switch((0,a.getState)().appMode){case n.EDIT:e.setAppMode(n.DISPLAY);break;case n.DISPLAY:e.setAppMode(n.EDIT);case n.CYCLE:}})),setAvailableCards:Object(y.b)((function(e,t){e.availableCards=t})),setActiveCards:Object(y.b)((function(e,t){e.activeCards=t})),setActiveWidgets:Object(y.b)((function(e,t){e.activeWidgets=t})),setAppMode:Object(y.b)((function(e,t){e.appMode=t})),setRotationSpeed:Object(y.b)((function(e,t){e.rotationSpeed=t})),setRotateLayouts:Object(y.b)((function(e,t){e.rotateLayouts=t})),addAppError:Object(y.b)((function(e,t){var a=e.appErrors.map((function(e){return JSON.stringify(e)})),n=JSON.stringify(t);a.includes(n)||e.appErrors.push(t)})),onCardSheetLoadSuccess:Object(y.g)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),function(){var e=Object(Jt.a)(Ht.a.mark((function e(t,a){return Ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.payload.getSheetRows("CARDS").then((function(e){var a=e.map((function(e){return{src:e.src,title:e.title,added:e.added,sourceid:e.sourceid,author:e.author,interaction:e.interaction}})).map((function(e,t){return new Xt(e,t)}));t.setAvailableCards(a)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),onSetActiveLayout:Object(y.g)((function(e,t){return t.layoutsModel.setActiveLayout}),function(){var e=Object(Jt.a)(Ht.a.mark((function e(t,a,n){var o,r,i,c,l,s;return Ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,r=new Set(a.payload.sources()),i=o(),c=i.availableWidgets,t.setActiveWidgets(c.filter((function(e){return a.payload.widgets().includes(e.id)}))),l=o().availableCards.map((function(e){return r.has(e.id)?e.setActive(!0):e.setActive(!1),e})),s=o().availableCards.filter((function(e){return r.has(e.id)})),t.setAvailableCards(l),t.setActiveCards(s);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),onSwapCardContent:Object(y.g)((function(e,t){return t.layoutsModel.swapCardContent}),function(){var e=Object(Jt.a)(Ht.a.mark((function e(t,a,n){var o,r;return Ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,(r=o().activeCards.map((function(e){return e.id===a.payload.targetId?o().availableCards.find((function(e){return e.id===a.payload.sourceId})):e})))&&t.setActiveCards(r);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}())},$t=Zt,ea=a(25),ta={layout:{lg:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],md:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],sm:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],xs:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],xxs:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}]},layoutSettings:{gridSettings:{defaultBackgroundColor:"red"},cardSettings:[]},widgets:[]},aa=function(){function e(t){Object(X.a)(this,e),this.title=void 0,this.author=void 0,this.added=void 0,this.id=void 0,this.sourceLayout=void 0,this.layout=void 0,this.layoutWidgets=void 0;var a=function(e){var t=JSON.parse(e.layout);return t.layout?t:ta}(t),n=a.layout;this.id=t.title+"_"+t.timestamp,this.title=t.title,this.author=t.author,this.added=new Date(t.timestamp.split(" ")[0]),this.sourceLayout=JSON.parse(t.layout).layout,this.layoutWidgets=JSON.parse(t.layout).layoutWidgets?JSON.parse(t.layout).layoutWidgets:[],this.layout=n}return Object(q.a)(e,[{key:"swapCard",value:function(e){for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(m.a)(a[t],2),r=o[0],i=o[1],c=Object(ea.a)(i.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(m.a)(n.value,2),s=l[0];l[1].i==e.targetId&&(i[s].i=e.sourceId)}}catch(u){c.e(u)}finally{c.f()}this.layout[r]=i}}},{key:"removeCard",value:function(e){for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(m.a)(a[t],2),r=o[0],i=o[1],c=Object(ea.a)(i.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(m.a)(n.value,2);l[0],l[1];this.layout[r]=i.filter((function(t){return t.i!==e}))}}catch(s){c.e(s)}finally{c.f()}}}},{key:"clearCards",value:function(){for(var e=0,t=Object.entries(this.layout);e<t.length;e++){var a,n=Object(m.a)(t[e],2),o=n[0],r=n[1],i=Object(ea.a)(r.entries());try{for(i.s();!(a=i.n()).done;){var c=Object(m.a)(a.value,2);c[0],c[1];this.layout[o]=[]}}catch(l){i.e(l)}finally{i.f()}}}},{key:"addCard",value:function(e,t){Object.entries(this.layout)[0][1].map((function(e){return e.i})).includes(e.id)&&console.log("ADDING SOMETHING THAT'S ALREADY PRESENT");for(var a=0,n=Object.entries(this.layout);a<n.length;a++){var o=Object(m.a)(n[a],2),r=o[0],i=(o[1],{x:t.x,y:t.y,w:1,h:1,i:e.id});this.layout[r].push(i)}}},{key:"addWidget",value:function(e,t){this.layoutWidgets.push(e);for(var a=0,n=Object.entries(this.layout);a<n.length;a++){var o=Object(m.a)(n[a],2),r=o[0],i=(o[1],{x:t.x,y:t.y,w:1,h:1,i:e.id});this.layout[r].push(i)}}},{key:"resetLayout",value:function(){this.layout=JSON.parse(JSON.stringify(this.sourceLayout))}},{key:"setGridLayout",value:function(e){for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(m.a)(a[t],2),r=o[0],i=o[1],c=Object(ea.a)(i.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(m.a)(n.value,2);l[0],l[1];this.layout[r]=e[r]}}catch(s){c.e(s)}finally{c.f()}}}},{key:"sources",value:function(){return this.layout.lg.map((function(e){return e.i}))}},{key:"widgets",value:function(){return this.layout.lg.filter((function(e){return Object.keys(Qt).includes(e.i)})).map((function(e){return e.i}))}}]),e}();var na={activeLayout:void 0,externalLayouts:[],layoutErrors:[],bufferLayout:a(137),layoutsString:Object(y.c)([function(e){return e.bufferLayout}],(function(e){return JSON.stringify(e)})),onSetAppGoogleSheetData:Object(y.g)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),(function(e,t,a){var n=a.getState;t.payload.getSheetRows("LAYOUTS").then((function(t){var a,o=t,r=[],i=new Set(n().externalLayouts.map((function(e){return e.id}))),c=Object(ea.a)(o);try{for(c.s();!(a=c.n()).done;){var l=a.value;try{var s=new aa(l);i.has(s.id)||r.push(s)}catch(m){var u,d;e.addLayoutError({errorType:"failed to read layout row",description:"failed to read layout row ".concat(null!==(u=l.title)&&void 0!==u?u:"NO TITLE PROVIDED"),source:null!==(d=l.title)&&void 0!==d?d:"NO TITLE PROVIDED",link:"none"})}}}catch(h){c.e(h)}finally{c.f()}if(K.useStaticLayout);else{var f=r.filter((function(e){return e.title===K.defaultLayoutName}))[0];f&&(e.setActiveLayout(f),e.setBufferLayout(f.layout))}e.setExternalLayouts(r)}))})),addLayoutError:Object(y.b)((function(e,t){var a=e.layoutErrors.map((function(e){return JSON.stringify(e)})),n=JSON.stringify(t);a.includes(n)||e.layoutErrors.push(t)})),onToggleViewMode:Object(y.g)((function(e,t){return t.appModel.manageViewModeChange}),(function(e,t,a){var n=a.getState,o=(a.getStoreState,n()),r=o.activeLayout;o.bufferLayout;if(r){var i=n().bufferLayout;r.layout=i,r.setGridLayout(i),e.setActiveLayout(r)}})),setActiveLayout:Object(y.b)((function(e,t){e.activeLayout=t,e.bufferLayout=JSON.parse(JSON.stringify(t.layout))})),setNextLayout:Object(y.f)((function(e,t,a){var n=(0,a.getState)(),o=n.externalLayouts,r=n.activeLayout;if(r){var i=o.map((function(e){return e.id})).indexOf(null===r||void 0===r?void 0:r.id),c=o[(i+1)%o.length];e.setActiveLayout(c)}})),setExternalLayouts:Object(y.b)((function(e,t){e.externalLayouts=t})),swapCardContent:Object(y.f)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var r=n().bufferLayout;o.layout=r,o.swapCard(t),e.setActiveLayout(o)}})),deleteCard:Object(y.f)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var r=n().bufferLayout;o.layout=r,o.removeCard(t),e.setActiveLayout(o)}})),clearCards:Object(y.f)((function(e,t,a){var n=(0,a.getState)().activeLayout;n&&(n.clearCards(),e.setBufferLayout(n.layout),e.setActiveLayout(n))})),addCard:Object(y.f)((function(e,t,a){var n=a.getState,o=(0,a.getStoreState)().appModel,r=o.availableCards,i=o.availableWidgets,c=t.sourceId,l=t.targetPosition,s=[].concat(Object(d.a)(r),Object(d.a)(i)).find((function(e){return e.id==c})),u=n().activeLayout;if(u&&s){var f=n().bufferLayout;u.setGridLayout(f),null===u||void 0===u||u.addCard(s,l),e.setActiveLayout(u)}})),resetLayout:Object(y.f)((function(e,t,a){var n=a.getState;if(n().activeLayout){var o=n().activeLayout;null===o||void 0===o||o.resetLayout(),o&&e.setActiveLayout(o)}})),setBufferLayout:Object(y.b)((function(e,t){e.bufferLayout=JSON.parse(JSON.stringify(t))})),updateLayout:Object(y.b)((function(e,t){var a=e.activeLayout;a&&(a.swapCard(t),e.activeLayout=a)})),animationCounter:0,setAnimationCounter:Object(y.b)((function(e,t){e.animationCounter+=1})),transitionLayout:Object(y.f)((function(e,t,a){var n=a.getState;e.setAnimationCounter(n().animationCounter+1),setTimeout((function(){e.setNextLayout()}),1e3)}))},oa=a(138),ra=a.n(oa),ia=function(){function e(t,a){Object(X.a)(this,e),this.title=void 0,this.sheetId=void 0,this.sheets=void 0,this.title=t,this.sheetId=a,this.sheets=new Map}return Object(q.a)(e,[{key:"getSheetRows",value:function(e){var t=this;return new Promise((function(a,n){var o=t.sheets.get(e);o?a(o.map((function(e){return e}))):n("sheet with title ".concat(e," did not exist"))}))}},{key:"addSheet",value:function(e,t){this.sheets.set(e,t)}}]),e}(),ca={key:"181P-SDszUOj_xn1HJ1DRrO8pG-LXyXNmINcznHeoK8k",gid:0},la={layoutDataGoogleSheet:null,cardDataGoogleSheet:null,parentGoogleSheet:void 0,parentSheetUrl:void 0,formUrl:void 0,layoutSheetUrl:void 0,cardSheetUrl:void 0,googleSheetsErrors:[],sheetsAreLoaded:Object(y.c)([function(e){return[e.layoutDataGoogleSheet,e.cardDataGoogleSheet,e.parentGoogleSheet]}],(function(e){return e.every((function(e){return null!==e}))})),fetchTopLevelSheet:Object(y.f)((function(e){try{ua("TOP_LEVEL","https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv").then((function(t){var a=t.rows[0];e.setFormUrl(a.googleForm),e.setLayoutsSheetUrl(a.layoutsSheet),e.setCardSheetUrl(a.cardsSheet),e.setParentSheetUrl("https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv"),e.fetchSheet([{name:"LAYOUTS",url:sa(a.layoutsSheet)},{name:"CARDS",url:sa(a.cardsSheet)}])})).catch((function(t){e.setLayoutsSheetUrl(sa("".concat("/cupboard-dxl-display","/LAYOUTS_BACKUP.csv"))),e.setCardSheetUrl(sa("".concat("/cupboard-dxl-display","/CARDS_BACKUP.csv"))),e.fetchSheet([{name:"LAYOUTS",url:"".concat("/cupboard-dxl-display","/LAYOUTS_BACKUP.csv")},{name:"CARDS",url:"".concat("/cupboard-dxl-display","/CARDS_BACKUP.csv")}])}))}catch(n){var t,a;console.log("DOING BACKUP"),e.addGoogleSheetError({errorType:"failed to fetch master google sheet",description:"failed to get the mater google sheet, reverting to local svg",source:null!==(t="https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv")?t:"NA",link:null!==(a="https://docs.google.com/spreadsheets/d/e/2PACX-1vRalMG47cvXmCbEqeIJWn5qwd9bPhHUV16_VN7LuKsv53YQdn9e8XSAzNulXCtP_BIFBTUy0Z5e6KKE/pub?output=csv")?a:"NA"})}})),fetchSheet:Object(y.f)(function(){var e=Object(Jt.a)(Ht.a.mark((function e(t,a,n){var o,r;return Ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log(o().cardSheetUrl,o().layoutSheetUrl),r=a.map((function(e){return ua(e.name,e.url)})),Promise.allSettled(r).then((function(e){var a=new ia("DSC App",ca.key),n=[];e.forEach((function(e,t){console.log(e),"fulfilled"==e.status&&(n.push(e),a.addSheet(e.value.sheetTitle,e.value.rows)),"rejected"==e.status&&console.error("failed ")})),t.setAppGoogleSheetData(a),a.getSheetRows("CARDS").then((function(e){t.setCardDataGoogleSheet(e)})),a.getSheetRows("LAYOUTS").then((function(e){t.setLayoutDataGoogleSheet(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),fetchAppGoogleSheet:Object(y.f)(function(){var e=Object(Jt.a)(Ht.a.mark((function e(t,a,n){var o,r,i;return Ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,r=ua("CARDS",o().cardSheetUrl),i=ua("LAYOUTS",o().layoutSheetUrl),Promise.allSettled([r,i]).then((function(e){var a=new ia("DSC App",ca.key),n=[];e.forEach((function(e,o){console.log(e),"fulfilled"==e.status&&(n.push(e),a.addSheet(e.value.sheetTitle,e.value.rows)),"rejected"==e.status&&(t.addGoogleSheetError({errorType:"failed to fetch layout or card sheet",description:"could not retrieve google sheet",source:"LAYOUTS/CARD",link:"NA"}),console.error("failed "))})),t.setAppGoogleSheetData(a),a.getSheetRows("CARDS").then((function(e){t.setCardDataGoogleSheet(e)})),a.getSheetRows("LAYOUTS").then((function(e){t.setLayoutDataGoogleSheet(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),setAppGoogleSheetData:Object(y.b)((function(e,t){e.parentGoogleSheet=t})),setCardDataGoogleSheet:Object(y.b)((function(e,t){e.cardDataGoogleSheet=t})),setLayoutDataGoogleSheet:Object(y.b)((function(e,t){e.layoutDataGoogleSheet=t})),setParentSheetUrl:Object(y.b)((function(e,t){e.parentSheetUrl=t})),setFormUrl:Object(y.b)((function(e,t){e.formUrl=t})),setCardSheetUrl:Object(y.b)((function(e,t){e.cardSheetUrl=t})),setLayoutsSheetUrl:Object(y.b)((function(e,t){e.layoutSheetUrl=t})),addGoogleSheetError:Object(y.b)((function(e,t){var a=e.googleSheetsErrors.map((function(e){return JSON.stringify(e)})),n=JSON.stringify(t);a.includes(n)||e.googleSheetsErrors.push(t)}))};function sa(e){var t=e.split("/")[5],a=e.split("gid=")[1];return"https://docs.google.com/spreadsheets/d/".concat(t,"/export?format=csv&gid=").concat(a)}function ua(e,t){var a;return new Promise((function(n,o){try{ra.a.parse(t,{download:!0,header:!0,delimiter:",",dynamicTyping:!0,complete:function(t){a=t.data,console.log(a),n({rows:a,sheetTitle:e})}})}catch(r){o("failed to get sheet")}}))}var da={appModel:$t,layoutsModel:na,googleSheetsModel:la},fa=Object(y.d)(da,{name:"Cuboard App Store"});g.a.render(u.a.createElement(y.a,{store:fa},u.a.createElement(Ft,null)),document.querySelector("#root"))},71:function(e,t,a){},87:function(e,t,a){},95:function(e,t,a){}},[[291,1,2]]]);
//# sourceMappingURL=main.396fe6b8.chunk.js.map