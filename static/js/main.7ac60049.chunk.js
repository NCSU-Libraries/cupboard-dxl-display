(this.webpackJsonpcuboard=this.webpackJsonpcuboard||[]).push([[0],{104:function(e,t,a){},119:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},159:function(e){e.exports=JSON.parse('{"title":"NEWFILLEDLAYOUT","author":"Webb Hinton","added":"2021-11-30T05:00:00.000Z","id":"NEWFILLEDLAYOUT_11/30/2021 14:00:20","sourceLayout":{"layout":{"lg":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"md":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"sm":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"xs":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}],"xxs":[{"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","x":2,"y":2,"w":1,"h":1,"static":false},{"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","x":3,"y":0,"w":1,"h":1,"minW":1},{"i":"https://www.lib.ncsu.edu/huntlibrary","x":3,"y":1,"w":1,"h":1,"minW":1}]},"layoutSettings":{"cardSettings":[],"gridSettings":{"defaultBackgroundColor":"red"}},"widgets":[{"id":"clock","contentType":"widget","isActive":false},{"id":"clock","contentType":"widget","isActive":false}]},"layout":{"lg":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"md":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"sm":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"xs":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}],"xxs":[{"w":1,"h":3,"x":0,"y":2,"i":"https://codepen.io/rcyou/embed/QEObEk?height=265&theme-id=light&default-tab=css,result","moved":false,"static":false},{"w":1,"h":3,"x":1,"y":2,"i":"https://sketchfab.com/models/e55956fee6444011b574bad021a03eae/embed?autostart=1","minW":1,"moved":false,"static":false},{"w":1,"h":4,"x":3,"y":1,"i":"https://plotly.com/python/","moved":false,"static":false},{"w":1,"h":2,"x":2,"y":3,"i":"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg","moved":false,"static":false},{"w":1,"h":3,"x":2,"y":0,"i":"https://imvr.lib.ncsu.edu/play/58","moved":false,"static":false},{"w":2,"h":2,"x":0,"y":0,"i":"clock","moved":false,"static":false},{"x":3,"y":0,"w":1,"h":1,"i":"https://matplotlib.org/stable/gallery/index.html"}]},"layoutWidgets":[{"id":"clock","contentType":"widget","isActive":false}]}')},166:function(e,t,a){},167:function(e,t,a){},172:function(e,t,a){},174:function(e,t,a){},187:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n,o,i,r,c,l,s=a(0),u=a.n(s),d=(a(166),a(167),a(160)),f=a(343),m=a(337),h=a(11);!function(e){e.DISPLAY="DISPLAY",e.EDIT="EDIT",e.CYCLE="CYCLE"}(n||(n={})),function(e){e.GRID="GRID",e.PREVIEW="PREVIEW",e.FULL_SCREEN="FULL_SCREEN"}(o||(o={})),function(e){e.CARD_TABLE_DATA="CARD_TABLE_DATA",e.DISPLAY_CARD="DISPLAY_CARD"}(i||(i={})),function(e){e.ACTIVE="ACTIVE",e.STATIC="STATIC",e.FIXED="FIXED",e.IMAGE="IMAGE"}(r||(r={})),function(e){e.PLACEHOLDER="PLACEHOLDER",e.CLOCK="CLOCK",e.IFRAME="IFRAME",e.CARD_ROW="CARD_ROW",e.LAYOUT="LAYOUT",e.WIDGET="WIDGET"}(c||(c={})),function(e){e.LAYOUT_TABLE="LAYOUT_TABLE",e.CARD_TABLE="CARD_TABLE",e.CARD_GRID="CARD_GRID",e.WIDGETS_TABLE="WIDGETS_TABLE"}(l||(l={}));var v=a(15),p=Object(v.e)(),g=p.useStoreActions,y=(p.useStoreDispatch,p.useStoreState);var b=function(){var e=g((function(e){return e.appModel.toggleAppMode})),t=y((function(e){return e.appModel.rotationSpeed})),a=y((function(e){return e.appModel.rotateLayouts})),n=g((function(e){return e.appModel.setRotationSpeed})),o=g((function(e){return e.appModel.setRotateLayouts}));return{appMode:y((function(e){return e.appModel.appMode})),rotationSpeed:t,setRotationSpeed:n,toggleAppMode:e,rotateLayouts:a,setRotateLayouts:o}},E=function(){var e=y((function(e){return e.appModel.activeCards})),t=y((function(e){return e.appModel.activeWidgets})),a=g((function(e){return e.layoutsModel.swapCardContent})),n=g((function(e){return e.layoutsModel.addWidget})),o=g((function(e){return e.layoutsModel.deleteCard})),i=g((function(e){return e.layoutsModel.addCard})),r=g((function(e){return e.layoutsModel.setBufferLayout})),c=y((function(e){return e.layoutsModel.activeLayout})),l=g((function(e){return e.layoutsModel.setRandomLayout}));return{activeCards:e,activeWidgets:t,setBufferLayout:r,activeLayout:c,deleteCard:o,addCard:i,swapCard:a,addWidget:n,setActiveLayout:g((function(e){return e.layoutsModel.setActiveLayout})),setRandomLayout:l}};function w(e,t){Object(s.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])}a(172);var x=a(23),O=a.n(x),S=a(32),C={uniforms:{time:{value:0}},vertexShader:"\n    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n  \n    float snoise(vec2 v) {\n        const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                            0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                            -0.577350269189626,  // -1.0 + 2.0 * C.x\n                            0.024390243902439); // 1.0 / 41.0\n        vec2 i  = floor(v + dot(v, C.yy) );\n        vec2 x0 = v -   i + dot(i, C.xx);\n        vec2 i1;\n        i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n        vec4 x12 = x0.xyxy + C.xxzz;\n        x12.xy -= i1;\n        i = mod289(i); // Avoid truncation effects in permutation\n        vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n            + i.x + vec3(0.0, i1.x, 1.0 ));\n  \n        vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n        m = m*m ;\n        m = m*m ;\n        vec3 x = 2.0 * fract(p * C.www) - 1.0;\n        vec3 h = abs(x) - 0.5;\n        vec3 ox = floor(x + 0.5);\n        vec3 a0 = x - ox;\n        m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n        vec3 g;\n        g.x  = a0.x  * x0.x  + h.x  * x0.y;\n        g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n        return 130.0 * dot(m, g);\n    }\n  \n  \n    \n  \n    uniform float u_time;\n    uniform vec2 u_randomisePosition;\n  \n    varying float vDistortion;\n    varying float xDistortion;\n    varying vec2 vUv;\n  \n    void main() {\n        vUv = uv;\n        vDistortion = snoise(vUv.xx * 3. - u_randomisePosition * 0.15);\n        xDistortion = snoise(vUv.yy * 1. - u_randomisePosition * 0.05);\n        vec3 pos = position;\n        pos.z += (vDistortion * 35.);\n        pos.x += (xDistortion * 25.);\n  \n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    }\n    ",fragmentShader:"\n    vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n    vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n  \n    float snoise(vec2 v) {\n        const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                            0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                            -0.577350269189626,  // -1.0 + 2.0 * C.x\n                            0.024390243902439); // 1.0 / 41.0\n        vec2 i  = floor(v + dot(v, C.yy) );\n        vec2 x0 = v -   i + dot(i, C.xx);\n        vec2 i1;\n        i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n        vec4 x12 = x0.xyxy + C.xxzz;\n        x12.xy -= i1;\n        i = mod289(i); // Avoid truncation effects in permutation\n        vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n            + i.x + vec3(0.0, i1.x, 1.0 ));\n  \n        vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n        m = m*m ;\n        m = m*m ;\n        vec3 x = 2.0 * fract(p * C.www) - 1.0;\n        vec3 h = abs(x) - 0.5;\n        vec3 ox = floor(x + 0.5);\n        vec3 a0 = x - ox;\n        m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n        vec3 g;\n        g.x  = a0.x  * x0.x  + h.x  * x0.y;\n        g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n        return 130.0 * dot(m, g);\n    }\n  \n  \n  \n  \n  \n    vec3 rgb(float r, float g, float b) {\n      return vec3(r / 255., g / 255., b / 255.);\n  }\n  \n  vec3 rgb(float c) {\n      return vec3(c / 255., c / 255., c / 255.);\n  }\n  \n  uniform vec3 u_bg;\n  uniform vec3 u_bgMain;\n  uniform vec3 u_color1;\n  uniform vec3 u_color2;\n  uniform float u_time;\n  \n  varying vec2 vUv;\n  varying float vDistortion;\n  \n  void main() {\n      vec3 bg = rgb(u_bg.r, u_bg.g, u_bg.b);\n      vec3 c1 = rgb(u_color1.r, u_color1.g, u_color1.b);\n      vec3 c2 = rgb(u_color2.r, u_color2.g, u_color2.b);\n      vec3 bgMain = rgb(u_bgMain.r, u_bgMain.g, u_bgMain.b);\n  \n      float noise1 = snoise(vUv + u_time * 0.08);\n      float noise2 = snoise(vUv * 2. + u_time * 0.1);\n  \n      vec3 color = bg;\n      color = mix(color, c1, noise1 * 0.6);\n      color = mix(color, c2, noise2 * .4);\n  \n      color = mix(color, mix(c1, c2, vUv.x), vDistortion);\n  \n      float border = smoothstep(0.1, 0.6, vUv.x);\n  \n      color = mix(color, bgMain, 1. -border);\n  \n      gl_FragColor = vec4(color, 1.0);\n  }\n    "},L=a(322),j=a(345),A=a(13);function I(e){if(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")}return"faulty date"}function D(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function k(e,t){return Math.random()*(t-e)+e}var T=new A.Vector2(1,2);function R(e,t,a){return new A.Vector3(e,t,a)}var M={pink:R(182,9,76),brightPink:R(241,3,66),darkPurple:R(42,8,56),orange:R(244,93,31),darkgrey:R(50,50,50),lightgrey:R(150,150,150),red:R(204,0,0)},N={u_bg:{type:"v3",value:M.lightgrey},u_bgMain:{type:"v3",value:M.lightgrey},u_color1:{type:"v3",value:M.lightgrey},u_color2:{type:"v3",value:M.lightgrey},u_time:{type:"f",value:0},u_randomisePosition:{type:"v2",value:T}},_=function(e){var t=e.position,a=Object(s.useRef)(),n=0,o=0,i=D(0,32),r=D(0,32),c=!1;return Object(S.b)((function(e){e.clock;a.current.uniforms.u_randomisePosition.value=new A.Vector2(o,o),a.current.uniforms.u_color1.value=new A.Vector3(function(e,t,a){return Math.floor(192+64*Math.cos((e*e-t*t)/300+a))}(i,r,n/2),function(e,t,a){return Math.floor(192+64*Math.sin((e*e*Math.cos(a/4)+t*t*Math.sin(a/3))/300))}(i,r,n/2),function(e,t,a){return Math.floor(192+64*Math.sin(5*Math.sin(a/9)+((e-100)*(e-100)+(t-100)*(t-100))/1100))}(i,r,n/2)),a.current.uniforms.u_time.value=n,n%.1===0&&(!1===c?(i-=1)<=0&&(c=!0):(i+=1)>=32&&(c=!1)),o+=.01,n+=.01})),u.a.createElement("mesh",{position:t,rotation:[A.MathUtils.degToRad(0),A.MathUtils.degToRad(0),A.MathUtils.degToRad(90)]},u.a.createElement("planeGeometry",{attach:"geometry",args:[400,window.innerWidth/2,45,45]}),u.a.createElement("shaderMaterial",{attach:"material",vertexShader:C.vertexShader,fragmentShader:C.fragmentShader,uniforms:N,ref:a}))},W=function(){var e=Object(s.useRef)();return u.a.createElement(S.a,{gl:{antialias:!1,alpha:!1}},u.a.createElement(L.a,{ref:e,position:[0,0,0],fov:75,aspect:window.innerWidth/window.innerHeight,near:.1,far:1e3}),u.a.createElement(_,{position:[0,0,-100],faceResolution:100}),u.a.createElement(j.a,null))},G=a(26),P=a.n(G),U=function(){var e=y((function(e){return e.appModel.appMode})),t=Object(s.useState)({x:window.innerWidth,y:window.innerHeight}),a=Object(h.a)(t,2),o=(a[0],a[1],Object(s.useState)({backgroundColor:"gray"})),i=Object(h.a)(o,2),r=i[0],c=i[1];Object(s.useEffect)((function(){var t=e==n.EDIT;c({position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:t?"white":"gray",transition:"background-color 0.5s ease"})}),[e]);var l=O()("background-container",{"background-container-display-mode":e==n.DISPLAY,"background-container-edit-mode":e==n.EDIT});return P.a.createPortal(u.a.createElement("div",{style:r,className:l},e===n.EDIT?u.a.createElement("div",{style:{position:"absolute",height:"100vh",width:"100vw",top:0,left:0,backgroundColor:"lightgrey",transition:"background-color 0.5s ease"}}):u.a.createElement("div",{className:"background-container"},u.a.createElement("div",{className:"shader-container"},u.a.createElement(W,null)),u.a.createElement("div",{className:"particle-container"}))),document.querySelector("#background"))},V=u.a.memo(U),B=a(21),F=(a(119),a(174),a(68)),z={idleTime:1e7,sheetLink:"https://docs.google.com/spreadsheets/d/1BR1AQ5Zmt_o_0dOm9AvDht0G3Q6RXQUhX71Vi4H7tTU/edit#gid=0",defaultIframeScale:.5,defaultEmbedScale:1,defaultLayoutName:"Poster2",formLink:"https://forms.gle/nc3UQFtFUtSaF5mu6",widgetIds:["clock","group label","info"],gridRows:6,gridCols:4,showModeSwitchButton:!1,useStaticLayout:!1,gridBottomPadding:50,rotationDuration:1e5},Y=a(1),H=a(3),J=a(4),Q=a(5),q=(a(187),a(150)),K=a.n(q),X=function(e){var t=e.card,a=e.scale,n=e.cardView,i=e.onError,r=e.onLoad,c=Object(s.useState)(!1),l=Object(h.a)(c,2),d=l[0],f=l[1],m=Object(s.useState)(!0),v=Object(h.a)(m,2),p=v[0],g=(v[1],Object(s.useState)(!1)),y=Object(h.a)(g,2),b=y[0],E=y[1],w=(O()("iframe-view-overlay",{"iframe-view-overlay-hidden":b,"iframe-view-overlay-loading":!b}),O()("iframe-container",{"iframe-container-hidden":!p}));Object(s.useEffect)((function(){console.log(n)}),[n]);var x={border:"none",transform:"scale(".concat(a,")"),width:"".concat(1/a*100,"%"),height:"".concat(1/a*100,"%"),transformOrigin:"top left"},S=t.src,C=t.contentType;return u.a.createElement("div",{className:w,onDoubleClick:function(){f(!d)}},"video"===C?u.a.createElement($,{onReady:function(e){E(!0)},src:t.src}):"image"===C?u.a.createElement("img",{onLoad:function(e){r(e)},onError:function(e){i(e)},src:S,style:{width:"100%",height:"100%",objectFit:n===o.PREVIEW?"contain":"cover",objectPosition:n===o.PREVIEW?"contain":"center"}}):u.a.createElement("iframe",{onLoad:function(e){E(!0)},src:S,style:d?{width:"100%",height:"100%",border:"5px blue"}:x}))},Z=u.a.memo(X),$=function(e){var t=e.src,a=e.onReady;return u.a.createElement("div",{className:"player-wrapper"},u.a.createElement(K.a,{className:"react-player",controls:!0,height:"100%",muted:!0,onReady:a,playing:!0,url:t,width:"100%"}))},ee=(u.a.PureComponent,a(28)),te=a(67),ae=(a(205),a(206),a(323)),ne=function(){return u.a.createElement("div",{className:"pulsar"},u.a.createElement(ae.a,{size:200}))},oe=["children","className","cardType"],ie=function(e){var t=e.children,a=e.className,n=(e.cardType,Object(ee.a)(e,oe));return u.a.createElement(te.c,Object.assign({},n,{type:"DEFAULT"}),(function(e,n){return u.a.createElement("div",Object.assign({},e.innerRef,{ref:e.innerRef,className:n.isDraggingOver?"droppable-hovered "+a:"droppable "+a}),u.a.createElement("div",{className:n.isDraggingOver?"droppable-overlay droppable-overlay-visible":"droppable-overlay droppable-overlay-hidden"},u.a.createElement(ne,null)),t,e.placeholder)}))},re=(a(276),function(){var e=Object(s.useState)(new Date),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){var e=setInterval((function(){n(new Date)}),1e3);return function(){clearInterval(e)}})),u.a.createElement("div",{style:{height:"100%",padding:".25em",width:"100%",fontSize:"4vw",fontWeight:600,color:"white",boxSizing:"border-box"}},u.a.createElement("div",null,"Data Experience Lab"),u.a.createElement("div",null,a.toLocaleTimeString("en-IT",{hour12:!0,timeStyle:"short"})))}),ce=(a(277),a(339)),le=(a(155),a(340)),se=function(e){var t=e.onClick,a=e.text,n=e.appearance,o=e.className,i=e.iconBefore,r=e.width,c=e.height,l=e.style,s=e.containerClass,d=e.fontSize,f=e.intent;return u.a.createElement("div",{className:s,onMouseUp:t,style:{width:r,height:"100%"}},u.a.createElement(le.a,{appearance:null!==n&&void 0!==n?n:"default",className:o,cursor:"pointer",fontSize:d,height:null!==c&&void 0!==c?c:void 0,iconBefore:null!==i&&void 0!==i?i:void 0,intent:null!==f&&void 0!==f?f:"none",style:l,width:null!==r&&void 0!==r?r:void 0},a))},ue=(a(285),function(e){var t=e.data,a=(e.className,Object(s.useState)(!1)),n=Object(h.a)(a,2);n[0],n[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"card-footer"},u.a.createElement("h2",{style:{}},t.title),u.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&apos standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book"," ")))}),de=(a(286),a(324)),fe=function(e){var t=e.onClick;e.action;return u.a.createElement("div",{className:"delete-button-container",onMouseUp:t,onClick:t,onTouchEnd:function(e){}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(de.a,{size:30})))},me=(a(287),a(325)),he=function(e){var t=e.onClick;Object(s.useRef)();return u.a.createElement("div",{className:"settings-button-container",onMouseUp:t},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(me.a,{size:15})))},ve=(a(288),a(326)),pe=a(327),ge=function(e){var t=e.title,a=e.children;return u.a.createElement("div",{className:"menu-input-row"},t,a)},ye=function(e){var t=e.setScale,a=e.scale;return u.a.createElement("div",{className:"scale-controls-grid"},u.a.createElement(se,{containerClass:"scale-controls-left",height:20,iconBefore:u.a.createElement(ve.a,{size:30}),onClick:function(){t(-.1)},width:20}),u.a.createElement("input",{onChange:function(e){t(parseInt(e.target.value))},style:{width:30},defaultValue:.5,type:"text",value:a.toString().slice(0,3)}),u.a.createElement(se,{containerClass:"scale-controls-right",height:20,iconBefore:u.a.createElement(pe.a,{size:30}),onClick:function(){t(.1)},width:20}))},be=function(e){var t=e.isShown,a=e.setScale,n=e.setBackgroundColor,o=e.setShowMenu,i=e.scale,r=Object(s.useRef)(null),c=w(r,(function(){o(!1)})),l={display:t?"flex":"none"};return u.a.createElement("div",Object.assign({className:"menu-container",ref:r,style:l},c),u.a.createElement(ge,{title:"Background Color:"},u.a.createElement("input",{className:"nodrag",defaultValue:"rbga(0,0,0,0)",onChange:function(e){n(e.target.value)},type:"color"})),u.a.createElement(ge,{title:"Scale: "},u.a.createElement(ye,{scale:i,setScale:a})))},Ee=a(338),we=function(e){var t=e.cardType,a=e.children,i=e.cardId,r=e.data,l=e.onClick,d=e.useAnimation,f=Object(s.useRef)(null),m=b().appMode,p=E().deleteCard,g=Object(s.useState)(o.GRID),y=Object(h.a)(g,2),x=y[0],S=y[1],C=Object(s.useState)(!1),L=Object(h.a)(C,2),j=(L[0],L[1]),A=Object(s.useState)(!1),I=Object(h.a)(A,2),D=(I[0],I[1]),T=Object(s.useState)(),R=Object(h.a)(T,2),M=R[0],N=R[1],_=Object(v.i)((function(){return{cardView:o.GRID,setCardView:Object(v.b)((function(e,t){e.cardView=t})),scale:"embed"===(null===r||void 0===r?void 0:r.contentType)?z.defaultEmbedScale:z.defaultIframeScale,setScale:Object(v.b)((function(e,t){e.scale+=t})),cardBackgroundColor:"",setBackgroundColor:Object(v.b)((function(e,t){e.cardBackgroundColor=t})),setShowMenu:Object(v.b)((function(e,t){e.showMenu=t})),toggleMenu:Object(v.b)((function(e){e.showMenu=!e.showMenu})),showMenu:!1,cardType:t,cardClass:Object(v.c)([function(e){return e.cardView}],(function(e){return O()("card",{"card-edit":m===n.EDIT,"card-display":m===n.DISPLAY&&e==o.GRID,"card-preview":e===o.PREVIEW,"card-fullscreen":e===o.FULL_SCREEN,"card-empty":m===n.EDIT&&!a,"card-empty-hidden":!a&&m==n.DISPLAY,"card-locked":G.cardType===c.CLOCK&&m===n.EDIT})})),cardInfoClass:Object(v.c)((function(e){return O()("info",{"info-hidden":m===n.EDIT,"info-display":m===n.DISPLAY,"info-preview":e.cardView===o.PREVIEW})})),handleCardPress:Object(v.g)((function(e,t,a){var c,l=a.getState,s=document.getElementById("root");if((s.style.pointerEvents="all")&&(s.style.pointerEvents="none"),setTimeout((function(){s.style.pointerEvents="all"}),1e3),m===n.DISPLAY&&void 0!=i)switch(l().cardView){case o.GRID:var u;if("widget"!==(null===r||void 0===r?void 0:r.contentType))e.setCardView(o.PREVIEW),console.log("SETTING CARD VIEW TO PREVIEW"),document.getElementById(null!==(u=null===r||void 0===r?void 0:r.id)&&void 0!==u?u:"view_card").style.zIndex="1000";break;case o.PREVIEW:e.setCardView(o.GRID),document.getElementById(null!==(c=null===r||void 0===r?void 0:r.id)&&void 0!==c?c:"view_card").style.zIndex="0"}}))}}),[m],(function(e){return{devTools:!1}})),W=Object(h.a)(_,2),G=W[0],P=W[1],U={scale:G.scale,setScale:P.setScale,setBackgroundColor:P.setBackgroundColor,setShowMenu:P.setShowMenu},V=O()("card-modal-backdrop",{"card-modal-backdrop-active":x===o.PREVIEW||x===o.FULL_SCREEN,"card-modal-backdrop-inactive":x===o.GRID}),B=O()("card-child-container",{"card-child-container-preview":G.cardView===o.PREVIEW,"card-child-container-fullscreen":G.cardView===o.FULL_SCREEN,"card-child-container-grid":G.cardView===o.GRID}),F=function(e){var t=e.keyCode,a=e.action,n=e.disabled;u.a.useEffect((function(){return n||o(),function(){i()}}));var o=function(){document.addEventListener("keydown",r)},i=function(){document.removeEventListener("keydown",r)},r=function(e){e.keyCode===t&&(e.preventDefault(),a(e))};return{enable:o,disable:i}}({keyCode:27,action:function(){x!==o.FULL_SCREEN&&x!==o.PREVIEW||S(o.GRID)},disabled:!1}),Y=(F.enable,F.disable,function(){if(m==n.EDIT&&r)return u.a.createElement(u.a.Fragment,null,u.a.createElement(fe,{onClick:function(){console.log("got delete button click"),p(r.id)},action:function(){p(r.id)}}),u.a.createElement(he,{onClick:function(e){P.toggleMenu()}}))}),H=function(){if(x===o.PREVIEW&&r&&"widget"!==r.contentType)return u.a.createElement(ue,{className:G.cardInfoClass,data:r})},J=Object(s.useRef)(null);w(J,(function(e){e.preventDefault(),console.log("clicked outside"),G.cardView==o.PREVIEW&&P.setCardView(o.GRID)}));var Q=function(e){j(!0)},q=function(e){ee("loaded"),D(!0)};Object(s.useEffect)((function(){if(f.current){var e,t,a,n=null===(e=f.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.parentElement;if(n)n.id=null!==(a=null===r||void 0===r?void 0:r.id)&&void 0!==a?a:"view_card"}}),[]);Object(s.useMemo)((function(){if(f.current){var e=f.current.getBoundingClientRect();return console.log(xe(e)),xe(e)}}),[G.cardView]);Object(s.useEffect)((function(){console.log(G.cardView),G.cardView===o.PREVIEW&&ee("preview"),G.cardView===o.GRID&&ee("none")}),[G.cardView]);var K={active:{opacity:1,transition:{delay:k(.4,.5),duration:.5}},preview:{opacity:1,transition:{duration:.2}},normal:{opacity:1},none:{opacity:1,x:0,y:0},error:{opacity:[1,0],backgroundColor:"red"},loaded:{outline:["0px solid green","4px solid green","0px solid green"],opacity:[0,1,1],transition:{delay:k(.4,.5),duration:.5},x:0,y:0},in:{opacity:[0,1],transition:{duration:.5}},out:{y:k(-50,50),opacity:[1,0],transition:{delay:k(.4,1.5),duration:.5}}},X=Object(s.useState)("none"),Z=Object(h.a)(X,2),$=Z[0],ee=Z[1];return Object(s.useEffect)((function(){a&&(d?(ee("out"),setTimeout((function(){ee("in"),N(a(G.scale,G.cardView,Q,q))}),500)):(ee("none"),N(a(G.scale,G.cardView,Q,q))))}),[a]),u.a.createElement(u.a.Fragment,null,u.a.createElement(Ee.a.div,{exit:{opacity:0,x:-300},ref:f,layoutId:"viewcard",className:G.cardClass,style:{transformOrigin:"center",willChange:"transform",height:"100%",backgroundColor:G.cardBackgroundColor},initial:m!==n.EDIT,variants:K,animate:$},a&&u.a.createElement("div",{className:V},u.a.createElement("div",{className:B,onMouseUp:function(){P.handleCardPress(),l&&l()},ref:J},"widget"!==(null===r||void 0===r?void 0:r.contentType)?[Y(),H()]:[Y()],M,u.a.createElement(be,Object.assign({},U,{isShown:G.showMenu}))),function(){if(x===o.FULL_SCREEN)return u.a.createElement(Oe,{onClick:function(){S(o.GRID)}})}())))},xe=function(e){var t=window.innerWidth,a=window.innerHeight,n=(window.innerWidth,window.innerWidth,t/2-1.5*e.width/2),o=a/2-1.5*e.height/2,i=e.x,r=e.y,c=n-i,l=o-r;return n<i&&(c=i-n,c*=-1),o<r&&(l=r-o,l*=-1),[c,l]},Oe=function(e){var t=e.onClick;return u.a.createElement("div",{className:"return-button-container"},u.a.createElement(se,{onClick:t,text:"Return",width:300}))};var Se=u.a.memo(we),Ce=function(e){var t=e.gridSettings,a=Object(F.WidthProvider)(F.Responsive),n=function(e,t){for(var a=[],n=0;n<e;n++)for(var o=0;o<t;o++)a.push({x:o,y:n});var i=a.map((function(e){return{x:e.x,y:e.y,w:1,h:1,i:"empty_card_[".concat(e.x,", ").concat(e.y,"]"),minW:1,maxW:1,minH:1,maxH:1,static:!1,isDraggable:!1,isResizable:!1,resizeHandles:[]}}));return{lg:i,md:i,sm:i,xs:i,xxs:i}}(z.gridRows,z.gridCols),o=n.lg.map((function(e){return e.i}));return u.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}},u.a.createElement(a,Object.assign({},t,{className:"card-layout",layouts:n,resizeHandles:[],preventCollision:!0,isDraggable:!1,isResizable:!1}),o.map((function(e,t){return u.a.createElement("div",{key:e},u.a.createElement(ie,{key:t,droppableId:e,cardType:c.PLACEHOLDER,className:"droppable-guide"},u.a.createElement(Se,{key:e,cardId:e,cardType:c.PLACEHOLDER,useAnimation:!1})))}))))},Le=u.a.memo(Ce);var je=a(344),Ae=function(){var e=b().appMode,t=E(),a=t.activeLayout,o=t.setBufferLayout,i=t.activeCards,r=t.activeWidgets;Object(s.useEffect)((function(){console.log(null===a||void 0===a?void 0:a.id)}),[null===a||void 0===a?void 0:a.id]);var l=Object(s.useState)({x:window.innerWidth,y:window.innerHeight}),d=Object(h.a)(l,2),f=d[0],m=(d[1],Object(je.a)(),Object(s.useRef)("")),v=Object(F.WidthProvider)(F.Responsive),p={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:z.gridCols,md:z.gridCols,sm:z.gridCols,xs:z.gridCols,xxs:z.gridCols},rowHeight:(f.y-z.gridBottomPadding)/z.gridRows,margin:[20,20],preventCollision:!0,compactType:null};return u.a.createElement("div",null,u.a.createElement("div",{className:"card-grid-container"},u.a.createElement(v,Object.assign({},p,{className:"card-layout",isDraggable:e===n.EDIT,isResizable:e===n.EDIT,layouts:a?a.layout:{lg:[]},onDragStart:function(e,t,a,n,o,i){i.style.border="2px solid cyan",i.style.border="4px solid cyan"},onLayoutChange:function(e){console.log(null===a||void 0===a?void 0:a.layout.lg),console.log("changed layout"),o({lg:e,md:e,sm:e,xs:e,xxs:e})},preventCollision:!0,resizeHandles:["se"],verticalCompact:!0}),[].concat(Object(B.a)(i),Object(B.a)(r)).map((function(e,t){return u.a.createElement("div",{className:"card-container",draggable:!0,key:e.id},u.a.createElement(ie,{cardType:c.IFRAME,className:"droppable-card",droppableId:e.id,key:t},u.a.createElement(Se,{cardId:t.toString(),cardType:c.IFRAME,data:e,onClick:function(){m.current=t.toString()},useAnimation:"widget"!==e.contentType},"widget"!==e.contentType?function(t,a,n,o){var i=e;return u.a.createElement(Z,{card:i,scale:t,cardView:a,onError:n,onLoad:o})}:function(t){return function(e){var t=void 0;switch(e.id){case"clock":t=u.a.createElement(Se,{useAnimation:!1,cardType:c.CLOCK,onClick:function(){}},(function(e){return u.a.createElement(re,null)}));break;case"info":t=u.a.createElement(Se,{useAnimation:!1,cardType:c.CLOCK},(function(e){return u.a.createElement("div",null)}))}return console.log(t),t}(e)})))})))),u.a.createElement(Le,{gridSettings:p}))},Ie=u.a.memo(Ae),De=function(e){var t=e.split("[")[1];return{x:Number.parseInt(t.charAt(0)),y:Number.parseInt(t.charAt(3))}},ke=function(e){var t=e.children,a=E(),n=a.addCard,o=a.swapCard,i=a.addWidget,r=a.setActiveLayout,c=y((function(e){return e.layoutsModel.externalLayouts}));return u.a.createElement(te.a,{onDragEnd:function(e){var t,a;if((null===(t=e.destination)||void 0===t?void 0:t.droppableId)!=(null===(a=e.source)||void 0===a?void 0:a.droppableId)){var s=e.source,u=e.destination,d=e.draggableId;if(console.log("dragged from ".concat(d," to ").concat(null===u||void 0===u?void 0:u.droppableId," current title: ","yes")),u)switch(s.droppableId){case l.CARD_TABLE:if(u.droppableId)if(u.droppableId.startsWith("empty")){var f=De(u.droppableId);n({sourceId:d,targetPosition:f}),console.log("dropped onto an empty card, adding card")}else o({sourceId:d,targetId:u.droppableId});break;case l.WIDGETS_TABLE:var m=De(u.droppableId);i({sourceId:d,targetPosition:m});break;case l.LAYOUT_TABLE:var h=c.filter((function(e){return e.id===d}))[0];r(h);break;default:console.log("got unkown drag source")}}}},t)},Te=(a(143),a(333)),Re=a(334),Me=a(73),Ne=a.n(Me),_e=(a(144),a(341)),We=a(157),Ge=a.n(We),Pe=a(158),Ue=function(e){var t=e.children,a=e.padding;return u.a.createElement("div",{style:{display:"flex",flexDirection:"row",padding:a}},t)},Ve=["dndType","className","children","dragAll"],Be=function(e){e.dndType;var t=e.className,a=e.children,n=e.dragAll,o=Object(ee.a)(e,Ve);return u.a.isValidElement(a)?u.a.createElement(te.b,o,(function(e,o){var i=n?e.dragHandleProps:{};return u.a.createElement(u.a.Fragment,null,u.a.createElement("tr",Object.assign({className:t,ref:e.innerRef},e.draggableProps,i),u.a.cloneElement(a,{provided:e})),u.a.createElement("tr",{style:{display:o.isDragging?"table-row":"none",backgroundColor:o.isDragging?"green":"none"}},u.a.cloneElement(a,{provided:e})))})):u.a.createElement("div",null)};Be.defaultProps={dragAll:!0};var Fe,ze,Ye=u.a.memo(Be),He=function(e){var t=e.headerTitle,a=e.setFilter,n=e.setFilterDirection,o=e.className,i=e.activeFilter,r=Object(s.useState)(!0),c=Object(h.a)(r,2),l=c[0],d=c[1],f=t===i;return u.a.createElement("th",{className:null!==o&&void 0!==o?o:"editor-panel-table-header",onClick:function(){a(t),d(!l),n(l)}},function(e){var t=e.split(" ").map((function(e){return function(e){var t,a=/^[a-z]{0,1}|\s\w/gi;return null===(t=(e=e.toLowerCase()).match(a))||void 0===t||t.forEach((function(t){e=e.replace(t,t.toUpperCase())})),e}(e)})).join(" ");return t}(t),f&&l?"\u25b2":f&&!l?"\u25bc":"")},Je=function(e){var t=e.card;return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("img",{className:t.isActive?"row-favicon-active":"row-favicon-inactive",src:"https://s2.googleusercontent.com/s2/favicons?domain_url=".concat(t.src)}),u.a.createElement("div",{style:{marginTop:"auto",marginBottom:"auto",textAlign:"left"}},t.src))},Qe=function(){var e=y((function(e){return e.appModel.availableCards})),t=g((function(e){return e.layoutsModel.clearCards})),a=g((function(e){return e.layoutsModel.resetLayout})),n=Object(s.useState)(),o=Object(h.a)(n,2),i=o[0],r=o[1],d=Object(s.useState)(!0),f=Object(h.a)(d,2),m=f[0],v=f[1],p=Object(s.useState)(e),b=Object(h.a)(p,2),E=b[0],w=b[1],x=Object(s.useState)(""),O=Object(h.a)(x,2),S=O[0],C=O[1],L=Object(s.useState)(e),j=Object(h.a)(L,2),A=j[0],D=j[1];Object(s.useEffect)((function(){if(0<S.length){var e=Ge.a.go(S,E.map((function(e){return e.title}))).map((function(e){return e.target})),t=E.filter((function(t){return e.includes(t.title)}));D(t)}else D(E)}),[S,E]),Object(s.useEffect)((function(){var t=i,a=Object(B.a)(e).sort((function(e,a){var n=e[t],o=a[t];if(n&&o){if(n<o)return-1;if(o<n)return 1}return 0}));!m&&a.reverse(),w(a)}),[i,e,m]);return u.a.createElement("div",{className:"contents-tab-container"},u.a.createElement(Ue,{padding:"0.5em"},u.a.createElement(_e.a,{onChange:function(e){return C(e.currentTarget.value)},placeholder:"search title",width:"80%"}),u.a.createElement(se,{appearance:"default",intent:"danger",onClick:function(e){a()},text:"Reset Layout"}),u.a.createElement(se,{appearance:"minimal",intent:"danger",onClick:function(e){t()},text:"Clear All"})),u.a.createElement(ie,{cardType:c.CLOCK,className:"table-container",droppableId:l.CARD_TABLE,isDropDisabled:!0},u.a.createElement("table",{className:"contents-tab-table"},u.a.createElement("tbody",null,u.a.createElement("tr",null,["title","added","sourceId","author","interaction"].map((function(e,t){return u.a.createElement(He,{activeFilter:i,className:"contents-table-header",headerTitle:e,key:t,setFilter:r,setFilterDirection:v})}))))),u.a.createElement(Pe.Scrollbars,{autoHeight:!0,autoHeightMax:319,autoHeightMin:100,onScrollFrame:function(e){return console.log(e)}},u.a.createElement("table",{style:{padding:"2em"}},u.a.createElement("tbody",null,A.map((function(e,t){var a=e.added,n=e.src,o=e.author,i=e.interaction,r=e.sourceId,l=e.isActive;return u.a.createElement(Ye,{className:l?"content-row-active":"content-row-inactive",dndType:c.CARD_ROW,draggableId:r,index:t,isDragDisabled:l,key:t.toString()},u.a.createElement(u.a.Fragment,null,u.a.createElement("td",null,u.a.createElement(Je,{card:e})),u.a.createElement("td",null,I(a)),u.a.createElement("td",null,n),u.a.createElement("td",null,o),u.a.createElement("td",null,i)))})))))))},qe=a(49),Ke=(a(306),a(307),function(e){var t,a=e.children,n=e.className,o=e.padding,i=e.flexDirection,r={padding:null!==o&&void 0!==o?o:"0em",flexDirection:null!==i&&void 0!==i?i:"column"};return u.a.createElement("div",{style:r,className:null!==(t="panel "+n)&&void 0!==t?t:""},a)}),Xe=(a(308),a(104),a(309),function(e){var t=e.children,a=e.active,n=e.containerClassName,o=e.onClose,i=e.backdropOpacity;return u.a.createElement("div",{className:"modal-container",style:{display:a?"flex":"none",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"}},u.a.createElement(Ze,{onClose:o,backdropOpacity:null!==i&&void 0!==i?i:0}),u.a.createElement("div",{style:{zIndex:1e3},className:n},t))}),Ze=function(e){var t=e.onClose,a=e.backdropOpacity;return u.a.createElement("div",{onMouseUp:t,style:{opacity:a,zIndex:200},className:"pop-up-background"})},$e=a(329),et=a(330),tt=a(331),at=(a(310),function(e){var t=e.visible,a=e.onCloseComplete,n=(y((function(e){return e.layoutsModel.activeLayout})),y((function(e){return e.layoutsModel.layoutsString}))),o=Object(s.useState)(t),i=Object(h.a)(o,2),r=i[0],c=(i[1],Object(s.useState)(!1)),l=Object(h.a)(c,2),d=l[0],f=l[1];console.log("HELLO IM HERE"),Object(s.useEffect)((function(){console.log(n)}),[n]);E().activeLayout;var m=y((function(e){return JSON.stringify(e.layoutsModel.activeLayout)})),v=y((function(e){return JSON.stringify(e.layoutsModel.bufferLayout)}));Object(s.useEffect)((function(){console.log(v)}),[v]),Object(s.useEffect)((function(){console.log(m)}),[m]),console.log(m);var p=O()("copy-field-container",{"copy-field-container-closed":d});return P.a.createPortal(u.a.createElement(Xe,{onClose:a,active:r,containerClassName:"google-form-popup",backdropOpacity:.5},u.a.createElement("div",{className:"google-form-popup-inner-container"},u.a.createElement($e.a,{color:d?"green":""},"1. Press the Copy Button"),u.a.createElement($e.a,null,d?"2. Fill out the form, and paste the copied text into the Content field, then submit":""),u.a.createElement("div",{className:p},u.a.createElement(nt,{onCopy:function(e){f(!0)},onCloseComplete:a,text:m}))),d?u.a.createElement(ot,{src:"https://docs.google.com/forms/d/e/1FAIpQLSeKP2imQv_UCj4qrGNk7mT6Rzz83F30IvEl8ZFdERIdzSnvig/viewform?usp=sf_link"}):u.a.createElement(u.a.Fragment,null)),document.querySelector("#google-form-popup"))}),nt=function(e){var t=e.text,a=e.onCloseComplete,n=e.onCopy,o=(e.isCurrentClipBoardContent,Object(s.useState)(!1)),i=Object(h.a)(o,2),r=i[0],c=i[1],l=Object(s.useState)(!1),d=Object(h.a)(l,2),f=d[0],m=d[1];O()("copy-field",{"copy-field-success":f&&r,"copy-field-failure":!f&&!r});return Object(s.useEffect)((function(){navigator.clipboard.readText().then((function(e){t===e?(c(!0),m(!0)):(m(!1),c(!1))})).catch((function(e){console.error("Failed to read clipboard contents:",e)}))}),[t]),u.a.createElement("div",null,u.a.createElement(se,{iconBefore:u.a.createElement(et.a,null),text:"Copy Layout To Clip Board",onClick:function(e){navigator.clipboard.writeText(t),m(!0),n(e)},width:"100%",intent:"success",appearance:"primary"}),r?u.a.createElement(ce.a,{intent:"success"},"Clipboard is current"):u.a.createElement(ce.a,{intent:"warning"},"Current clipboard content is out of sync with current layout, copy the layout to clipboard again."),u.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"1em"}},u.a.createElement(se,{iconBefore:u.a.createElement(tt.a,null),text:"Return",onClick:a})))},ot=function(e){var t=e.src;return u.a.createElement("iframe",{src:t,className:"google-form-iframe",width:"100%",frameBorder:0,marginHeight:0,marginWidth:0})},it=a(342),rt=function(){var e=y((function(e){return e.layoutsModel.externalLayouts})),t=y((function(e){return e.layoutsModel.activeLayout})),a=g((function(e){return e.layoutsModel.setActiveLayout}));return u.a.createElement("div",null,u.a.createElement(ie,{className:"table-container",droppableId:l.LAYOUT_TABLE,isDropDisabled:!1,cardType:c.CLOCK},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Title"),u.a.createElement("th",null,"Date Added"),u.a.createElement("th",null,"Author")))),u.a.createElement("table",null,u.a.createElement("tbody",null,e.map((function(e,n){var o=e.id,i=e.title,r=e.author,c=e.added;return u.a.createElement("tr",{key:n,onClick:function(t){return a(e)}},u.a.createElement("td",{key:n},o===(null===t||void 0===t?void 0:t.id)?u.a.createElement(it.a,{color:"success"}):u.a.createElement(u.a.Fragment,null),i),u.a.createElement("td",null,I(c)),u.a.createElement("td",null,r))}))))))},ct=function(){var e=y((function(e){return e.layoutsModel.activeLayout})),t=y((function(e){return e.layoutsModel.bufferLayout})),a=Object(s.useState)(!1),n=Object(h.a)(a,2),o=n[0],i=n[1],r=(g((function(e){return e.googleSheetsModel.fetchAppGoogleSheet})),g((function(e){return e.googleSheetsModel.fetchTopLevelSheet}))),c=Object(s.useState)(JSON.stringify(e)),l=Object(h.a)(c,2),d=(l[0],l[1]);Object(s.useEffect)((function(){d(JSON.stringify(t))}),[e,t]);return u.a.createElement(Ke,null,u.a.createElement("div",{style:{display:"flex",width:"100%",padding:".5em",justifyContent:"flex-start"}},u.a.createElement(se,{iconBefore:u.a.createElement(ae.a,null),onClick:function(e){i(!0)},text:"Add New Layout",width:"55%",intent:"success",appearance:"primary"})),o?u.a.createElement(at,{onCloseComplete:function(){r(),i(!1)},visible:o}):u.a.createElement(u.a.Fragment,null),u.a.createElement("div",null,u.a.createElement(rt,null)))},lt=a(332),st=function(e){var t=e.children;return u.a.createElement("div",{style:{color:"white"}},t)},ut=function(){var e=b(),t=(e.rotationSpeed,e.setRotationSpeed),a=e.setRotateLayouts,n=Object(s.useState)(""),o=Object(h.a)(n,2),i=o[0],r=(o[1],u.a.useState(!0)),c=Object(h.a)(r,2),l=c[0],d=c[1];return Object(s.useEffect)((function(){console.log(l),a(l),l||t(1e4)}),[l]),Object(s.useEffect)((function(){console.log(i)}),[i]),u.a.createElement("div",{style:{padding:".5em",height:100,pointerEvents:"all"}},u.a.createElement(st,null,"Rotate Layouts"),u.a.createElement(lt.a,{checked:l,onChange:function(e){return d(e.target.checked)}}))},dt=function(){return u.a.createElement(qe.d,null,u.a.createElement(qe.b,null,u.a.createElement(qe.a,null,"Content"),u.a.createElement(qe.a,null,"Layouts"),u.a.createElement(qe.a,null,"App Settings")),u.a.createElement(qe.c,null,u.a.createElement(Qe,null)),u.a.createElement(qe.c,null,u.a.createElement(ct,null)),u.a.createElement(qe.c,null,u.a.createElement(ut,null)))},ft=function(){var e=y((function(e){return e.appModel.appMode})),t=Object(s.useState)(!1),a=Object(h.a)(t,2),o=a[0],i=a[1],r=O()("editor-panel",{"editor-panel-full":!o,hidden:e===n.DISPLAY,"editor-panel-minimized":o}),c=O()("editor",{"editor-visible":e===n.EDIT});return P.a.createPortal(u.a.createElement(Ne.a,{bounds:{left:0,top:0,right:window.innerWidth-50,bottom:window.innerHeight-50},defaultClassName:r,defaultPosition:{x:100,y:100},handle:".editor-panel-handle"},u.a.createElement("div",{className:c},u.a.createElement(mt,null,u.a.createElement(ht,{icon:u.a.createElement(Te.a,null),onMouseUp:function(){i(!1)}}),u.a.createElement(ht,{icon:u.a.createElement(Re.a,null),onMouseUp:function(){i(!0)}})),u.a.createElement(dt,null))),document.querySelector("#editor-panel-container"))},mt=function(e){var t=e.children;return u.a.createElement("div",{className:"editor-panel-handle panel-header"},t)},ht=function(e){var t=e.icon,a=e.onMouseUp;return u.a.createElement("div",{className:"window-button",onMouseUp:a},t)},vt=a(335),pt=a(328),gt=function(e){var t=e.active,a=e.onClose;return Object(s.useEffect)((function(){console.log(t)}),[t]),P.a.createPortal(u.a.createElement(Xe,{active:t,onClose:a,backdropOpacity:0},u.a.createElement(Ee.a.div,{variants:{hidden:{y:100,opacity:0},visible:{opacity:1,y:0,transition:{duration:.5}}},style:{width:"30vw",height:"80vh",backgroundColor:"white",borderRadius:10,padding:"1em"},animate:t?"visible":"hidden"},u.a.createElement(Ke,null,u.a.createElement($e.a,null,"Connect Labtop"),u.a.createElement("hr",null),u.a.createElement(pt.a,null,"Connect your labtop to use this screen as a display."),u.a.createElement("img",{className:"how-to-image",src:"/cupboard-dxl-display/labtopdiagram.png"}),u.a.createElement($e.a,null,"Explore Content"),u.a.createElement("hr",null),u.a.createElement(pt.a,null,"Click on a card to explore data related content."),u.a.createElement("img",{className:"how-to-image",src:"/cupboard-dxl-display/masonary.png"})))),document.getElementById("popup-container"))},yt=function(){var e=function(e){var t=Object(s.useState)(e),a=Object(h.a)(t,2),n=a[0],o=a[1];return[n,function(){return o(!n)}]}(!1),t=Object(h.a)(e,2),a=t[0],o=t[1],i=b().appMode;return P.a.createPortal(u.a.createElement(u.a.Fragment,null,i===n.DISPLAY&&u.a.createElement(gt,{active:a,onClose:o}),i===n.DISPLAY&&u.a.createElement(se,{appearance:"primary",className:"how-to-use-button",fontSize:"xx-large",height:"4vh",iconBefore:u.a.createElement(vt.a,null),onClick:o,text:"Learn how to use this display",width:"35vw"})),document.querySelector("#how-to-use-button"))},bt=a(9),Et=a(336),wt=function(){var e=g((function(e){return e.appModel.toggleAppMode})),t=Object(Et.a)((function(){e()})),a={position:"absolute",width:50,height:50,border:z.showModeSwitchButton?"1px solid red":"none",bottom:0,left:0,opacity:0};return P.a.createPortal(u.a.createElement(Ee.a.div,{style:Object(bt.a)(Object(bt.a)({},a),{},{backgroundColor:"white"}),whileTap:{backgroundColor:"green",opacity:1}},u.a.createElement("div",Object.assign({style:a},t)),","),document.querySelector("#mode-change-button"))},xt=function(e){var t=e.children;e.padding;return u.a.createElement("div",{style:{width:"100vw",height:"100vh"}},t)},Ot=function(){var e,t=Object(f.a)(z.idleTime,!1),a=g((function(e){return e.googleSheetsModel.fetchTopLevelSheet})),o=E(),i=(o.setRandomLayout,o.activeLayout,b()),r=i.appMode,c=i.toggleAppMode;i.rotateLayouts;return Object(m.a)((function(){n.DISPLAY}),z.rotationDuration),Object(s.useEffect)((function(){r===n.EDIT&&c()}),[t]),e=function(){a()},Object(s.useEffect)(e,[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(yt,null),u.a.createElement(V,null),u.a.createElement(wt,null),u.a.createElement(ke,null,u.a.createElement(ft,null),u.a.createElement(xt,null,u.a.createElement(d.a,null,u.a.createElement(Ie,null)))))},St=a(22),Ct=a.n(St),Lt=a(35);!function(e){e.CROSS_ORIGIN="CROSS_ORIGIN"}(Fe||(Fe={})),function(e){e.MALFORMED_URL="MALFORMED_URL"}(ze||(ze={}));var jt=function(){function e(t){Object(Y.a)(this,e),this.url=void 0,this.errors=void 0,this.warnings=void 0,this.errors=[],this.warnings=[],this.url=t}return Object(H.a)(e,[{key:"validate",value:function(e){var t;console.log(this.errors);var a=function(e){var t=[];new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)||t.push(ze.MALFORMED_URL);return t}(this.url);(t=this.warnings).push.apply(t,Object(B.a)(a)),console.log(a)}},{key:"isValid",value:function(){return 0==this.errors.length}},{key:"errorMessages",value:function(){var e=this,t=[];return this.errors.map((function(a){if(a===Fe.CROSS_ORIGIN)t.push("Blocked a frame with origin ".concat(e.url,"; from accessing a cross-origin frame."));else console.log("error did not match an error enum")})),t}}]),e}();var At=function(){function e(t){var a;Object(Y.a)(this,e),this.id=void 0,this.src=void 0,this.title=void 0,this.added=void 0,this.sourceId=void 0,this.author=void 0,this.interaction=void 0,this.contentType=void 0,this.metaData=void 0,this.validator=void 0,this.isActive=void 0,this.failed=void 0,this.id=t.src,this.src=t.src,this.title=t.title,this.added=new Date(t.added),this.sourceId=t.src,this.author=t.author,this.interaction=r[t.interaction],this.contentType=function(e){return"string"===typeof e&&/[./](gif|jpg|jpeg|tiff|png)$/i.test(e)}(a=this.src)?"image":function(e){return"string"===typeof e&&/[./](mp4|webm|mov)$/i.test(e)}(a)?"video":function(e){return"string"===typeof e&&e.includes("embed")}(a)?"embed":function(e){return"string"===typeof e&&e.includes("https")}(a)?"website":"widget","widget"===this.contentType&&t.widgetType?(this.metaData={widgetType:t.widgetType},this.id=t.widgetType):(this.metaData={src:t.src,title:t.title,added:new Date(t.added),sourceId:t.src,author:t.author},this.id=t.src),this.isActive=!1,this.validator=new jt(this.src),this.failed=!1}return Object(H.a)(e,[{key:"setActive",value:function(e){this.isActive=e}},{key:"fail",value:function(){console.log(this.validator.errors),this.failed=!0}}]),e}();var It=function(){function e(t){Object(Y.a)(this,e),this.id=void 0,this.contentType=void 0,this.isActive=void 0,this.id=t,this.isActive=!1,this.contentType="widget"}return Object(H.a)(e,[{key:"setActive",value:function(e){this.isActive=e}}]),e}(),Dt=z.widgetIds.map((function(e){return new It(e)})),kt={availableCards:[],availableWidgets:Dt,activeWidgets:[],activeCards:[],rotateLayouts:!0,rotationSpeed:z.rotationDuration,appMode:n.DISPLAY,manageViewModeChange:Object(v.g)((function(e,t){switch(e.setAppMode(t),t){case n.EDIT:case n.DISPLAY:case n.CYCLE:break;default:console.log("reached default in set view mode thunk")}})),toggleAppMode:Object(v.g)((function(e,t,a){var o=a.getState;switch(o().appMode){case n.EDIT:e.setAppMode(n.DISPLAY);break;case n.DISPLAY:e.setAppMode(n.EDIT);break;case n.CYCLE:break;default:console.log("reached default in set view mode thunk")}console.log(o().appMode)})),setAvailableCards:Object(v.b)((function(e,t){e.availableCards=t})),setActiveCards:Object(v.b)((function(e,t){e.activeCards=t})),setActiveWidgets:Object(v.b)((function(e,t){e.activeWidgets=t})),setAppMode:Object(v.b)((function(e,t){e.appMode=t})),setRotationSpeed:Object(v.b)((function(e,t){e.rotationSpeed=t})),setRotateLayouts:Object(v.b)((function(e,t){e.rotateLayouts=t})),onCardSheetLoadSuccess:Object(v.h)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),function(){var e=Object(Lt.a)(Ct.a.mark((function e(t,a){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TRIGGERD"),console.log(a.payload),a.payload.getSheetRows("CARDS").then((function(e){console.log(e);var a=e.map((function(e){return{src:e.src,title:e.title,added:e.added,sourceid:e.sourceid,author:e.author,interaction:e.interaction}})).map((function(e){return new At(e)}));t.setAvailableCards(a)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),onSetActiveLayout:Object(v.h)((function(e,t){return t.layoutsModel.setActiveLayout}),function(){var e=Object(Lt.a)(Ct.a.mark((function e(t,a,n){var o,i,r,c,l,s,u;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getState,r=new Set(a.payload.sources()),c=new Set(null!==(o=a.payload.layoutWidgets.map((function(e){return e.id})))&&void 0!==o?o:[]),l=i().availableCards.map((function(e){return r.has(e.sourceId)?e.setActive(!0):e.setActive(!1),e})),s=i().availableCards.filter((function(e){return r.has(e.sourceId)})),u=Dt.filter((function(e){return c.has(e.id)})),t.setAvailableCards(l),t.setActiveCards(s),console.log(u),t.setActiveWidgets(u);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),registerCardLoadFailure:Object(v.g)((function(e,t,a){var n=a.getState;a.getStoreState;console.log("Got card Register Load Failure at Layouts Model"),console.log(t);var o=n().activeCards,i=t.sourceId,r=o.map((function(e){return e.sourceId===i&&(console.log("found failed"),e.fail()),e}));e.setActiveCards(r)})),onSwapCardContent:Object(v.h)((function(e,t){return t.layoutsModel.swapCardContent}),function(){var e=Object(Lt.a)(Ct.a.mark((function e(t,a,n){var o,i;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log("got swap card content"),console.log(a.payload),console.log(o().activeCards),(i=o().activeCards.map((function(e){if(e.sourceId===a.payload.targetId){var t=o().availableCards.find((function(e){return e.sourceId===a.payload.sourceId}));return console.log(t),t}return e})))&&t.setActiveCards(i),console.log(Object(v.f)(a));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}())},Tt=kt,Rt=a(29),Mt={layout:{lg:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],md:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],sm:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],xs:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}],xxs:[{w:2,h:1,x:0,y:0,i:"clock",moved:!1,static:!0},{w:2,h:2,x:2,y:0,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/DuBois_Racism.png",moved:!1,static:!1},{w:1,h:2,x:0,y:1,i:"https://raw.githubusercontent.com/wyhinton/dxl_content/master/images/VideoGames.jpeg",moved:!1,static:!1}]},layoutSettings:{gridSettings:{defaultBackgroundColor:"red"},cardSettings:[]},widgets:[]},Nt=function(){function e(t){Object(Y.a)(this,e),this.title=void 0,this.author=void 0,this.added=void 0,this.id=void 0,this.sourceLayout=void 0,this.layout=void 0,this.layoutWidgets=void 0;var a=function(e){var t=JSON.parse(e.layout);return t.layout?t:Mt}(t),n=(a.widgets,a.layout);a.layoutSettings;this.id=t.title+"_"+t.timestamp,this.title=t.title,this.author=t.author,this.added=new Date(t.timestamp.split(" ")[0]),console.log(t.layout),this.sourceLayout=JSON.parse(t.layout).layout,console.log(t),console.log(JSON.parse(t.layout)),JSON.parse(t.layout).layoutWidgets?this.layoutWidgets=JSON.parse(t.layout).layoutWidgets:this.layoutWidgets=[],this.layout=n}return Object(H.a)(e,[{key:"swapCard",value:function(e){for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(h.a)(a[t],2),i=o[0],r=o[1],c=Object(Rt.a)(r.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(h.a)(n.value,2),s=l[0];l[1].i==e.targetId&&(r[s].i=e.sourceId)}}catch(u){c.e(u)}finally{c.f()}this.layout[i]=r}}},{key:"removeCard",value:function(e){console.log(this.layout);for(var t=0,a=Object.entries(this.layout);t<a.length;t++){var n,o=Object(h.a)(a[t],2),i=o[0],r=o[1],c=Object(Rt.a)(r.entries());try{for(c.s();!(n=c.n()).done;){var l=Object(h.a)(n.value,2);l[0],l[1];this.layout[i]=r.filter((function(t){return t.i!==e}))}}catch(s){c.e(s)}finally{c.f()}}}},{key:"clearCards",value:function(){console.log(this.layout);for(var e=0,t=Object.entries(this.layout);e<t.length;e++){var a,n=Object(h.a)(t[e],2),o=n[0],i=n[1],r=Object(Rt.a)(i.entries());try{for(r.s();!(a=r.n()).done;){var c=Object(h.a)(a.value,2);c[0],c[1];this.layout[o]=[]}}catch(l){r.e(l)}finally{r.f()}}}},{key:"addCard",value:function(e,t){console.log("ADDING CARD AT LAYOUT DATA"),console.log(this.layout),Object.entries(this.layout)[0][1].map((function(e){return e.i})).includes(e.sourceId)&&console.log("ADDING SOMETHING THAT'S ALREADY PRESENT");for(var a=0,n=Object.entries(this.layout);a<n.length;a++){var o=Object(h.a)(n[a],2),i=o[0],r=(o[1],{x:t.x,y:t.y,w:1,h:1,i:e.sourceId});this.layout[i].push(r)}}},{key:"addWidget",value:function(e,t){Object.entries(this.layout)[0][1].map((function(e){return e.i})).includes(e.id)&&console.log("ADDING A WIDGET THAT'S ALREADY PRESENT"),this.layoutWidgets.push(e);for(var a=0,n=Object.entries(this.layout);a<n.length;a++){var o=Object(h.a)(n[a],2),i=o[0],r=(o[1],{x:t.x,y:t.y,w:1,h:1,i:e.id});this.layout[i].push(r)}}},{key:"resetLayout",value:function(){console.log("RESETING LAYOUT"),this.layout=JSON.parse(JSON.stringify(this.sourceLayout))}},{key:"failCard",value:function(e){console.log("FAILING CARD AT LAYOUT DATA")}},{key:"setGridLayout",value:function(e){console.log(e),this.layout=e}},{key:"sources",value:function(){return Object.entries(this.layout)[0][1].map((function(e){return e.i}))}},{key:"widgets",value:function(){console.log("GETTING WIDGETS AT WIDGET LAYOUTDATA");var e=Object.entries(this.layout)[0][1];console.log(e);var t=e.filter((function(e){return z.widgetIds.includes(e.i)}));return console.log("just widgets",t),t.map((function(e){return e.i}))}}]),e}();var _t={activeLayout:void 0,externalLayouts:[],bufferLayout:a(159),layoutsString:Object(v.c)([function(e){return e.bufferLayout}],(function(e){return JSON.stringify(e)})),onSetAppGoogleSheetData:Object(v.h)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),(function(e,t){t.payload.getSheetRows("LAYOUTS").then((function(t){var a=t.map((function(e,t){return new Nt(e)}));if(z.useStaticLayout);else{var n=a.filter((function(e){return e.title===z.defaultLayoutName}))[0];n&&(console.log(n),e.setActiveLayout(n),e.setBufferLayout(n.layout))}e.setExternalLayouts(a)}))})),onToggleViewMode:Object(v.h)((function(e,t){return t.appModel.toggleAppMode}),(function(e,t,a){var o=a.getState,i=a.getStoreState,r=o().activeLayout,c=o().bufferLayout;i().appModel.appMode===n.DISPLAY&&(console.log("IT WAS IN DISPLAY MODE"),(null===r||void 0===r?void 0:r.layout)&&(r.layout=c,e.setActiveLayout(r)))})),setActiveLayout:Object(v.b)((function(e,t){console.log(t),e.activeLayout=t})),setRandomLayout:Object(v.g)((function(e,t,a){var n=(0,a.getState)(),o=n.externalLayouts,i=n.activeLayout;if(i){var r=o.map((function(e){return e.id})).indexOf(null===i||void 0===i?void 0:i.id);console.log(r);var c=(r+1)%o.length;console.log("SETTING LAYOUT INDEX TO ".concat(c," - ").concat(o[c].id," "));var l=o[c];e.setActiveLayout(l)}})),setExternalLayouts:Object(v.b)((function(e,t){console.log("setting external layouts"),e.externalLayouts=t})),swapCardContent:Object(v.g)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var i=n().bufferLayout;o.layout=i,o.swapCard(t),e.setActiveLayout(o)}})),deleteCard:Object(v.g)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var i=n().bufferLayout;o.layout=i,o.removeCard(t),e.setActiveLayout(o)}})),clearCards:Object(v.g)((function(e,t,a){var n=a.getState,o=n().activeLayout;if(o){var i=n().bufferLayout;o.layout=i,o.clearCards(),e.setActiveLayout(o)}})),addCard:Object(v.g)((function(e,t,a){var n=a.getState,o=(0,a.getStoreState)().appModel.availableCards,i=t.sourceId,r=t.targetPosition,c=o.find((function(e){return e.sourceId==i})),l=n().activeLayout;if(l&&c){var s=n().bufferLayout;l.setGridLayout(s),null===l||void 0===l||l.addCard(c,r),e.setActiveLayout(l)}})),addWidget:Object(v.g)((function(e,t,a){var n=a.getState,o=a.getStoreState;console.log("ADDING NEW WIDGET!!!");var i=o().appModel.availableWidgets,r=t.sourceId,c=t.targetPosition,l=i.find((function(e){return e.id==r})),s=n().activeLayout;if(s&&l){var u=n().bufferLayout;s.setGridLayout(u),null===s||void 0===s||s.addWidget(l,c),e.setActiveLayout(s)}})),registerCardLoadFailure:Object(v.g)((function(e,t,a){var n=a.getState,o=(a.getStoreState,n().activeLayout);o&&o.failCard(t)})),resetLayout:Object(v.g)((function(e,t,a){var n=a.getState;if(n().activeLayout){var o=n().activeLayout;null===o||void 0===o||o.resetLayout(),o&&e.setActiveLayout(o)}})),setBufferLayout:Object(v.b)((function(e,t){e.bufferLayout=t})),updateLayout:Object(v.b)((function(e,t){var a=e.activeLayout;a&&(a.swapCard(t),e.activeLayout=a)}))},Wt=_t,Gt={key:"181P-SDszUOj_xn1HJ1DRrO8pG-LXyXNmINcznHeoK8k",gid:0},Pt=function(){function e(t,a){Object(Y.a)(this,e),this.title=void 0,this.sheetId=void 0,this.sheets=void 0,this.title=t,this.sheetId=a,this.sheets=new Map}return Object(H.a)(e,[{key:"getSheetRows",value:function(e){var t=this;return new Promise((function(a,n){var o=t.sheets.get(e);o?a(o.map((function(e){return e}))):n("sheet with title ".concat(e," did not exist"))}))}},{key:"addSheet",value:function(e,t){this.sheets.set(e,t)}}]),e}(),Ut=a(115),Vt=a.n(Ut),Bt={layoutDataGoogleSheet:null,cardDataGoogleSheet:null,appGoogleSheet:void 0,formUrl:void 0,layoutSheetUrl:void 0,cardSheetUrl:void 0,fetchTopLevelSheet:Object(v.g)((function(e){zt("TOP_LEVEL","").then((function(t){console.log(t);var a=t.rows[0];e.setFormUrl(a.googleForm),e.setLayoutsSheetUrl(Ft(a.layoutsSheet)),e.setCardSheetUrl(Ft(a.cardsSheet)),e.fetchSheet([{name:"LAYOUTS",url:Ft(a.layoutsSheet)},{name:"CARDS",url:Ft(a.cardsSheet)}])})),console.log("GOT HERE")})),fetchSheet:Object(v.g)(function(){var e=Object(Lt.a)(Ct.a.mark((function e(t,a,n){var o,i;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log(o().cardSheetUrl,o().layoutSheetUrl),i=a.map((function(e){return zt(e.name,e.url)})),Promise.allSettled(i).then((function(e){var a=new Pt("DSC App",Gt.key),n=[];e.forEach((function(e,t){console.log(e),"fulfilled"==e.status&&(n.push(e),a.addSheet(e.value.sheetTitle,e.value.rows)),"rejected"==e.status&&console.error("failed ")})),t.setAppGoogleSheetData(a),a.getSheetRows("CARDS").then((function(e){t.setCardDataGoogleSheet(e)})),a.getSheetRows("LAYOUTS").then((function(e){t.setLayoutDataGoogleSheet(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),fetchAppGoogleSheet:Object(v.g)(function(){var e=Object(Lt.a)(Ct.a.mark((function e(t,a,n){var o,i,r;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getState,console.log(o().cardSheetUrl,o().layoutSheetUrl),i=zt("CARDS",o().cardSheetUrl),r=zt("LAYOUTS",o().layoutSheetUrl),Promise.allSettled([i,r]).then((function(e){var a=new Pt("DSC App",Gt.key),n=[];e.forEach((function(e,t){console.log(e),"fulfilled"==e.status&&(n.push(e),a.addSheet(e.value.sheetTitle,e.value.rows)),"rejected"==e.status&&console.error("failed ")})),t.setAppGoogleSheetData(a),a.getSheetRows("CARDS").then((function(e){t.setCardDataGoogleSheet(e)})),a.getSheetRows("LAYOUTS").then((function(e){t.setLayoutDataGoogleSheet(e)}))}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),setAppGoogleSheetData:Object(v.b)((function(e,t){e.appGoogleSheet=t})),setCardDataGoogleSheet:Object(v.b)((function(e,t){e.cardDataGoogleSheet=t})),setLayoutDataGoogleSheet:Object(v.b)((function(e,t){e.layoutDataGoogleSheet=t})),setFormUrl:Object(v.b)((function(e,t){e.formUrl=t})),setCardSheetUrl:Object(v.b)((function(e,t){e.formUrl=t})),setLayoutsSheetUrl:Object(v.b)((function(e,t){e.formUrl=t}))};function Ft(e){console.log(e);var t=e.split("/")[5],a=e.split("gid=")[1];return"https://docs.google.com/spreadsheets/d/".concat(t,"/export?format=csv&gid=").concat(a)}function zt(e,t){var a;return new Promise((function(n){console.log(t),Vt.a.parse(t,{download:!0,header:!0,delimiter:",",dynamicTyping:!0,complete:function(t){a=t.data,console.log(a),n({rows:a,sheetTitle:e})}})}))}var Yt={appModel:Tt,layoutsModel:Wt,googleSheetsModel:Bt},Ht=Object(v.d)(Yt,{name:"Cuboard App Store"});P.a.render(u.a.createElement(v.a,{store:Ht},u.a.createElement(Ot,null)),document.querySelector("#root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.7ac60049.chunk.js.map